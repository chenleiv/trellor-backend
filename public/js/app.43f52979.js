(function(e){function t(t){for(var r,o,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"38f3":function(e,t,a){e.exports=a.p+"img/1.8784e35e.jpg"},"3f1b":function(e,t,a){e.exports=a.p+"img/undraw_completed_tasks_vs6q.46b4b046.svg"},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id="4678"},"4e68":function(e,t,a){e.exports=a.p+"img/5.a8ff51f6.jpg"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{backgroundColor:e.boardStyle.bgColor,backgroundImage:e.boardStyle.bgImg},attrs:{id:"app"}},[a("main-header"),a("router-view",{on:{setBg:e.setBg}})],1)},s=[],o=a("1da1"),i=(a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"main-header main-layout"},[a("section",{staticClass:"header-container"},[a("div",{staticClass:"logo"},[a("router-link",{attrs:{to:"/workspace"}},[a("span",{staticClass:"el-icon-s-grid grid-icon"})]),a("router-link",{staticClass:"logo-trellor",attrs:{to:"/"}},[a("h1",[a("span",{staticClass:"logo-icon"}),e._v("Trellor")])])],1),a("div",{staticClass:"right-side"},[a("button",{staticClass:"alert"}),e.loggedInUser?e._e():a("router-link",{attrs:{to:"/login"}},[e._v(" Login")]),e.loggedInUser?a("el-popover",{attrs:{placement:"bottom-end",width:"100",title:"Hello, "+e.loggedInUser.fullname},model:{value:e.toggleUserMenu,callback:function(t){e.toggleUserMenu=t},expression:"toggleUserMenu"}},[e.loggedInUser?a("button",{staticClass:"logout-btn",on:{click:e.logout}},[e._v(" Logout ")]):e._e(),e.loggedInUser?a("avatar",{staticClass:"right-side-avatar",attrs:{slot:"reference",src:e.loggedInUser.imgUrl,backgroundColor:"darkslateblue",color:"#fff",size:30,username:e.loggedInUser.fullname},slot:"reference"}):e._e()],1):e._e()],1)])])}),c=[],l=a("4a89"),u=a.n(l),d=a("b0af");new d["a"].WebAuth({domain:"dev-84pqkjz5.us.auth0.com",clientID:"8GJjaeHcFQOb86aV8vMWJRXYKXl9BM1V",redirectUri:"",responseType:"token id_token",scope:"openid profile"});var p={name:"mainHeader",data:function(){return{headerColor:"",input:"",toggleUserMenu:!1}},created:function(){this.boardId=this.$route.params.boardId,this.boardId&&(this.headerColor="#00000073")},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser}},methods:{setSearchFilter:function(){},logout:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.toggleUserMenu=!1,t.prev=1,t.next=4,e.$store.dispatch({type:"logout"});case 4:"/login"!==e.$route.path&&e.$router.push("/login"),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("err in logout (login cmp)",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},components:{Avatar:u.a}},h=p,g=a("2877"),m=Object(g["a"])(h,i,c,!1,null,null,null),b=m.exports,v={name:"app",data:function(){return{boardId:null,boardStyle:{bgColor:"#fff",bgImg:"none"}}},created:function(){this.boardId=this.$route.params.boardId,this.loggedInUser||this.login()},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser}},methods:{setBg:function(e){console.log("new style",e),this.boardStyle=e},login:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={fullname:"Guest",username:"guest1@gmail.com",password:"guest123",imgUrl:"https://res.cloudinary.com/cloudinaryorb/image/upload/v1639142324/guest_b8lh6r.png"},t.next=4,e.$store.dispatch({type:"login",user:a});case 4:t.next=10;break;case 6:throw t.prev=6,t.t0=t["catch"](0),console.log("Error in Login :",t.t0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},watch:{"$route.params.boardId":{handler:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$route.params.boardId,!a){t.next=15;break}return t.prev=2,t.next=5,e.$store.dispatch({type:"getBoard",boardId:a});case 5:r=t.sent,e.boardStyle=r.style,t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Error in handler (main-header):",t.t0),t.t0;case 13:t.next=16;break;case 15:e.boardStyle={bgColor:"#00a1ff",bgImg:"none"};case 16:case"end":return t.stop()}}),t,null,[[2,9]])})))()},immediate:!0}},components:{mainHeader:b}},f=v,k=Object(g["a"])(f,n,s,!1,null,null,null),w=k.exports,C=a("9483");Object(C["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var y=a("8c4f"),x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("div",[r("div",{staticClass:"link"},[e._m(0),r("router-link",{attrs:{to:"/workspace"}},[r("h2",[e._v("Try Demo")])])],1),r("img",{attrs:{src:a("6fac"),alt:""}})])])},_=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",[a("h1",[e._v("Trellor: where powerful work gets done.")]),a("p",[e._v(" Make every project a success: customize your Trello workspace with more ways to visualize your work and dashboards to help every team do their best work ")])])}],I={name:"home",components:{}},T=I,S=Object(g["a"])(T,x,_,!1,null,null,null),j=S.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"workspace main-layout full"},[a("section",[e.atleastOneStarred?a("h4",{staticClass:"favorites"},[e._v("Favorites")]):e._e(),e.atleastOneStarred?a("div",{staticClass:"board-previews-container"},[e._l(e.boards,(function(t){return[t.isStarred?a("board-preview",{key:t._id,attrs:{board:t}}):e._e()]}))],2):e._e(),a("div",{staticClass:"board-previews-container"},[a("div",{staticClass:"add-board-btn",on:{click:e.openBoardModal}},[a("span",[e._v("Create new board")])]),e.isModalOpen?a("div",{staticClass:"modal-background",on:{click:function(t){e.isModalOpen=!1,e.openUnsplash=!1}}}):e._e(),e.isModalOpen?a("div",{staticClass:"modal-container"},[a("div",{staticClass:"add-board-modal",style:{backgroundColor:e.boardStyle.bgColor,backgroundImage:"linear-gradient(rgb(0 0 0 / 27%), rgb(0 0 0 / 10%)) ,"+e.boardStyle.bgImg}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newBoard.title,expression:"newBoard.title"}],attrs:{type:"text",placeholder:"Add board title"},domProps:{value:e.newBoard.title},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addBoard.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.newBoard,"title",t.target.value)}}})]),a("background-picker",{on:{chosenBg:e.chosenBg}}),a("div",{staticClass:"modal-board-btns"},[a("button",{attrs:{disabled:!e.newBoard.title.length},on:{click:e.addBoard}},[e._v(" Create board ")]),a("button",{on:{click:function(t){e.openUnsplash=!e.openUnsplash}}},[a("span",{}),e._v("More ")])])],1),e.openUnsplash?a("background-unsplash",{on:{onSaveImg:e.onSaveImg}}):e._e()],1):e._e(),e._l(e.boards,(function(t){return[t.isStarred?e._e():a("board-preview",{key:t._id,attrs:{board:t}})]}))],2)])])},E=[],O=(a("d3b7"),a("e9c4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",{attrs:{to:"/board/"+e.board._id}},[a("div",{staticClass:"board-preview",style:{backgroundColor:e.board.style.bgColor,backgroundImage:"linear-gradient(rgb(0 0 0 / 27%), rgb(0 0 0 / 10%)) ,"+e.board.style.bgImg}},[a("h4",{staticClass:"board-preview-title"},[e._v(e._s(e.board.title))]),a("span",{class:{starred:e.isStarred},on:{click:function(t){return t.preventDefault(),e.updateStarBoard.apply(null,arguments)}}})])])}),M=[],A={name:"boardPreview",props:{board:{type:Object,required:!0,default:function(){return{msg:"No Board"}}}},data:function(){return{isStarred:this.board.isStarred}},methods:{updateStarBoard:function(){this.isStarred=!this.isStarred;var e=JSON.parse(JSON.stringify(this.board));e.isStarred=this.isStarred,this.updateBoard(e)},updateBoard:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch({type:"updateBoard",board:e});case 3:a.sent,console.log("Board changed successfully"),a.next=11;break;case 7:throw a.prev=7,a.t0=a["catch"](0),console.log("Error in adding a board (workspace):",a.t0),a.t0;case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))()}}},R=A,U=Object(g["a"])(R,O,M,!1,null,null,null),L=U.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"background-picker"},[e._l(e.colorList,(function(t,a){return r("div",{key:a,staticClass:"color-box",class:{colorChoice:e.style.bgColor===t},style:{"background-color":t},attrs:{id:"color-box"+a},on:{click:function(a){return e.chooseBg("color",t)}}})})),e.withImgBg?e._l(e.imageList,(function(t,n){return r("div",{key:"a"+n,staticClass:"color-box",class:{colorChoice:e.style.bgImg==="url("+a("bb6e")("./"+t)+")"},style:{"background-image":"url("+a("bb6e")("./"+t)+")"},attrs:{id:"color-boxa"+n},on:{click:function(a){return e.chooseBg("image",t)}}})})):e._e()],2)},z=[],$={props:{withImgBg:{type:Boolean,default:!0}},data:function(){return{colorList:["#0079bf","#d29034","#519839","#b04632","#89609e","#cd5a91","#4bbf6b","#00aecc","#afafaf","#172b4d","#f5dd29","#d59a47"],imageList:["5.jpg","2.jpg","3.jpg","7.jpg","6.jpg","1.jpg"],style:{bgColor:"",bgImg:""}}},created:function(){},methods:{chooseBg:function(e,t){console.log("",e),"color"===e?(this.style.bgImg="none",this.style.bgColor=t):(this.style.bgColor="none",this.style.bgImg="url(".concat(a("bb6e")("./"+t),")")),this.$emit("chosenBg",this.style)}}},N=$,G=Object(g["a"])(N,D,z,!1,null,null,null),P=G.exports;a("c740"),a("7db0"),a("a434");function V(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}function J(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var H={makeId:V,getRandomInt:J},Q=(a("99af"),a("bc3a")),q=a.n(Q),F="/api/",W=q.a.create({withCredentials:!0}),Y={get:function(e,t){return K(e,"GET",t)},post:function(e,t){return K(e,"POST",t)},put:function(e,t){return K(e,"PUT",t)},delete:function(e,t){return K(e,"DELETE",t)}};function K(e){return Z.apply(this,arguments)}function Z(){return Z=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"GET",r=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,W({url:"".concat(F).concat(t),method:a,data:r,params:"GET"===a?r:null});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(t,", with data:"),r),console.dir(e.t0),e.t0.response&&e.t0.response.status,e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])}))),Z.apply(this,arguments)}var X={query:ee,getById:ae,remove:ne,save:oe,getEmptyBoard:je,getEmptyGroup:ce,addGroup:fe,updateGroup:_e,removeGroup:Te,getEmptyTask:le,addTask:ue,updateTask:be,updateBoardTitle:we,updateBgcBoard:ye,removeTask:pe,addActivity:ge};function ee(){return te.apply(this,arguments)}function te(){return te=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",Y.get("board"));case 4:throw e.prev=4,e.t0=e["catch"](0),console.log("Error in Query board (Front board Service):",e.t0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,4]])}))),te.apply(this,arguments)}function ae(e){return re.apply(this,arguments)}function re(){return re=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y.get("board/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}function ne(e){return se.apply(this,arguments)}function se(){return se=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Y.delete("board/".concat(t)));case 1:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function oe(e){return ie.apply(this,arguments)}function ie(){return ie=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t._id){e.next=7;break}return console.log("PUT (save)"),Y.put("board",t),e.abrupt("return",t);case 7:return console.log("POST (save)"),e.abrupt("return",Y.post("board",t));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e["catch"](0),console.log("Saving Error (Front Toy Service):",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),ie.apply(this,arguments)}function ce(){return{id:H.makeId(),title:"",tasks:[]}}function le(){return{id:H.makeId(),title:"",description:"",comments:[],attachments:[],checklists:[],members:[],labelIds:[],createdAt:"",dueDate:"",byMember:{},coverStyle:{bgColor:"transparent",bgImg:"none"},location:null,isComplete:!1}}function ue(e,t,a){return de.apply(this,arguments)}function de(){return de=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,r){var n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return n=e.sent,s=n.groups.findIndex((function(e){return e.id===a})),o=le(),o.title=r,n.groups[s].tasks.push(o),oe(n),e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e["catch"](0),console.log("Error in addTask (board-service):",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),de.apply(this,arguments)}function pe(e,t,a){return he.apply(this,arguments)}function he(){return he=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,r){var n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return n=e.sent,s=n.groups.find((function(e){return e.id===a})),o=s.tasks.findIndex((function(e){return e.id===r.id})),s.tasks.splice(o,1),oe(n),e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e["catch"](0),console.log("Error in removeTask (board-service):",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),he.apply(this,arguments)}function ge(e,t){return me.apply(this,arguments)}function me(){return me=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return r=e.sent,r.activities.unshift(a),e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e["catch"](0),console.log("Error in addActivity (board-service):",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),me.apply(this,arguments)}function be(e,t,a){return ve.apply(this,arguments)}function ve(){return ve=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,r){var n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return n=e.sent,s=n.groups.find((function(e){return e.id===a})),o=s.tasks.findIndex((function(e){return e.id===r.id})),s.tasks.splice(o,1,r),console.log("taskIdx",o),console.log("task",r),oe(n),e.abrupt("return",n);case 13:throw e.prev=13,e.t0=e["catch"](0),console.log("Error in updateTask (board-service):",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),ve.apply(this,arguments)}function fe(e,t){return ke.apply(this,arguments)}function ke(){return ke=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return r=e.sent,n=ce(),n.title=a,r.groups.push(n),oe(r),e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e["catch"](0),console.log("Error in addGroup (board-service):",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),ke.apply(this,arguments)}function we(e,t){return Ce.apply(this,arguments)}function Ce(){return Ce=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return r=e.sent,r.title=a,oe(r),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e["catch"](0),console.log("Error in updateBoard (board-service):",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),Ce.apply(this,arguments)}function ye(e,t){return xe.apply(this,arguments)}function xe(){return xe=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return r=e.sent,r.style=a,oe(r),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e["catch"](0),console.log("Error in updateBoard (board-service):",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),xe.apply(this,arguments)}function _e(e,t){return Ie.apply(this,arguments)}function Ie(){return Ie=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return r=e.sent,n=r.groups.findIndex((function(e){return e.id===a.id})),r.groups.splice(n,1,a),console.log("idx",n),console.log("newGroup",a),oe(r),e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e["catch"](0),console.log("Error in updateGroup (board-service):",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),Ie.apply(this,arguments)}function Te(e,t){return Se.apply(this,arguments)}function Se(){return Se=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return r=e.sent,n=r.groups.findIndex((function(e){return e.id===a})),r.groups.splice(n,1),oe(r),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e["catch"](0),console.log("Error in removeGroup (board-service):",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),Se.apply(this,arguments)}function je(){return{title:"",createdAt:"",createdBy:{_id:"",fullname:"",imgUrl:""},style:{bgColor:"",bgImg:""},labels:[{id:"l101",title:"",color:"#409EFF"},{id:"l102",title:"",color:"#67C23A"},{id:"l103",title:"",color:"#E6A23C"},{id:"l104",title:"",color:"#F56C6C"},{id:"l105",title:"",color:"#cc79da"}],members:[],groups:[{id:H.makeId(4)+"s",title:"To do",tasks:[{id:H.makeId(4)+"j",title:"Do that",description:"",comments:[],attachments:[],checklists:[],members:[],labelIds:["l101"],createdAt:"",dueDate:"",byMember:{},coverStyle:{bgColor:"transparent",bgImg:"none"},location:null,isComplete:!1}]},{id:H.makeId(4)+"f",title:"Doing",tasks:[{id:H.makeId(4)+5,title:"Do that",description:"",comments:[],attachments:[],checklists:[],members:[],labelIds:[],createdAt:"",dueDate:"",byMember:{},coverStyle:{bgColor:"transparent",bgImg:"none"},location:null,isComplete:!1}]},{id:H.makeId(),title:"Done",tasks:[{id:H.makeId(),title:"Do that",description:"",comments:[],attachments:[],checklists:[],members:[],labelIds:[],createdAt:"",dueDate:"",byMember:{},coverStyle:{bgColor:"transparent",bgImg:"none"},location:null,isComplete:!1}]}],activities:[],isStarred:!1}}var Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"background-unsplash"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"},{name:"debounce",rawName:"v-debounce:500ms",value:e.getImgsBySearch,expression:"getImgsBySearch",arg:"500ms"}],attrs:{type:"text",placeholder:"Search..."},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e.results?a("div",e._l(e.results,(function(t,r){return a("div",{key:r,staticClass:"unsplash-box",style:{backgroundImage:"url("+t.urls.regular+")"},on:{click:function(a){return e.sendUrl(t.urls.regular)}}})})),0):e._e()])},Ee=[],Oe=(a("ac1f"),a("841c"),{getSplashImgs:Me});function Me(e){return Ae.apply(this,arguments)}function Ae(){return Ae=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.get("https://api.unsplash.com/search/photos/?page=1&per_page=13&query=".concat(t,"&client_id=XGYYMqGiMfqUGBm9w0BzTl5QOWO81DXIKOM2JANkkl8"));case 3:return a=e.sent,e.abrupt("return",a.data.results);case 7:throw e.prev=7,e.t0=e["catch"](0),console.log("error in unsplash service",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ae.apply(this,arguments)}var Re={data:function(){return{search:"",results:[]}},created:function(){this.getImgsBySearch()},methods:{getImgsBySearch:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="landscape",e.search&&(a=e.search),t.prev=2,t.next=5,Oe.getSplashImgs(a);case 5:r=t.sent,e.results=r,t.next=12;break;case 9:throw t.prev=9,t.t0=t["catch"](2),t.t0;case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},sendUrl:function(e){console.log("url",e),this.$emit("onSaveImg",e)}}},Ue=Re,Le=Object(g["a"])(Ue,Be,Ee,!1,null,null,null),De=Le.exports,ze={name:"workspace",data:function(){return{isModalOpen:!1,newBoard:X.getEmptyBoard(),openUnsplash:!1,boardStyle:{bgColor:"transparent",bgImg:"url(".concat(a("cedd"),")")}}},created:function(){},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},boards:function(){return this.$store.getters.boardsToShow},atleastOneStarred:function(){return this.boards.some((function(e){return e.isStarred}))}},methods:{onSaveImg:function(e){this.boardStyle.bgImg="url(".concat(e,")"),this.boardStyle.bgColor="transparent"},openBoardModal:function(){this.isModalOpen=!this.isModalOpen},chosenBg:function(e,t){this.boardStyle=e,console.log("this.boardStyle",this.boardStyle)},addBoard:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.newBoard.title){t.next=2;break}return t.abrupt("return");case 2:return e.loggedInUser&&(e.newBoard.members.push(e.loggedInUser),e.newBoard.activities.unshift({byMember:e.loggedInUser,txt:"has added a board",createdAt:Date.now()})),console.log("",e.newBoard),e.newBoard.style=e.boardStyle,a=JSON.parse(JSON.stringify(e.newBoard)),t.prev=6,a.createdAt=Date.now(),t.next=10,e.$store.dispatch({type:"addBoard",board:a});case 10:r=t.sent,console.log("Board added successfully"),e.$router.push("/board/".concat(r._id)),t.next=19;break;case 15:throw t.prev=15,t.t0=t["catch"](6),console.log("Error in adding a board (workspace):",t.t0),t.t0;case 19:return t.prev=19,e.newBoard.Title="",e.openBoardModal(),t.finish(19);case 23:case"end":return t.stop()}}),t,null,[[6,15,19,23]])})))()}},components:{boardPreview:L,backgroundPicker:P,backgroundUnsplash:De}},$e=ze,Ne=Object(g["a"])($e,B,E,!1,null,null,null),Ge=Ne.exports,Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[e.board?r("section",{staticClass:"board-details"},[r("board-header",{attrs:{board:e.board},on:{updateBoard:e.updateBoard,editBgcBoard:e.editBgcBoard}}),r("main",{staticClass:"main-layout"},[r("Container",{staticClass:"groups-container",attrs:{"group-name":"bo",behaviour:"contain",orientation:"horizontal","remove-on-drop-out":!0,"drop-class":"card-ghost-drop","drag-class":"dragging"},on:{drop:e.onGroupDrop}},[e._l(e.board.groups,(function(t){return r("Draggable",{key:t.id},[r("group-preview",{attrs:{board:e.board,group:t,boardLabels:e.board.labels},on:{updateBoard:e.updateBoard}})],1)})),r("section",[e.isAddClicked?e._e():r("div",{staticClass:"add-group-btn-container"},[r("button",{staticClass:"add-group-btn",on:{click:e.openAddingInput}},[r("span",{staticClass:"el-icon-plus"}),e._v(" Add another list ")])]),e.isAddClicked?r("div",{staticClass:"group-add-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.groupTitle,expression:"groupTitle"}],attrs:{type:"text",placeholder:"Enter list title..."},domProps:{value:e.groupTitle},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addGroup.apply(null,arguments)},input:function(t){t.target.composing||(e.groupTitle=t.target.value)}}}),r("div",{staticClass:"group-btns-container"},[r("button",{on:{click:e.addGroup}},[e._v("Add list")]),r("button",{staticClass:"el-icon-close",on:{click:e.openAddingInput}})])]):e._e()])],2)],1),r("transition",{attrs:{name:"fade",duration:50}},[r("router-view")],1)],1):r("div",{staticClass:"is-loading-container"},[r("img",{attrs:{src:a("f8b2"),width:"50",height:"50",frameBorder:"0"}})])])},Ve=[],Je=a("5530"),He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.board?a("section",{staticClass:"group-preview"},[a("div",{staticClass:"group-header"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newTitle,expression:"newTitle"}],attrs:{type:"text"},domProps:{value:e.newTitle},on:{blur:e.editTitle,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.blur()},focus:function(e){return e.target.select()},input:function(t){t.target.composing||(e.newTitle=t.target.value)}}}),a("el-popover",{attrs:{placement:"bottom-end",width:"100",title:"List actions"},model:{value:e.toggleMenu,callback:function(t){e.toggleMenu=t},expression:"toggleMenu"}},[a("hr"),a("div",[a("el-button",{staticStyle:{display:"flex",margin:"0",color:"black","font-size":"14px"},attrs:{type:"text",size:"mini"},on:{click:function(t){return t.preventDefault(),e.removeGroup.apply(null,arguments)}}},[e._v("Archive this list")])],1),a("el-button",{staticClass:"el-icon-more btn-group",attrs:{slot:"reference"},slot:"reference"})],1)],1),a("Container",{staticClass:"tasks-container",attrs:{"group-name":"col",orientation:"vertical","get-child-payload":e.getTaskPayload(e.group.id),"drop-class":"card-ghost-drop","drag-class":"dragging","auto-scroll-enabled":!0},on:{drop:function(t){return e.onTaskDrop(e.group.id,t)}}},e._l(e.group.tasks,(function(t){return a("Draggable",{key:t.id,attrs:{"auto-scroll-enabled":!0}},[a("task-preview",{attrs:{board:e.board,task:t,boardLabels:e.boardLabels},on:{saveEditTask:e.saveEditTask,deleteTask:e.removeTask}})],1)})),1),a("section",{staticClass:"add-task-section"},[e.isAddTaskClicked?a("div",{staticClass:"task-add-container"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.taskTitle,expression:"taskTitle"}],ref:"saveTaskInput",attrs:{type:"text",placeholder:"Enter a title for this task...",oninput:'this.style.height =\n            "";this.style.height = this.scrollHeight + "px"'},domProps:{value:e.taskTitle},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveTask.apply(null,arguments)},input:function(t){t.target.composing||(e.taskTitle=t.target.value)}}}),e._v(" "),a("div",[a("button",{on:{click:e.saveTask}},[e._v("Add card")]),a("button",{staticClass:"el-icon-close",on:{click:e.toggleAddTaskInput}})])]):a("div",{staticClass:"add-a-task",on:{click:e.toggleAddTaskInput}},[a("span",{staticClass:"el-icon-plus"}),e._v(" Add a card ")])])],1):e._e()},Qe=[],qe=(a("4de4"),a("498a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"task-preview"},[a("router-link",{attrs:{to:"/board/"+e.boardId+"/task/"+e.task.id}},[e.toggleEditCard?a("div",{staticClass:"overlay",on:{click:function(t){t.preventDefault(),e.toggleEditCard=!1}}}):e._e(),a("div",{staticClass:"cover-preview-container",class:{"show-task-cover-modal":e.toggleEditCard}},[e.findCoverColor?a("div",{staticClass:"cover-color-preview",style:{backgroundColor:e.task.coverStyle.bgColor}}):e._e(),e.findCoverImg&&!e.findCoverColor?a("img",{staticClass:"cover-img-preview",attrs:{src:e.coverUrl}}):e._e(),a("div",{staticClass:"task-preview-content",class:{"show-task-modal":e.toggleEditCard}},[e.labelsToShow?a("div",[e.labelsToShow?a("div",{staticClass:"labels"},e._l(e.labelsToShow,(function(t){return a("div",{key:t.Id,staticClass:"task-label",class:{shrinkLabel:e.changeLabelSize,increaseLabel:!e.changeLabelSize},style:{backgroundColor:t.color},on:{click:function(t){return t.preventDefault(),e.toggleSize.apply(null,arguments)}}},[e.changeLabelSize?e._e():a("span",[e._v(e._s(t.title))])])})),0):e._e()]):e._e(),e.toggleEditCard?a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editTitle,expression:"editTitle"}],staticClass:"input-edit-task",domProps:{value:e.editTitle},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},click:function(e){e.preventDefault()},input:function(t){t.target.composing||(e.editTitle=t.target.value)}}}):a("div",{staticClass:"task-title"},[e._v(" "+e._s(e.task.title)+" ")]),e.toggleEditCard?a("button",{staticClass:"save-edit-task",on:{click:function(t){return t.preventDefault(),e.taskEdit.apply(null,arguments)}}},[e._v(" Save ")]):e._e(),a("div",{staticClass:"model-btn"},[e.toggleEditCard?a("button",{staticClass:"open-edit-btn",on:{click:function(t){return t.preventDefault(),e.openTask.apply(null,arguments)}}},[a("span",{staticClass:"material-icons-outlined"},[e._v(" calendar_today ")]),e._v(" Open card ")]):e._e(),e.toggleEditCard?a("button",{staticClass:"remove-edit-btn",on:{click:function(t){return t.preventDefault(),e.removeTask.apply(null,arguments)}}},[a("span",{staticClass:"material-icons-outlined"},[e._v(" archive ")]),e._v(" Archive ")]):e._e()]),e.showIcons?a("div",{staticClass:"task-show-details"},[a("section",{staticClass:"icons-section"},[e.task.description?a("div",{staticClass:"task-description"},[a("span",{staticClass:"material-icons-outlined"},[e._v(" notes ")])]):e._e(),e.task.comments.length?a("div",{staticClass:"comments"},[e.task.comments.length?a("span",{staticClass:"task-comments"},[a("span")]):e._e(),a("span",[e._v(e._s(e.commentsLength))])]):e._e(),e.attachmentLength?a("div",{staticClass:"task-attachment"},[a("span"),a("span",[e._v(e._s(e.attachmentLength))])]):e._e(),e.task.location?a("div",{staticClass:"task-location"},[a("span",{})]):e._e(),e.task.dueDate?a("div",{staticClass:"task-date"},[a("span",{},[e.task.isComplete?a("span",{staticClass:"material-icons-outlined"},[e._v(" done ")]):e._e()])]):e._e(),e.task.checklists?a("div",{staticClass:"task-checklists"},[e.task.checklists.length?a("span",[a("span",{staticClass:"material-icons-outlined"},[e._v(" check_box ")]),a("p",[e._v("0/2")])]):e._e()]):e._e()]),a("section",{},e._l(e.task.members,(function(e){return a("div",{key:e.id,staticClass:"list-task-members"},[a("avatar",{staticClass:"user-avatar",attrs:{backgroundColor:"lightblue",color:"black",size:30,username:e.fullname,src:e.imgUrl}})],1)})),0)]):e._e(),e.toggleEditCard?e._e():a("button",{staticClass:"edit-task-btn btn-group",on:{click:function(t){t.preventDefault(),e.toggleEditCard=!0}}})])])])],1)}),Fe=[],We=(a("caad"),a("2532"),a("a4d3"),a("e01a"),{name:"taskPreview",props:{task:{type:Object,required:!0,default:function(){return{msg:"No Task"}}},board:{type:Object,required:!0,default:function(){return{msg:"No Task"}}},boardLabels:{type:Array}},data:function(){return{changeLabelSize:!0,boardId:"",taskLabels:[],coverUrl:"",toggleEditCard:!1,editTitle:""}},created:function(){this.boardId=this.board._id,this.task.labelIds&&this.task.labelIds.length>0&&this.getLabels(),this.editTitle=this.task.title},methods:{toggleSize:function(){this.changeLabelSize=!this.changeLabelSize},getLabels:function(){var e=this,t=this.boardLabels.filter((function(t){return e.task.labelIds.some((function(e){return t.id.includes(e)}))}));return this.taskLabels=t,this.taskLabels},removeTask:function(){this.$emit("deleteTask",this.task),this.toggleDeleteMenu=!this.toggleDeleteMenu},taskEdit:function(){this.toggleEditCard=!this.toggleEditCard;var e=JSON.parse(JSON.stringify(this.task));e.title=this.editTitle,console.log("newTask.title",e.title),this.$emit("saveEditTask",e)}},computed:{findCoverImg:function(){if(this.task.attachments.some((function(e){return e.isCover}))){var e=this.task.attachments.find((function(e){return e.isCover}));this.coverUrl=e.url}else"none"!==this.task.coverStyle.bgImg&&(this.coverUrl=this.task.coverStyle.bgImg);return this.coverUrl},findCoverColor:function(){if("transparent"!==this.task.coverStyle.bgColor&&"none"===this.task.coverStyle.bgImg&&!this.task.attachments.some((function(e){return e.isCover})))return this.task.coverStyle.bgColor},commentsLength:function(){var e=this.task.comments.length?this.task.comments.length:null;return e},labelsToShow:function(){if(this.task.labelIds&&this.task.labelIds.length>0)return this.getLabels()},showIcons:function(){return!!(this.task.description||this.task.comments.length>0||this.task.checklists.length>0||this.task.members.length>0||this.task.attachments.length>0||this.task.location)},attachmentLength:function(){var e=this.task.attachments.length?this.task.attachments.length:null;return e}},components:{Avatar:u.a}}),Ye=We,Ke=Object(g["a"])(Ye,qe,Fe,!1,null,null,null),Ze=Ke.exports,Xe=a("b76a"),et=a.n(Xe),tt=a("3f7d"),at=a("2909"),rt=function(e,t){var a=t.removedIndex,r=t.addedIndex,n=t.payload;if(null===a&&null===r)return e;var s=Object(at["a"])(e),o=n;return null!==a&&(o=s.splice(a,1)[0]),null!==r&&s.splice(r,0,o),s},nt={name:"groupPreview",props:{group:{type:Object,required:!0,default:function(){return{msg:"No Group"}}},board:{type:Object},boardLabels:{type:Array}},data:function(){return{newTitle:JSON.parse(JSON.stringify(this.group.title)),isInputVisible:!1,boardId:"",isAddTaskClicked:!1,taskTitle:"",toggleMenu:!1}},created:function(){this.boardId=this.board._id},methods:{getTaskPayload:function(e){var t=this;return function(a){return t.board.groups.filter((function(t){return t.id===e}))[0].tasks[a]}},onTaskDrop:function(e,t){if(null!==t.removedIndex||null!==t.addedIndex){var a=Object.assign({},this.board),r=this.board.groups.find((function(t){return t.id===e})),n=a.groups.indexOf(r),s=Object.assign({},r);s.tasks=rt(s.tasks,t),a.groups.splice(n,1,s),this.$emit("updateBoard",a)}},editGroup:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch({type:"updateGroup",boardId:t.boardId,group:e});case 3:console.log("Group Saved Successfully in ".concat(t.board._id)),a.next=10;break;case 6:throw a.prev=6,a.t0=a["catch"](0),console.log("Error in updateGroup (group-preview):",a.t0),a.t0;case 10:case"end":return a.stop()}}),a,null,[[0,6]])})))()},editTitle:function(){this.newTitle.trim()||(this.newTitle="List title");var e=JSON.parse(JSON.stringify(this.group));e.title=this.newTitle,this.editGroup(e)},toggleGroupMenu:function(){this.toggleMenu=!this.toggleMenu},removeGroup:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.toggleMenu){t.next=11;break}return t.prev=1,t.next=4,e.$store.dispatch({type:"removeGroup",boardId:e.boardId,groupId:e.group.id});case 4:console.log("Group Removed Successfully in BoardId ".concat(e.boardId)),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("Error in removeGroup (group-preview):",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},removeTask:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch({type:"removeTask",boardId:t.boardId,groupId:t.group.id,task:e});case 3:console.log("Task ".concat(e.id,"  Successfully deleted in GroupId ").concat(t.group.id)),a.next=10;break;case 6:throw a.prev=6,a.t0=a["catch"](0),console.log("Error in deleteTask (group-preview):",a.t0),a.t0;case 10:case"end":return a.stop()}}),a,null,[[0,6]])})))()},saveTask:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.taskTitle.trim()){t.next=2;break}return t.abrupt("return");case 2:return e.toggleAddTaskInput(),t.prev=3,t.next=6,e.$store.dispatch({type:"addTask",boardId:e.boardId,groupId:e.group.id,taskTitle:e.taskTitle});case 6:console.log("Task Successfully Added in GroupId ".concat(e.group.id)),t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](3),console.log("Error in saveTask (group-preview):",t.t0),t.t0;case 13:return t.prev=13,e.taskTitle="",t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,9,13,16]])})))()},saveEditTask:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch({type:"updateTask",boardId:t.boardId,groupId:t.group.id,task:e});case 2:case"end":return a.stop()}}),a)})))()},toggleAddTaskInput:function(){var e=this;this.isAddTaskClicked=!this.isAddTaskClicked,this.$nextTick((function(){e.isAddTaskClicked&&e.$refs.saveTaskInput.focus()}))}},components:{taskPreview:Ze,draggable:et.a,Container:tt["Container"],Draggable:tt["Draggable"]}},st=nt,ot=Object(g["a"])(st,He,Qe,!1,null,null,null),it=ot.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"board-header move"},[a("div",{staticClass:"left-side-header"},[a("div",{staticClass:"left-and-members"},[a("div",{staticClass:"left-side-btn"},[a("button",{on:{click:e.toggleLeftMenu}},[e._m(0)])]),e.leftMenu?a("div",{staticClass:"left-menu"},[a("button",{staticClass:"left-btn",on:{click:e.openDashboard}},[a("span",{staticClass:"material-icons-outlined"},[e._v(" dashboard ")]),e._v(" Dashboard ")]),a("button",{staticClass:"left-btn",on:{click:e.openMainMap}},[a("span",{staticClass:"material-icons-outlined"},[e._v(" map ")]),e._v("Map ")])]):e._e(),a("section",{staticClass:"board-title-header"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"},{name:"autowidth",rawName:"v-autowidth",value:{maxWidth:"200px",minWidth:"10px",comfortZone:0},expression:"{\n                            maxWidth: '200px',\n                            minWidth: '10px',\n                            comfortZone: 0,\n                        }"}],attrs:{placeholder:"Add title..."},domProps:{value:e.title},on:{focus:function(e){return e.target.select()},blur:e.editTitle,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.blur()},input:function(t){t.target.composing||(e.title=t.target.value)}}})]),a("span",{staticClass:"star-favorite",class:{starred:e.isStarred},on:{click:e.starUpdate}})]),a("div",{staticClass:"members-container"},[a("div",{staticClass:"vl"}),e.board.members.length?a("div",{staticClass:"avatar-icon"},[e._l(e.board.members,(function(t){return[a("el-popover",{key:t._id,attrs:{placement:"top",title:t.fullname,width:"200",trigger:"hover"}},[a("div",{staticClass:"mems-popover"},[a("span",[e._v(e._s(t.username))]),a("span",{on:{click:function(a){return e.removeMember(t._id)}}},[e._v("remove")])]),a("avatar",{attrs:{slot:"reference",backgroundColor:"cadetblue",color:"#fff",size:30,src:t.imgUrl,username:t.fullname},slot:"reference"})],1)]}))],2):e._e(),a("el-popover",{staticClass:"users-popover",attrs:{placement:"bottom",width:"200",title:"Add to board"},model:{value:e.toggleUserInvite,callback:function(t){e.toggleUserInvite=t},expression:"toggleUserInvite"}},[e._l(e.availUsers,(function(t,r){return a("div",{key:r,staticClass:"available-users-container",on:{click:function(a){return e.addMembers(t)}}},[a("avatar",{attrs:{backgroundColor:"cadetblue",color:"#fff",size:30,username:t.fullname,src:t.imgUrl}}),a("span",[e._v(e._s(t.fullname))])],1)})),a("a",{staticClass:"add-btn",attrs:{slot:"reference"},slot:"reference"},[a("span",{staticClass:"user"}),e._v(" Invite ")])],2)],1)]),a("div",{staticClass:"right-side-header",class:{move:e.isShown}},[a("div",{staticClass:"vl"}),a("button",{staticClass:"filter-btn",on:{click:e.openFilter}},[a("span",{staticClass:"material-icons-outlined"},[e._v(" filter_list ")]),e._v(" Filter ")]),a("div",[a("board-filter",{class:e.filterToShown,attrs:{board:e.board},on:{openFilter:e.openFilter}})],1),a("button",{staticClass:"menu-btn",on:{click:e.openMenu}},[a("span",{staticClass:"el-icon-more"}),e._v(" Show menu ")])]),a("transition",{attrs:{name:"slide-fade"}},[a("aside-menu",{class:e.menuBarIsShown,attrs:{board:e.board},on:{removeBoard:e.removeBoard,openMenu:e.openMenu,updateBgcBoard:e.editBgcBoard}})],1)],1)])},lt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-dropdown-link"},[a("span",{staticClass:"material-icons-outlined rote"},[e._v(" leaderboard ")]),a("span",[e._v("Board")]),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})])}],ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"aside-menu"},[a("div",{staticClass:"board-header"},[a("h3",{staticClass:"header"},[e._v("Menu")]),a("button",{staticClass:"el-icon-close",staticStyle:{"font-size":"20px"},on:{click:e.closeMenu}})]),a("hr"),a("div",{staticClass:"menu-content"},[a("h2",{staticClass:"bgc-btn",on:{click:e.openBgcMenu}},[a("div",{style:{backgroundColor:e.boardStyle.bgColor,backgroundImage:e.boardStyle.bgImg}}),e._v(" Change background ")]),a("transition",{attrs:{name:"slide-fade"}},[e.bgcIsClick?a("div",{staticClass:"background-menu aside-menu",class:{"aside-close":!e.bgcIsClick}},[a("div",{staticClass:"board-header"},[a("button",{staticClass:"el-icon-arrow-left",staticStyle:{"font-size":"20px"},on:{click:e.openBgcMenu}}),a("h3",{staticClass:"header"},[e._v("Background")]),a("button",{staticClass:"el-icon-close",staticStyle:{"font-size":"20px"},on:{click:e.closeMenu}})]),a("hr"),e.openColorMenu||e.openImgMenu||e.bgcType?e._e():a("div",{staticClass:"bgc-btns"},[a("div",{staticClass:"color-options",on:{click:function(t){e.openColorMenu=!e.openColorMenu}}}),a("div",{staticClass:"img-options",on:{click:function(t){e.openImgMenu=!e.openImgMenu}}}),a("img-upload",{staticClass:"upload-btn",on:{onSaveImg:e.changeImgUrl}})],1),e.openColorMenu?a("bgc-aside-menu",{class:e.openBgcOption,on:{chosenBg:e.chosenBg}}):e._e(),e.openImgMenu?a("background-unsplash",{staticClass:"cmp-unsplash",on:{onSaveImg:e.changeImgUrl}}):e._e()],1):e._e()]),e._m(0),a("el-popover",{attrs:{placement:"top",width:"150"},model:{value:e.toggleDeleteMenu,callback:function(t){e.toggleDeleteMenu=t},expression:"toggleDeleteMenu"}},[a("p",[e._v("Remove this board?")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:e.removeBoard}},[e._v("Confirm")]),a("el-button",{staticStyle:{color:"black"},attrs:{size:"mini",type:"text"},on:{click:function(t){e.toggleDeleteMenu=!1}}},[e._v("Cancel")])],1),a("el-button",{staticClass:"close-board-btn",attrs:{slot:"reference"},slot:"reference"},[e._v("Close board...")])],1)],1),a("hr"),a("section",{staticClass:"activities"},[a("div",{staticClass:"activities-header"},[a("svg",[a("path",{attrs:{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}})]),a("h3",[e._v("Activity")])])]),a("section",e._l(e.board.activities,(function(t){return a("div",{key:t.id,staticClass:"activity-preview-container"},[a("avatar",{staticClass:"curr-user-avatar",attrs:{backgroundColor:"lightblue",color:"black",size:30,username:"Ben Ernst"}}),a("div",{staticClass:"activity-details"},[a("span",{staticClass:"member-name"},[e._v(e._s(t.byMember.fullname))]),e._v(e._s(t.txt)+" "),a("div",{staticClass:"activity-member-container"},[a("span",{staticClass:"activity-created-at"},[e._v(e._s(e.activityTimeToShow(t.createdAt)))])])])],1)})),0)])},dt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h2",{staticClass:"archive-btn"},[a("span"),e._v(" Archive")])}],pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"bgc-aside-menu"},e._l(e.colorList,(function(t,r){return a("div",{key:r,staticClass:"color-div",class:{colorChoice:e.style.bgColor===t},style:{"background-color":t},attrs:{id:"color-div"+r},on:{click:function(a){return e.chooseBg(t)}}})})),0)},ht=[],gt={data:function(){return{colorList:["#0079bf","#d29034","#519839","#b04632","#89609e","#cd5a91","#4bbf6b","#00aecc","#afafaf"],style:{bgColor:"",bgImg:"none"}}},methods:{chooseBg:function(e){this.style.bgColor=e,this.$emit("chosenBg",this.style)}}},mt=gt,bt=Object(g["a"])(mt,pt,ht,!1,null,null,null),vt=bt.exports,ft=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"img-upload-container"},[e.isLoading?r("img",{attrs:{src:a("f737"),alt:""}}):r("label",{staticClass:"clickable"},[e._m(0),r("input",{attrs:{type:"file",id:"uploadImg",hidden:""},on:{change:e.onUploadImg}})])])},kt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticClass:"el-icon-plus"})])}],wt=function(e){var t="trellor",a="cloudinaryorb",r="https://api.cloudinary.com/v1_1/".concat(a,"/image/upload"),n=new FormData;return n.append("file",e.target.files[0]),n.append("upload_preset",t),fetch(r,{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))},Ct={data:function(){return{isLoading:!1}},methods:{onUploadImg:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isLoading=!0,a.next=3,wt(e);case 3:r=a.sent,t.$emit("onSaveImg",r.url),console.log("res.url",r.url),t.isLoading=!1;case 7:case"end":return a.stop()}}),a)})))()}}},yt=Ct,xt=(a("c193"),Object(g["a"])(yt,ft,kt,!1,null,null,null)),_t=xt.exports,It=a("c1df"),Tt=a.n(It),St={name:"asideMenu",props:["board"],data:function(){return{bgcIsClick:!1,boardStyle:this.board.style,openColorMenu:!1,openImgMenu:!1,bgcType:!1,toggleDeleteMenu:!1,boardId:""}},created:function(){this.boardId=this.board._id},methods:{removeBoard:function(){this.$emit("removeBoard",this.boardId)},changeImgUrl:function(e){this.bgcType,this.boardStyle.bgImg="url(".concat(e,")"),this.boardStyle.bgColor="transparent",this.$emit("updateBgcBoard",this.boardStyle)},closeMenu:function(){this.$emit("openMenu")},openBgcMenu:function(){this.openColorMenu=!1,this.openImgMenu=!1,this.bgcType=!1,this.bgcIsClick=!this.bgcIsClick},chosenBg:function(e,t){this.boardStyle=e,this.$emit("updateBgcBoard",this.boardStyle),console.log("this.boardStyle",this.boardStyle)},activityTimeToShow:function(e){return Tt()(e).calendar()}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},openBgcOption:function(){return console.log("open bgc menu"),console.log("this.bgcIsClick",this.bgcIsClick),{"aside-bgc-open":this.bgcIsClick,"aside-bgc-close":!this.bgcIsClick}}},components:{bgcAsideMenu:vt,Avatar:u.a,imgUpload:_t,backgroundUnsplash:De}},jt=St,Bt=Object(g["a"])(jt,ut,dt,!1,null,null,null),Et=Bt.exports,Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"filter-menu"},[a("div",{staticClass:"filter-header"},[a("h3",{staticClass:"header"},[e._v("Filter")]),a("button",{staticClass:"el-icon-close",staticStyle:{"font-size":"20px"},on:{click:e.closeMenu}})]),a("hr"),a("div",{staticClass:"filter-content"},[a("div",[a("p",[e._v("Keyword")]),e._m(0),a("p",[e._v("Search cards, members, labels, and more.")]),a("p",[e._v("Members")]),a("div",{staticClass:"filter-members"},[a("label",[a("el-checkbox",{model:{value:e.noMembers,callback:function(t){e.noMembers=t},expression:"noMembers"}},[e._v("No members")])],1),a("label",[a("el-checkbox",{model:{value:e.assigned,callback:function(t){e.assigned=t},expression:"assigned"}},[e._v("Card assigned to me")])],1),a("label",[a("el-checkbox",{model:{value:e.byMember,callback:function(t){e.byMember=t},expression:"byMember"}},[e._v("Select member")])],1)]),a("p",[e._v("Labels")]),a("div",{staticClass:"filter-labels"},[a("el-checkbox",{staticStyle:{color:"#5e6c84","text-color":"#fff"},model:{value:e.noLabels,callback:function(t){e.noLabels=t},expression:"noLabels"}},[e._v("No labels ")]),a("el-checkbox",{staticStyle:{"text-color":"#fff"},model:{value:e.label1,callback:function(t){e.label1=t},expression:"label1"}},[a("div",{staticClass:"label label1"})]),a("el-checkbox",{model:{value:e.label2,callback:function(t){e.label2=t},expression:"label2"}},[a("div",{staticClass:"label label2"})]),a("el-checkbox",{model:{value:e.label3,callback:function(t){e.label3=t},expression:"label3"}},[a("div",{staticClass:"label label3"})]),a("el-checkbox",{model:{value:e.label4,callback:function(t){e.label4=t},expression:"label4"}},[a("div",{staticClass:"label label4"})])],1),e._m(1),a("hr")])])])},Mt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-filter-input"},[a("input",{attrs:{type:"text",placeholder:"Enter a keyword…",value:""}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("Due date")]),a("ul",[a("li",[e._v("No dates")]),a("li",[e._v("Overdue")]),a("li",[e._v("Due in the next day")]),a("p",[e._v("Due date")])])])}],At={name:"BoardFilter",data:function(){return{checked:!1,noMembers:!1,assigned:!1,byMember:!1,noLabels:!1,label1:!1,label2:!1,label3:!1,label4:!1}},methods:{closeMenu:function(){this.$emit("openFilter")}}},Rt=At,Ut=Object(g["a"])(Rt,Ot,Mt,!1,null,null,null),Lt=Ut.exports,Dt={name:"boardHeader",props:["board"],data:function(){return{availUsers:[],isShown:!1,value:"",isStarred:this.board.isStarred,title:this.board.title,boardId:"",visible:!1,filterIsShown:!1,toggleUserInvite:!1,leftMenu:!1}},created:function(){this.availUsers=this.users,this.boardId=this.board._id},methods:{removeMember:function(e){var t=JSON.parse(JSON.stringify(this.board)),a=t.members.findIndex((function(t){return t._id===e}));t.members.splice(a,1),this.loggedInUser&&t.activities.unshift({byMember:this.loggedInUser,txt:"has remove a member",createdAt:Date.now()}),this.updateBoard(t)},addMembers:function(e){var t=JSON.parse(JSON.stringify(this.board));t.members.find((function(t){return t._id==e._id}))||(t.members.push(e),this.loggedInUser&&t.activities.unshift({byMember:this.loggedInUser,txt:"has added a member",createdAt:Date.now()}),this.updateBoard(t))},openMenu:function(){this.isShown=!this.isShown},openFilter:function(){this.filterIsShown=!this.filterIsShown},toggleInput:function(){this.isInputVisible=!this.isInputVisible},editBgcBoard:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch({type:"updateBoardBgc",boardId:t.boardId,style:e});case 3:console.log("Board Saved Successfully in ".concat(t.boardId)),t.$emit("editBgcBoard",e),a.next=11;break;case 7:throw a.prev=7,a.t0=a["catch"](0),console.log("Error in updateBoard (board-header):",a.t0),a.t0;case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))()},starUpdate:function(){this.isStarred=!this.isStarred;var e=JSON.parse(JSON.stringify(this.board));e.isStarred=this.isStarred,this.loggedInUser&&e.activities.unshift({byMember:this.loggedInUser,txt:"has made this board his favorite",createdAt:Date.now()}),this.updateBoard(e)},updateBoard:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=JSON.parse(JSON.stringify(e)),a.prev=1,t.$emit("updateBoard",r),console.log("Board changed successfully"),a.next=10;break;case 6:throw a.prev=6,a.t0=a["catch"](1),console.log("Error in adding a board (workspace):",a.t0),a.t0;case 10:case"end":return a.stop()}}),a,null,[[1,6]])})))()},removeBoard:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch({type:"removeBoard",boardId:e.boardId});case 3:console.log("Board removed successfully"),e.$router.push("/workspace"),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](0),console.log("Error in removing board (aside-menu):",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},editTitle:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.toggleInput(),e.title.trim()||(e.title="Board name"),t.prev=2,t.next=5,e.$store.dispatch({type:"updateBoardTitle",boardId:e.boardId,title:e.title});case 5:console.log("Board Saved Successfully in ".concat(e.boardId)),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](2),console.log("Error in updateBoard (board-header):",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))()},openMainMap:function(){console.log("click map"),this.leftMenu=!1,this.$router.push("/board/".concat(this.boardId,"/main-map"))},openDashboard:function(){this.leftMenu=!1,console.log("click dash"),this.$router.push("/board/".concat(this.boardId,"/dashboard"))},toggleLeftMenu:function(){this.leftMenu=!this.leftMenu,console.log("this.leftMenu",this.leftMenu)}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},menuBarIsShown:function(){return{"aside-menu-open":this.isShown,"aside-close":!this.isShown}},filterToShown:function(){return{"filter-menu-open":this.filterIsShown,"filter-close":!this.filterIsShown}},users:function(){return this.$store.getters.users}},watch:{editBgcBoard:function(){console.log("watch bgc")}},components:{asideMenu:Et,BoardFilter:Lt,Avatar:u.a}},zt=Dt,$t=Object(g["a"])(zt,ct,lt,!1,null,null,null),Nt=$t.exports,Gt={name:"boardDetails",data:function(){return{board:null,isAddClicked:!1,groupTitle:"",toggleMenu:!1}},created:function(){this.getBoard()},methods:{getBoard:function(){this.board=this.$store.getters.getCurrBoard},dropEnd:function(e){},onGroupDrop:function(e){console.log("hi");var t=Object.assign({},this.board);console.log("board",t),t.groups=rt(this.board.groups,e),this.updateBoard(t)},editBgcBoard:function(e){this.$emit("setBg",e)},openAddingInput:function(){this.isAddClicked=!this.isAddClicked},addGroup:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.groupTitle){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.$store.dispatch({type:"addGroup",boardId:e.board._id,groupTitle:e.groupTitle});case 5:console.log("Group Added Successfully in ".concat(e.board._id)),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](2),console.log("Error in Adding a Group (board-details):",t.t0),t.t0;case 12:return t.prev=12,e.groupTitle="",e.$el.scrollTo(e.$el.scrollWidth+270,0),t.finish(12);case 16:case"end":return t.stop()}}),t,null,[[2,8,12,16]])})))()},updateBoard:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch({type:"updateBoard",board:e});case 3:console.log("Board changed successfully"),a.next=10;break;case 6:throw a.prev=6,a.t0=a["catch"](0),console.log("Error in adding a board (workspace):",a.t0),a.t0;case 10:case"end":return a.stop()}}),a,null,[[0,6]])})))()}},computed:{},watch:{"$store.getters.getCurrBoard":function(e){this.board=Object(Je["a"])({},e)}},components:{groupPreview:it,boardHeader:Nt,Container:tt["Container"],Draggable:tt["Draggable"]}},Pt=Gt,Vt=Object(g["a"])(Pt,Pe,Ve,!1,null,null,null),Jt=Vt.exports,Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.task?a("section",[a("div",{staticClass:"modal-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}},[a("section",{staticClass:"task-details-container",on:{click:e.cancelEditLabel}},[e.isCoverStyle?[a("div",{staticClass:"cover-container",class:{"smaller-cover":"none"===e.taskToEdit.coverStyle.bgImg},style:{backgroundColor:e.taskToEdit.coverStyle.bgColor}},[a("div",{staticClass:"img-cover-container",class:{"bigger-cover":"transparent"===e.taskToEdit.coverStyle.bgColor},style:{backgroundImage:"url("+e.taskToEdit.coverStyle.bgImg+")"}})])]:e._e(),a("header",{staticClass:"task-modal-header"},[a("button",{staticClass:"close-modal-btn el-icon-close",on:{click:e.backToBoard}}),a("svg",{attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M16.557,4.467h-1.64v-0.82c0-0.225-0.183-0.41-0.409-0.41c-0.226,0-0.41,0.185-0.41,0.41v0.82H5.901v-0.82c0-0.225-0.185-0.41-0.41-0.41c-0.226,0-0.41,0.185-0.41,0.41v0.82H3.442c-0.904,0-1.64,0.735-1.64,1.639v9.017c0,0.904,0.736,1.64,1.64,1.64h13.114c0.904,0,1.64-0.735,1.64-1.64V6.106C18.196,5.203,17.461,4.467,16.557,4.467 M17.377,15.123c0,0.453-0.366,0.819-0.82,0.819H3.442c-0.453,0-0.82-0.366-0.82-0.819V8.976h14.754V15.123z M17.377,8.156H2.623V6.106c0-0.453,0.367-0.82,0.82-0.82h1.639v1.23c0,0.225,0.184,0.41,0.41,0.41c0.225,0,0.41-0.185,0.41-0.41v-1.23h8.196v1.23c0,0.225,0.185,0.41,0.41,0.41c0.227,0,0.409-0.185,0.409-0.41v-1.23h1.64c0.454,0,0.82,0.367,0.82,0.82V8.156z"}})]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.taskToEdit.title,expression:"taskToEdit.title"}],attrs:{type:"text"},domProps:{value:e.taskToEdit.title},on:{blur:e.updateTask,keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.taskToEdit,"title",t.target.value)}}}),a("p",[e._v(" in list "),a("span",[e._v(e._s(e.group.title))])])]),a("section",{staticClass:"task-details-content"},[a("main",[a("div",{staticClass:"task-features"},[a("div",{staticClass:"task-features-container"},[e.task.members.length?a("div",{staticClass:"members-container"},[e.task.members.length?a("h4",{staticClass:"members-to-show-header"},[e._v(" Members ")]):e._e(),a("div",{staticClass:"member-to-show-container"},e._l(e.task.members,(function(t){return a("section",{key:t._id,staticClass:"member-to-show-list"},[a("div",{staticClass:"member-to-show"},[a("el-popover",{staticClass:"member-to-show-modal",attrs:{placement:"bottom-start",title:t.fullname,width:"200",trigger:"click",content:""}},[a("avatar",{staticClass:"member-modal-avatar",attrs:{backgroundColor:"lightblue",color:"black",size:30,username:t.fullname,src:t.imgUrl}}),a("span",{staticClass:"remove-member-btn",on:{click:function(a){return e.chooseMember(t,t._id)}}},[e._v("Remove from card")]),a("avatar",{staticClass:"user-avatar",attrs:{slot:"reference",backgroundColor:"lightblue",color:"black",size:30,username:t.fullname,src:t.imgUrl},slot:"reference"})],1)],1)])})),0)]):e._e(),e.task.labelIds.length?a("div",{staticClass:"labels-container"},[e.task.labelIds.length?a("h4",{staticClass:"labels-to-show-header"},[e._v(" Labels ")]):e._e(),a("div",{staticClass:"label-to-show-container"},e._l(e.task.labelIds,(function(t){return a("section",{key:t,staticClass:"label-to-show-list"},[a("div",{staticClass:"label-to-show",style:{"background-color":e.getLbColor(t)}},[e._v(" "+e._s(e.getLbTitle(t))+" ")])])})),0)]):e._e(),e.dateIsShown?a("div",{staticClass:"date-container"},[a("h3",{staticClass:"date-to-show-header"},[e._v(" Due date ")]),a("div",{staticClass:"date-to-show-container"},[a("div",{staticClass:"date-check-boxes"},[e.taskToEdit.isComplete?a("svg",{staticClass:"date-svg MuiSvgIcon-root MuiSvgIcon-fontSizeMedium todo-check pointer css-vubbuv",attrs:{viewBox:"0 0 24 24"},on:{click:e.markComplete}},[a("path",{attrs:{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}})]):a("svg",{staticClass:"date-svg MuiSvgIcon-root MuiSvgIcon-fontSizeMedium pointer css-vubbuv",attrs:{viewBox:"0 0 24 24"},on:{click:e.markComplete}},[a("path",{attrs:{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}})])]),a("div",{staticClass:"date-to-show-btn secondary-btn"},[a("span",{staticClass:"date-context"},[e._v(e._s(e.taskToEdit.dueDate))]),e.taskToEdit.isComplete?a("span",{staticClass:"due-msg done"},[e._v("complete")]):e._e()])])]):e._e()])]),a("section",{staticClass:"description-container"},[a("h4",[a("svg",[a("path",{attrs:{d:"M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"}})]),a("span",[e._v("Description")])]),a("div",{staticClass:"description-edit"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.taskToEdit.description,expression:"taskToEdit.description"}],ref:"descriptionInput",attrs:{type:"text",placeholder:"Add a more detailed description..."},domProps:{value:e.taskToEdit.description},on:{blur:e.updateTask,click:e.openTextArea,focus:function(e){return e.target.select()},input:function(t){t.target.composing||e.$set(e.taskToEdit,"description",t.target.value)}}}),e.isTextAreaVisible?a("div",{staticClass:"description-btns"},[a("el-button",{staticClass:"save-task-description-btn",attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.updateTask.apply(null,arguments)}}},[a("span",[e._v("Save")])]),a("button",{staticClass:"close-task-description-btn",on:{click:function(t){return t.preventDefault(),e.cancelDescAdding.apply(null,arguments)}}})],1):e._e()])]),e.showBigFeatures?a("section",{staticClass:"big-features-container"},[a("div",{staticClass:"attachments-container"},e._l(e.taskToEdit.attachments,(function(t,r){return a("div",{key:r},[a("a",{attrs:{href:t.url,target:"_blank"}},[a("span",{staticClass:"attach-title"},[e._v(e._s(t.title))]),a("span",{staticClass:"external-link-attach"})]),e._v(" | "),a("span",{staticClass:"attach-btns",on:{click:function(t){return e.removeAttachment(r)}}},[e._v("Delete")]),e._v(" | "),a("el-popover",{attrs:{placement:"top",width:"180",trigger:"click"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newAttachTitle,expression:"newAttachTitle"}],staticClass:"titleAttachEdit",attrs:{type:"text"},domProps:{value:e.newAttachTitle},on:{input:function(t){t.target.composing||(e.newAttachTitle=t.target.value)}}}),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.editAttachmentTitle(t,r)}}},[e._v("Confirm")])],1),a("el-button",{staticClass:"edit-attach-btn attach-btns",attrs:{slot:"reference"},on:{click:function(a){e.newAttachTitle=t.title}},slot:"reference"},[e._v("Edit")])],1),a("div",{staticClass:"attachments-img",style:{backgroundImage:"url("+t.url+")"}}),t.isCover?e._e():a("span",{staticClass:"attach-btns",on:{click:function(t){return e.attachmentMakeCover(r)}}},[e._v("Make cover")]),t.isCover?a("span",{staticClass:"attach-btns",on:{click:e.removeTaskCover}},[e._v("Remove cover")]):e._e()],1)})),0),e.isMapShown?a("div",[a("GmapMap",{attrs:{location:e.location,options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!1,streetViewControl:!0,rotateControl:!1,fullscreenControl:!0,disableDefaultUi:!1}},on:{saveLoc:e.saveLoc,removeMap:e.removeMap}})],1):e._e()]):e._e(),a("section",{staticClass:"activity-container"},[a("header",{staticClass:"activity-header"},[a("h4",[a("svg",[a("path",{attrs:{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}})]),a("span",[e._v("Activity")])]),a("button",{on:{click:e.showDetails}},[e._v(" "+e._s(e.showDetailsBtnTxt)+" ")])]),a("div",{staticClass:"comments-container"},[e.loggedInUser?e._e():a("avatar",{staticClass:"user-avatar",attrs:{backgroundColor:"lightblue",color:"black",size:30,username:"Guest"}}),e.loggedInUser?a("avatar",{staticClass:"user-avatar",attrs:{backgroundColor:"lightblue",color:"black",size:30,src:e.loggedInUser.imgUrl,username:e.loggedInUser.fullname}}):e._e(),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.commentTxt,expression:"commentTxt"}],ref:"commInput",attrs:{type:"text",placeholder:"Write a comment..."},domProps:{value:e.commentTxt},on:{click:e.openCommentInput,blur:e.closeCommentInput,keyup:e.setCommentInputValue,input:function(t){t.target.composing||(e.commentTxt=t.target.value)}}})],1),a("button",{staticClass:"save-comment-btn",class:[e.visibility,e.saveCommentBtnStyle],attrs:{disabled:!e.commentTxt},on:{click:e.addComment}},[a("span",[e._v("Save")])]),a("div",{staticClass:"comments-list"},e._l(e.task.comments,(function(t,r){return a("div",{key:r,staticClass:"activity-preview-container"},[e.loggedInUser?e._e():a("avatar",{staticClass:"user-avatar",attrs:{backgroundColor:"lightblue",color:"black",size:30,username:"Guest"}}),e.loggedInUser?a("avatar",{staticClass:"user-avatar",attrs:{backgroundColor:"lightblue",color:"black",size:30,src:e.loggedInUser.imgUrl,username:e.loggedInUser.fullname}}):e._e(),a("div",{staticClass:"activity-details"},[a("div",{staticClass:"activity-member-container"},[e.loggedInUser?a("span",{staticClass:"member-name"},[e._v(e._s(e.loggedInUser.fullname))]):e._e(),e.loggedInUser?e._e():a("span",{staticClass:"member-name"},[e._v("Guest")]),a("span",{staticClass:"activity-created-at-container"},[a("span",{staticClass:"activity-created-at"},[e._v(e._s(e.commentTimeToShow(t.createdAt)))])])]),a("div",{staticClass:"comment-content"},[e._v(" "+e._s(t.txt)+" ")])]),a("h5",{on:{click:function(t){return e.deleteComment(r)}}},[e._v("Delete")])],1)})),0),e.activityListIsShown?a("div",{staticClass:"activity-list"},e._l(e.board.activities,(function(t){return a("div",{key:t.id,staticClass:"activity-preview-container"},[a("avatar",{staticClass:"user-avatar",attrs:{backgroundColor:"lightblue",color:"black",size:30,username:"Tal Tarablus"}}),a("div",{staticClass:"activity-details"},[a("div",{staticClass:"activity-member-container"},[a("span",{staticClass:"member-name"},[e._v(e._s(t.byMember.fullname))]),a("span",{staticClass:"activity-content"},[e._v(e._s(t.txt))])]),e._m(0,!0)])],1)})),0):e._e()])]),a("aside",[e.isMemberIncluded(e.loggedInUser._id)?e._e():a("div",{staticClass:"suggested"},[a("h4",{staticClass:"aside-headers"},[e._v("Suggested")]),a("button",{staticClass:"secondary-btn action-btn",on:{click:e.joinMember}},[a("div",{staticClass:"action-btn-content"},[a("svg",{attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}})]),a("span",[e._v("Join")])])])]),a("div",{staticClass:"add-to-card"},[a("h4",{staticClass:"aside-headers"},[e._v("Add to card")]),e._l(e.asideBtns,(function(t){return a("el-popover",{key:t.name,staticClass:"secondary-btn action-btn",attrs:{placement:"top",title:t.name,width:"300",trigger:"click",content:"",disabled:"Location"===t.name}},[a("hr"),"Members"===t.name?a("div",{staticClass:"member-choosing-container"},[a("h4",{staticClass:"members-to-show-header"},[e._v(" Board members ")]),e._l(e.board.members,(function(t){return a("section",{key:t._id,staticClass:"member-choosing"},[a("div",{on:{click:function(a){return e.chooseMember(t,t._id)}}},[a("avatar",{staticClass:"user-avatar",attrs:{backgroundColor:"lightblue",color:"black",size:30,username:t.fullname,src:t.imgUrl}}),e._v(" "+e._s(t.fullname)+" "),e.isMemberIncluded(t._id)?a("svg",{staticClass:"delete-member-svg",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}})]):e._e()],1)])}))],2):e._e(),"Labels"===t.name?a("div",{staticClass:"label-choosing-container"},[e._l(e.labels,(function(t,r){return a("section",{key:t.id,staticClass:"label-choosing"},[e.isLabelEdit?e._e():a("div",{staticClass:"label-color",style:{"background-color":t.color},on:{click:function(a){return e.chooseLabel(t.id)}}},[e.taskToEdit.labelIds.includes(t.id)?a("svg",{staticClass:"delete-label-svg",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}})]):e._e(),e._v(" "+e._s(t.title)+" ")]),e.isLabelEdit?e._e():a("button",{staticClass:"label-pencil",on:{click:function(a){return e.editLabelTitle(t.id,r)}}},[a("svg",{attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}})])])])})),e.isLabelEdit?a("div",{staticClass:"edit-label-container"},[a("label",{attrs:{for:"labelTitle"}},[e._v("Name")]),a("el-input",{staticClass:"labelTitleInput",attrs:{name:"labelTitle"},model:{value:e.labelTitle,callback:function(t){e.labelTitle=t},expression:"labelTitle"}}),a("div",{staticClass:"edit-label-buttons"},[a("el-button",{staticClass:"save",attrs:{type:"primary"},on:{click:e.saveLabelTitle}},[e._v("Save")]),a("el-button",{staticClass:"delete",attrs:{type:"danger"},on:{click:e.removeLabel}},[e._v("Delete")])],1)],1):e._e()],2):e._e(),"Checklist"===t.name?a("div",{staticClass:"add-checklist-container"},[a("h3",{staticClass:"add-checklist-header"},[e._v("Title")]),a("el-input",{attrs:{placeholder:"Enter a title..."},model:{value:e.checklistTitle,callback:function(t){e.checklistTitle=t},expression:"checklistTitle"}}),a("el-button",{staticClass:"add-checklist-btn",attrs:{type:"primary"},on:{click:e.addCheckList}},[e._v("Add")])],1):e._e(),"Dates"===t.name?a("div",{staticClass:"date-picking-container"},[a("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day"},model:{value:e.dateVal,callback:function(t){e.dateVal=t},expression:"dateVal"}}),a("div",{staticClass:"edit-date-buttons"},[a("el-button",{staticClass:"save-date-btn",attrs:{type:"primary"},on:{click:e.saveDate}},[e._v("Save")]),a("el-button",{staticClass:"delete-date-btn",attrs:{type:"info",plain:""},on:{click:e.removeDate}},[e._v("Remove")])],1)],1):e._e(),"Attachment"===t.name?a("div",{staticClass:"attach-popover"},[a("img-upload",{on:{onSaveImg:e.changeImgUrl}})],1):e._e(),"Location"===t.name?a("div",{staticClass:"location-search-container"}):e._e(),"Cover"===t.name?a("div",[a("div",{on:{click:e.removeTaskCover}},[e._v(" Remove cover ")]),e._v(" Colors "),a("background-picker",{attrs:{withImgBg:e.withImgBg},on:{chosenBg:e.chosenBg}}),e._v(" Images "),a("background-unsplash",{on:{onSaveImg:e.onSaveImgCover}})],1):e._e(),a("div",{staticClass:"action-btn-content",attrs:{slot:"reference"},on:{click:function(a){return e.showMap(t.name)}},slot:"reference"},[a("svg",{attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:t.d}}),"Dates"===t.name?a("path",{attrs:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"}}):e._e()]),a("span",[e._v(e._s(t.name))])])])}))],2)])])],2)])]):e._e()},Qt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"activity-created-at-container"},[a("span",{staticClass:"activity-created-at"},[e._v("3 days ago")])])}],qt=(a("d81d"),a("25f0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"map-container"},[a("form",{staticClass:"map-form",on:{submit:function(t){return t.preventDefault(),e.searchLoc.apply(null,arguments)}}},[a("el-input",{staticClass:"map-input",attrs:{type:"text",placeholder:"Search Google Maps",autofocus:""},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),a("button",[a("el-button",{staticClass:"map-search-btn",attrs:{type:"info",plain:""}},[e._v("Locate")])],1)],1),a("section",{staticClass:"card-back-location-footer"},[a("div",[a("div",{staticClass:"card-back-location-details"},[a("div",{staticClass:"quiet"},[e._v(e._s(e.locAddress))])])]),a("el-popover",{staticClass:"remove-map-modal",attrs:{placement:"bottom",title:e.locAddress,trigger:"click"}},[a("hr"),a("h4",{staticClass:"remove-map-inner-btn",on:{click:function(t){return e.$emit("removeMap")}}},[e._v(" Remove ")]),a("span",{staticClass:"remove-map-btn",attrs:{slot:"reference"},slot:"reference"})])],1),a("GmapMap",{ref:"mapRef",staticClass:"map",attrs:{center:e.mapCenter,zoom:10,"map-type-id":"terrain"}},[a("GmapMarker",{attrs:{position:e.mapCenter,clickable:!0,draggable:!1}})],1)],1)}),Ft=[],Wt="AIzaSyAwGiZvHMgXknOgVGzfiqUHedPY-M9aRpM",Yt={searchLoc:Kt,getLocAddress:Xt};function Kt(e){return Zt.apply(this,arguments)}function Zt(){return Zt=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=").concat(Wt));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),console.log("Error in searchLoc (task-map.service):",e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),Zt.apply(this,arguments)}function Xt(e,t){return ea.apply(this,arguments)}function ea(){return ea=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(t,",").concat(a,"&key=").concat(Wt));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),console.log("Error in getLocAddress (task-map.service):",e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),ea.apply(this,arguments)}var ta,aa,ra,na,sa,oa,ia={props:{location:{type:Object,required:!0,default:function(){return{msg:"No Location"}}}},data:function(){return{searchVal:"",mapCenter:this.location.coords,locAddress:this.location.address}},methods:{moveTo:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.mapCenter=e,r=e.lat,n=e.lng,a.next=5,t.$refs.mapRef.$mapPromise;case 5:return s=a.sent,a.next=8,s.panTo({lat:r,lng:n});case 8:return a.next=10,t.getLocAddress(t.mapCenter.lat,t.mapCenter.lng);case 10:o=a.sent,t.$emit("saveLoc",{address:o,coords:{lat:r,lng:n}}),a.next=18;break;case 14:throw a.prev=14,a.t0=a["catch"](0),console.log("Error in moveTo (task-map):",a.t0),a.t0;case 18:case"end":return a.stop()}}),a,null,[[0,14]])})))()},searchLoc:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Yt.searchLoc(e.searchVal);case 3:a=t.sent,r=a.data.results[0].geometry.location,e.moveTo(r),e.searchVal="",t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](0),console.log("Error in searchLoc (task-map):",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getLocAddress:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Yt.getLocAddress(e,t);case 3:return n=r.sent,a.locAddress=n.data.results[0].formatted_address,r.abrupt("return",a.locAddress);case 8:throw r.prev=8,r.t0=r["catch"](0),console.log("Error in getLocAddress (task-map):",r.t0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()}}},ca=ia,la=Object(g["a"])(ca,qt,Ft,!1,null,null,null),ua=la.exports,da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task-checklists"},[a("div",{staticClass:"task-activities"},[e._m(0),a("div",{staticClass:"checklist-progress"},[a("span",{staticClass:"checklist-progress-percentage"},[e._v("0%")]),a("div",{staticClass:"checklist-progress-bar"},[a("div",{staticClass:"checklist-progress-bar-current"}),a("h1",[e._v("Progress:")]),a("div",{staticClass:"bar-container"},[a("div",{staticClass:"prog-bar",style:{width:e.width+"%"}},[e._v(" "+e._s(e.width)+"% ")])])])]),e._m(1),e._m(2)])])},pa=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"window-modal-title"},[a("div",{staticClass:"task-activities-header"}),a("button",{staticClass:"activity-toggle-btn"},[e._v("Delete")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"todo-list"},[a("div",{staticClass:"todo-preview-container"},[a("div",{staticClass:"todo-preview"},[a("div",{staticClass:"checklist-txt-and-btn"},[a("span",{})])]),a("div",{staticClass:"checklist-btns hidden"},[a("button",{staticClass:"nch-btn"},[e._v("Save")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"todo-add-container"},[a("button",{staticClass:"task-btns nch-btn todo-add-btn show"},[e._v(" Add an item ")])])}],ha={props:["checklistTitle"],data:function(){return{checklists:[{id:"",title:"",todos:[{id:"",title:"",isDone:!1}]}]}},methods:{},computed:{}},ga=ha,ma=Object(g["a"])(ga,da,pa,!1,null,null,null),ba=ma.exports,va={name:"taskDetails",data:function(){return{location:{coords:{lat:31.769218,lng:35.208144},address:"Jerusalem"},task:null,group:null,taskToEdit:{},taskTitle:"",isTextAreaVisible:!1,description:"",isCommentInputOpen:!1,isCommentInput:"",commentTxt:"",showDetailsBtnTxt:"Show details",activityListIsShown:!1,asideBtns:[{name:"Members",d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4zm-2 0c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4zm2 0c.2-.71 3.3-2 6-2 2.69 0 5.78 1.28 6 2H3zm17-3v-3h3v-2h-3V7h-2v3h-3v2h3v3h2z"},{name:"Labels",d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42zM13 20.01L4 11V4h7v-.01l9 9-7 7.02z"},{name:"Dates",d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},{name:"Checklist",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z"},{name:"Attachment",d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"},{name:"Location",d:"M10,1.375c-3.17,0-5.75,2.548-5.75,5.682c0,6.685,5.259,11.276,5.483,11.469c0.152,0.132,0.382,0.132,0.534,0c0.224-0.193,5.481-4.784,5.483-11.469C15.75,3.923,13.171,1.375,10,1.375 M10,17.653c-1.064-1.024-4.929-5.127-4.929-10.596c0-2.68,2.212-4.861,4.929-4.861s4.929,2.181,4.929,4.861C14.927,12.518,11.063,16.627,10,17.653 M10,3.839c-1.815,0-3.286,1.47-3.286,3.286s1.47,3.286,3.286,3.286s3.286-1.47,3.286-3.286S11.815,3.839,10,3.839 M10,9.589c-1.359,0-2.464-1.105-2.464-2.464S8.641,4.661,10,4.661s2.464,1.105,2.464,2.464S11.359,9.589,10,9.589"},{name:"Cover",d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H3V5h18v11z"}],labels:[],hasLabelChosen:!1,labelIdToShow:"",labelIdsToShow:[],isLabelEdit:!1,labelTitle:"",labelIdxToEdit:null,labelIdToEdit:null,membersToShow:[],isBigFeatureShown:!1,withImgBg:!1,newAttachTitle:"",isChecklistShown:!1,checklistTitle:"",dateIsShown:!1,dateVal:"",cover:"",isMapShown:!1}},created:function(){this.loadData(),console.log("this.taskToEdit.members:",this.taskToEdit.members)},methods:{loadData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.board,r=e.$route.params.taskId,t.prev=2,e.labels=e.board.labels,n=a.groups.map((function(e){return e.tasks.find((function(e){return e.id===r}))})),e.task=n.find((function(e){return void 0!==e})),e.taskTitle=e.task.title,s=a.groups.find((function(t){return t.tasks.includes(e.task)})),e.group=s,e.taskToEdit=e.task,e.keepMap(e.taskToEdit),e.isDate(e.taskToEdit),t.next=18;break;case 14:throw t.prev=14,t.t0=t["catch"](2),console.log("Error in loadData (task-details):",t.t0),t.t0;case 18:case"end":return t.stop()}}),t,null,[[2,14]])})))()},updateTask:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isTextAreaVisible=!1,t.prev=1,t.next=4,e.$store.dispatch({type:"updateTask",boardId:e.board._id,groupId:e.group.id,task:e.taskToEdit});case 4:console.log("Task Succefully Updated with Id ".concat(e.task.id)),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("Error in updateTask (task-details):",t.t0),t.t0;case 11:return t.prev=11,e.$refs.commInput.value="",e.commentTxt="",t.finish(11);case 15:case"end":return t.stop()}}),t,null,[[1,7,11,15]])})))()},saveLoc:function(e){this.taskToEdit.location=e,this.updateTask()},keepMap:function(e){e.location&&(this.location=e.location,this.isMapShown=!0)},removeMap:function(){this.isMapShown=!1,this.taskToEdit.location=null,this.updateTask()},showMap:function(e){"Location"===e&&(this.isMapShown=!0)},updateBoard:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch({type:"updateBoard",board:e});case 3:console.log("Board updated successfully"),t.labelTitle="",a.next=11;break;case 7:throw a.prev=7,a.t0=a["catch"](0),console.log("Error in updateBoard (task-details):",a.t0),a.t0;case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))()},openTextArea:function(){this.isTextAreaVisible=!0},cancelDescAdding:function(){this.description="",this.isTextAreaVisible=!1},openCommentInput:function(){this.isCommentInputOpen=!0},closeCommentInput:function(){var e=this;this.isCommentInputOpen=!1,this.$nextTick((function(){e.$refs.commInput.value="",e.isCommentInput||(e.commentTxt="")}))},setCommentInputValue:function(e){this.isCommentInput=!!e.target.value},addComment:function(){if(!this.commentTxt.trim())return this.isCommentInput="",void(this.commentTxt="");var e={txt:this.commentTxt,createdAt:Date.now()};this.taskToEdit.comments.unshift(e),this.commentTxt="",this.updateTask()},deleteComment:function(e){this.taskToEdit.comments.splice(e,1),this.updateTask()},commentTimeToShow:function(e){return Tt()(e).calendar()},showDetails:function(){this.activityListIsShown=!this.activityListIsShown,this.showDetailsBtnTxt=this.activityListIsShown?"Hide details":"Show details"},joinMember:function(){this.chooseMember(this.loggedInUser,this.loggedInUser._id)},chooseMember:function(e,t){if(this.isMemberIncluded(t)){var a=this.taskToEdit.members.findIndex((function(e){return e._id===t}));this.taskToEdit.members.splice(a,1)}else this.taskToEdit.members.push(e);this.updateTask()},isMemberIncluded:function(e){return this.taskToEdit.members.some((function(t){return t._id===e}))},getLbColor:function(e){var t=this.board.labels.find((function(t){return t.id===e}));return t.color},getLbTitle:function(e){var t=this.board.labels.find((function(t){return t.id===e}));return t.title},chooseLabel:function(e){this.hasLabelChosen=!0,this.labelIdToShow=e;var t=this.taskToEdit.labelIds.findIndex((function(t){return t===e}));this.taskToEdit.labelIds.includes(e)?this.taskToEdit.labelIds.splice(t,1):this.taskToEdit.labelIds.push(e),this.updateTask()},editLabelTitle:function(e,t){this.isLabelEdit=!0,this.labelIdxToEdit=t,this.labelIdToEdit=e},saveLabelTitle:function(){this.isLabelEdit=!1,this.labels[this.labelIdxToEdit].title=this.labelTitle;var e=JSON.parse(JSON.stringify(this.board));e.labels=this.labels,this.updateBoard(e),this.labelTitle=""},removeLabel:function(){var e=this;this.isLabelEdit=!1;var t=this.taskToEdit.labelIds.findIndex((function(t){return t===e.labelIdToEdit}));this.taskToEdit.labelIds.splice(t,1),this.labels[this.labelIdxToEdit].title="";var a=JSON.parse(JSON.stringify(this.board));a.labels=this.labels,this.updateTask(),this.updateBoard(a)},cancelEditLabel:function(){var e=this;setTimeout((function(){e.isLabelEdit=!1}),500)},saveDate:function(){this.dateIsShown=!0;var e=this.dateVal.toString(),t=e.substring(4,15);this.taskToEdit.dueDate=t,this.updateTask()},removeDate:function(){console.log("removeDate"),this.dateIsShown=!1,this.taskToEdit.dueDate="",this.taskToEdit.isComplete=!1,this.updateTask()},markComplete:function(){this.taskToEdit.isComplete=!this.taskToEdit.isComplete,this.updateTask()},isDate:function(e){e.dueDate&&(this.dateIsShown=!0)},changeImgUrl:function(e){var t=/[^/]*$/.exec(e)[0];this.taskToEdit.attachments.push({title:t,url:e,isCover:!1}),1===this.taskToEdit.attachments.length&&"transparent"!==this.taskToEdit.coverStyle.bgColor&&"none"!==this.taskToEdit.coverStyle.bgImg&&(this.taskToEdit.attachments[0].isCover=!0),this.updateTask(),this.cover=e},backToBoard:function(){this.$router.push("/board/".concat(this.board._id))},removeAttachment:function(e){this.taskToEdit.attachments.splice(e,1),this.updateTask()},attachmentMakeCover:function(e){if(this.taskToEdit.attachments[e].isCover)this.taskToEdit.attachments[e].isCover=!this.taskToEdit.attachments[e].isCover,"transparent"===this.taskToEdit.coverStyle.bgColor&&"none"===this.taskToEdit.coverStyle.bgImg&&(this.taskToEdit.attachments[e].isCover=!0);else{for(var t=0;t<this.taskToEdit.attachments.length;t++)this.taskToEdit.attachments[t].isCover=!1;this.taskToEdit.attachments[e].isCover=!0}this.taskToEdit.coverStyle.bgColor="transparent",this.attachCover()},attachCover:function(){if(this.isAttachCover){var e=this.task.attachments.find((function(e){return e.isCover}));this.taskToEdit.coverStyle.bgImg=e.url,this.updateTask()}},editAttachmentTitle:function(e,t){this.taskToEdit.attachments[t].title=this.newAttachTitle,this.updateTask(),this.newAttachTitle=""},onSaveImgCover:function(e){if(this.taskToEdit.coverStyle.bgColor="transparent",this.taskToEdit.coverStyle.bgImg=e,this.isAttachCover){var t=this.task.attachments.findIndex((function(e){return e.isCover}));this.taskToEdit.attachments[t].isCover=!1}this.updateTask()},chosenBg:function(e){if(this.taskToEdit.coverStyle.bgColor=e.bgColor,this.taskToEdit.coverStyle.bgImg="none",this.isAttachCover){var t=this.task.attachments.findIndex((function(e){return e.isCover}));this.taskToEdit.attachments[t].isCover=!1}this.updateTask()},removeTaskCover:function(){if(this.taskToEdit.coverStyle.bgColor="transparent",this.taskToEdit.coverStyle.bgImg="none",this.isAttachCover){var e=this.task.attachments.findIndex((function(e){return e.isCover}));this.taskToEdit.attachments[e].isCover=!1}this.updateTask()},addCheckList:function(){this.isChecklistShown=!0},addActivity:function(e){var t=JSON.parse(JSON.stringify(this.board));if(this.loggedInUser){var a={byMember:this.loggedInUser,txt:e,createdAt:Date.now()};t.activities.unshift(a),this.updateBoard(t)}}},computed:{board:function(){return this.$store.getters.getCurrBoard},loggedInUser:function(){return this.$store.getters.loggedinUser},visibility:function(){return{hidden:!this.isCommentInputOpen}},saveCommentBtnStyle:function(){return{"save-comment-btn-typing-style":this.isCommentInput}},showBigFeatures:function(){return!!(this.isMapShown||this.taskToEdit.attachments.length>0)},isAttachCover:function(){if(this.taskToEdit.attachments.length>0)return this.task.attachments.some((function(e){return e.isCover}))},isCoverStyle:function(){return"transparent"!==this.taskToEdit.coverStyle.bgColor||"none"!==this.taskToEdit.coverStyle.bgImg||!!this.isAttachCover}},components:{avatar:u.a,imgUpload:_t,GmapMap:ua,backgroundPicker:P,backgroundUnsplash:De,checklistPreview:ba,moment:Tt.a}},fa=va,ka=Object(g["a"])(fa,Ht,Qt,!1,null,null,null),wa=ka.exports,Ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"dash"},[a("section",{staticClass:"modal-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}},[a("section",{staticClass:"dashboard-container",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}},[a("h1",[e._v("DASHBOARD")]),a("button",{staticClass:"close-dashboard-btn",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}}),a("section",{staticClass:"details-container",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}},[a("div",{staticClass:"detail"},[a("span",{staticClass:"material-icons-outlined"},[e._v(" people_alt ")]),a("strong",[e._v(e._s(e.membersCount))])]),a("div",{staticClass:"detail"},[a("span",{staticClass:"material-icons-outlined"},[e._v(" badge ")]),a("strong",[e._v(e._s(e.taskCount)+" Tasks")])])]),e.board?a("section",{staticClass:"charts-container",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}},[a("tasksPerMemberChart",{staticClass:"chart",attrs:{chartData:e.charts.barChartData,options:e.charts.barChartOptions}}),a("tasksByLabelChart",{staticClass:"chart",attrs:{chartData:e.charts.pieChartData,options:e.charts.pieChartOptions}}),a("tasksDueDatesChart",{staticClass:"chart",attrs:{chartData:e.charts.lineChartData,options:e.charts.lineChartOptions}})],1):e._e()])])])},ya=[],xa=(a("159b"),a("1fca")),_a={extends:xa["a"],mixins:[xa["d"].reactiveProp],props:["chartData","options"],mounted:function(){this.renderChart(this.chartData,this.options)}},Ia=_a,Ta=Object(g["a"])(Ia,ta,aa,!1,null,null,null),Sa=Ta.exports,ja={extends:xa["c"],mixins:[xa["d"].reactiveProp],props:["chartData","options"],mounted:function(){this.renderChart(this.chartData,this.options)}},Ba=ja,Ea=Object(g["a"])(Ba,ra,na,!1,null,null,null),Oa=Ea.exports,Ma={extends:xa["b"],mixins:[xa["d"].reactiveProp],props:["chartData","options"],mounted:function(){this.renderChart(this.chartData,this.options)}},Aa=Ma,Ra=Object(g["a"])(Aa,sa,oa,!1,null,null,null),Ua=Ra.exports,La={data:function(){return{taskCount:0,tasksCompleted:0,membersNames:[],dataLabelIds:[],charts:{barChartData:{type:"bar",labels:this.membersNames,datasets:[{data:[],beginAtZero:!0,backgroundColor:["rgba(75, 192, 192, 0.5)","rgba(153, 182, 255, 0.5)","rgba(54, 192, 235, 0.5)"],barThickness:60}]},barChartOptions:{responsive:!0,scales:{yAxes:[{display:!0,ticks:{beginAtZero:!0,stepSize:1}}]},legend:{display:!1},title:{display:!0,text:"Tasks per Member",padding:10},layout:{padding:40}},pieChartData:{type:"pie",labels:[],datasets:[{data:[],backgroundColor:["#40a0ff80","#67c23a88","#e6a23c7e","#f56c6c88"]}]},pieChartOptions:{responsive:!0,legend:{display:!0,position:"right"},title:{display:!0,text:"Tasks By Label",padding:0},layout:{padding:50}},lineChartData:{type:"line",labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{data:[0,0,0,0,0,0,0,0,0,0,0,0],fill:!1,borderColor:"#6e8caa80",backgroundColor:[]}]},lineChartOptions:{responsive:!0,scales:{yAxes:[{display:!0,ticks:{beginAtZero:!0,stepSize:1}}]},legend:{display:!1,position:"bottom"},title:{display:!0,text:"Tasks Due Dates 2022"},layout:{padding:40}}}}},created:function(){this.loadDashboard()},methods:{loadDashboard:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.setMembersData(),e.setLabelsData(),e.getTasksPerDueDate();case 3:case"end":return t.stop()}}),t)})))()},setMembersData:function(){this.setMembersNames(),this.setTasksCount()},setMembersNames:function(){this.charts.barChartData.labels=this.board.members.map((function(e){return e.fullname}))},setTasksCount:function(){var e=this,t=[];this.board.groups.forEach((function(a){a.tasks.forEach((function(a){e.taskCount++,a.isComplete&&e.tasksCompleted++,a.members.forEach((function(e){t.push(e.fullname)}))}))}));var a=0;this.charts.barChartData.labels.forEach((function(r){a=0,t.forEach((function(t){r===t&&(a++,e.charts.barChartData.datasets[0].data[e.charts.barChartData.labels.indexOf(r)]=a)}))}))},setLabelsData:function(){this.charts.pieChartData.labels=this.board.labels.map((function(e){return e.title})),this.dataLabelIds=this.board.labels.map((function(e){return e.id})),this.setLabelsCount()},setLabelsCount:function(){var e=this,t=[];this.board.groups.forEach((function(e){e.tasks.forEach((function(e){e.labelIds.forEach((function(e){t.push(e)}))}))}));var a=0;this.dataLabelIds.forEach((function(r){a=0,t.forEach((function(t){r===t&&(a++,e.charts.pieChartData.datasets[0].data[e.dataLabelIds.indexOf(r)]=a)}))}))},getTasksPerDueDate:function(){var e=this,t=[];this.board.groups.forEach((function(e){e.tasks.forEach((function(e){t.push(e.dueDate.substring(0,3))}))})),t.forEach((function(t){e.charts.lineChartData.labels.forEach((function(a){t===a.substring(0,3)&&e.charts.lineChartData.datasets[0].data[e.charts.lineChartData.labels.indexOf(a)]++}))}));var a=0;this.dataLabelIds.forEach((function(r){a=0,t.forEach((function(t){r===t&&(a++,e.charts.pieChartData.datasets[0].data[e.dataLabelIds.indexOf(r)]=a)}))}))},backToBoard:function(){this.$router.push("/board/".concat(this.board._id))}},computed:{board:function(){return this.$store.getters.getCurrBoard},membersCount:function(){var e="Member";return this.board.members.length>1&&(e+="s"),"".concat(this.board.members.length," ").concat(e)}},components:{tasksPerMemberChart:Sa,tasksByLabelChart:Oa,tasksDueDatesChart:Ua}},Da=La,za=Object(g["a"])(Da,Ca,ya,!1,null,null,null),$a=za.exports,Na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"main-map-container"},[a("section",{staticClass:"modal-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}},[a("button",{staticClass:"close-map-btn",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}}),a("GmapMap",{staticClass:"main-map",attrs:{center:e.center,zoom:2,"map-type-id":"terrain"}},[e._v(" >"),e._l(e.tasks,(function(t,r){return a("GmapMarker",{key:r,attrs:{position:t.location.coords,title:t.location.address,clickable:!0,draggable:!1},on:{click:function(t){e.showById=r},closeclick:function(t){e.showById=null}}},[a("gmap-info-window",{attrs:{opened:e.showById===r}},[a("task-preview",{staticClass:"task-preview-in-map",attrs:{task:t,board:e.board,boardLabels:e.board.labels}})],1)],1)}))],2)],1)])},Ga=[],Pa={data:function(){return{center:{lat:31.769218,lng:35.208144},tasks:[],showById:null}},created:function(){this.getPositions()},methods:{getPositions:function(){var e=this;this.board.groups.forEach((function(t){t.tasks.forEach((function(t){t.location&&e.tasks.push(t)}))}))},backToBoard:function(){this.$router.push("/board/".concat(this.board._id))}},computed:{board:function(){return this.$store.getters.getCurrBoard}},components:{taskPreview:Ze}},Va=Pa,Ja=Object(g["a"])(Va,Na,Ga,!1,null,null,null),Ha=Ja.exports,Qa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"login"},[e.islogin?r("div",[r("h4",[e._v("Login to Trellor")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.userLogin.username,expression:"userLogin.username"}],attrs:{placeholder:"Username",type:"text"},domProps:{value:e.userLogin.username},on:{input:function(t){t.target.composing||e.$set(e.userLogin,"username",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userLogin.password,expression:"userLogin.password"}],attrs:{placeholder:"Password",type:"password"},domProps:{value:e.userLogin.password},on:{input:function(t){t.target.composing||e.$set(e.userLogin,"password",t.target.value)}}}),r("button",[e._v("Login")]),r("button",{on:{click:e.googleSignup}},[r("img",{attrs:{src:a("d06a"),alt:""}}),r("span",[e._v("Continue with Google")])]),r("span",{on:{click:function(t){e.islogin=!1}}},[e._v("Or Sign up")])])]):r("div",[r("h4",[e._v("Sign up")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.signup.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.userSignup.username,expression:"userSignup.username"}],attrs:{placeholder:"username",type:"text"},domProps:{value:e.userSignup.username},on:{input:function(t){t.target.composing||e.$set(e.userSignup,"username",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userSignup.fullname,expression:"userSignup.fullname"}],attrs:{placeholder:"fullname",type:"text"},domProps:{value:e.userSignup.fullname},on:{input:function(t){t.target.composing||e.$set(e.userSignup,"fullname",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userSignup.password,expression:"userSignup.password"}],attrs:{placeholder:"password",type:"password"},domProps:{value:e.userSignup.password},on:{input:function(t){t.target.composing||e.$set(e.userSignup,"password",t.target.value)}}}),r("button",[e._v("Signup")]),r("button",{on:{click:e.googleSignup}},[r("img",{attrs:{src:a("d06a"),alt:""}}),e._v("Continue with Google ")])]),r("span",{on:{click:function(t){e.islogin=!0}}},[e._v("Or login")])])])},qa=[],Fa={data:function(){return{islogin:!0,userLogin:{username:null,password:null},userSignup:{username:null,password:null,fullname:null,imgUrl:"",isAdmin:!1},googleUser:{username:null,password:null,fullname:null,imgUrl:""}}},methods:{login:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.userLogin,t.next=4,e.$store.dispatch({type:"login",user:a});case 4:e.$router.push("/workspace"),console.log("login",a),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](0),console.log("Error in Login :",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},signup:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.userSignup,t.next=4,e.$store.dispatch({type:"signup",user:a});case 4:e.$router.push("/workspace"),console.log("signup",a),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](0),console.log("Error in SignUp :",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},googleSignup:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$gAuth.signIn();case 2:return a=t.sent,t.prev=3,r=a.getBasicProfile(),e.googleUser={username:r.pv,password:r.HW,fullname:r.jf,imgUrl:r.oN},t.prev=6,t.next=9,e.$store.dispatch({type:"signup",user:e.googleUser});case 9:e.$router.push("/workspace"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](6),console.log("Error in google SignUp :",t.t0);case 15:t.next=21;break;case 17:throw t.prev=17,t.t1=t["catch"](3),console.log("Error in google SignUp :",t.t1),t.t1;case 21:case"end":return t.stop()}}),t,null,[[3,17],[6,12]])})))()}}},Wa=Fa,Ya=Object(g["a"])(Wa,Qa,qa,!1,null,null,null),Ka=Ya.exports,Za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",[e._v("loading...")])},Xa=[],er={},tr=er,ar=Object(g["a"])(tr,Za,Xa,!1,null,null,null);ar.exports;r["default"].use(y["a"]);var rr,nr=[{path:"/",name:"home",component:j},{path:"/workspace",name:"workspace",component:Ge},{path:"/board/:boardId",name:"boardDetails",component:Jt,children:[{path:"task/:taskId",name:"taskDetails",component:wa},{path:"dashboard",name:"dashboard",component:$a},{path:"main-map",name:"mainMap",component:Ha}]},{path:"/login",name:"login",component:Ka}],sr=new y["a"]({routes:nr}),or=sr,ir=a("2f62"),cr=a("ade3"),lr=a("daa8"),ur="update-board",dr="",pr=hr();function hr(){var e=null,t={setup:function(){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=Object(lr["a"])(dr);case 1:case"end":return t.stop()}}),t)})))()},on:function(t,a){e.on(t,a)},off:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(a?e.off(t,a):e.removeAllListeners(t))},emit:function(t,a){e.emit(t,a)},terminate:function(){e=null}};return t}window.socketService=pr,pr.setup();var gr={state:{boards:[],currBoard:null,isLoading:!1,watchedBoard:null},getters:{boards:function(e){var t=e.boards;return t},boardsToShow:function(e){return e.boards},getCurrBoard:function(e){return e.currBoard},isLoading:function(e){var t=e.isLoading;return t}},mutations:{setLoading:function(e,t){var a=t.isLoading;e.isLoading=a},getBoard:function(e,t){var a=t.board;e.currBoard=a},setBoards:function(e,t){var a=t.boards;e.boards=a},setBoard:function(e,t){var a=t.board;e.currBoard=a},addBoard:function(e,t){var a=t.savedBoard;e.boards.push(a)},updateBoard:function(e,t){var a=t.board;e.currBoard=a,console.log("hi from mutations updateBoard")},removeBoard:function(e,t){var a=e.boards.findIndex((function(e){return e._id===t.boardId}));e.boards.splice(a,1)}},actions:(rr={loadBoards:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,e.state,a({type:"setLoading",isLoading:!0}),t.prev=2,t.next=5,X.query();case 5:r=t.sent,a({type:"setBoards",boards:r}),pr.on("User connected",(function(e){console.log("msg",e)})),t.next=14;break;case 10:throw t.prev=10,t.t0=t["catch"](2),console.log("Error in Query Boards (Store):",t.t0),t.t0;case 14:return t.prev=14,a({type:"setLoading",isLoading:!1}),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,10,14,17]])})))()},getBoard:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.boardId,a.prev=2,a.next=5,X.getById(n);case 5:return s=a.sent,r({type:"getBoard",board:s}),a.abrupt("return",s);case 10:throw a.prev=10,a.t0=a["catch"](2),console.log("Error in Getting a Board (Store):",a.t0),a.t0;case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},setBoard:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.boardId,a.next=4,X.getById(n);case 4:s=a.sent,r({type:"setBoard",board:s});case 6:case"end":return a.stop()}}),a)})))()},addBoard:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.board,a.prev=2,a.next=5,X.save(n);case 5:return s=a.sent,r({type:"addBoard",savedBoard:s}),a.abrupt("return",s);case 10:throw a.prev=10,a.t0=a["catch"](2),console.log("addBoard (Store):",a.t0),a.t0;case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},updateBoard:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.board,a.prev=2,a.next=5,X.save(n);case 5:s=a.sent,console.log("updateBoard"),pr.emit("update-board",s),pr.off("update-board"),pr.on(ur,(function(e){r({type:"getBoard",board:e}),console.log("%c updateBoard","background: yellow")})),a.next=16;break;case 12:throw a.prev=12,a.t0=a["catch"](2),console.log("updateBoard (Store):",a.t0),a.t0;case 16:case"end":return a.stop()}}),a,null,[[2,12]])})))()},updateBoardTitle:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.boardId,s=t.title,a.prev=2,a.next=5,X.updateBoardTitle(n,s);case 5:o=a.sent,r({type:"updateBoard",board:o}),a.next=13;break;case 9:throw a.prev=9,a.t0=a["catch"](2),console.log("updateBoard (Store):",a.t0),a.t0;case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))()},addGroup:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.boardId,s=t.groupTitle,a.prev=2,a.next=5,X.addGroup(n,s);case 5:o=a.sent,r({type:"updateBoard",board:o}),a.next=13;break;case 9:throw a.prev=9,a.t0=a["catch"](2),console.log("addGroup (Store):",a.t0),a.t0;case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))()},updateBoardBgc:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.boardId,s=t.style,a.prev=2,a.next=5,X.updateBgcBoard(n,s);case 5:o=a.sent,r({type:"updateBoard",board:o}),pr.emit(ur,o),pr.off("update-board"),pr.on(ur,(function(e){r({type:"getBoard",board:e}),console.log("%c updateBoardBgc","background: green")})),a.next=16;break;case 12:throw a.prev=12,a.t0=a["catch"](2),console.log("updateBoard (Store):",a.t0),a.t0;case 16:case"end":return a.stop()}}),a,null,[[2,12]])})))()},removeBoard:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.boardId,a.prev=2,a.next=5,X.remove(n);case 5:r({type:"removeBoard",boardId:n}),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](2),console.log("removeBoard (Store):",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[2,8]])})))()},updateGroup:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.boardId,s=t.group,a.prev=2,a.next=5,X.updateGroup(n,s);case 5:o=a.sent,r({type:"updateBoard",board:o}),console.log("updateGroup"),a.next=14;break;case 10:throw a.prev=10,a.t0=a["catch"](2),console.log("updateGroup (Store):",a.t0),a.t0;case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},removeGroup:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.boardId,s=t.groupId,a.prev=2,a.next=5,X.removeGroup(n,s);case 5:o=a.sent,r({type:"updateBoard",board:o}),a.next=13;break;case 9:throw a.prev=9,a.t0=a["catch"](2),console.log("removeGroup (Store):",a.t0),a.t0;case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))()}},Object(cr["a"])(rr,"addGroup",(function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.boardId,s=t.groupTitle,a.prev=2,a.next=5,X.addGroup(n,s);case 5:o=a.sent,r({type:"updateBoard",board:o}),pr.emit("update-board",o),pr.off("update-board"),pr.on(ur,(function(e){r({type:"getBoard",board:e}),console.log("%c updateBoard","background: yellow")})),a.next=16;break;case 12:throw a.prev=12,a.t0=a["catch"](2),console.log("addGroup (Store):",a.t0),a.t0;case 16:case"end":return a.stop()}}),a,null,[[2,12]])})))()})),Object(cr["a"])(rr,"addTask",(function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.boardId,s=t.groupId,o=t.taskTitle,a.prev=2,a.next=5,X.addTask(n,s,o);case 5:i=a.sent,r({type:"updateBoard",board:i}),pr.emit("update-board",i),pr.off("update-board"),pr.on(ur,(function(e){r({type:"getBoard",board:e}),console.log("%c updateBoard","background: yellow")})),a.next=16;break;case 12:throw a.prev=12,a.t0=a["catch"](2),console.log("addTask Error (Store):",a.t0),a.t0;case 16:case"end":return a.stop()}}),a,null,[[2,12]])})))()})),Object(cr["a"])(rr,"updateTask",(function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.boardId,s=t.groupId,o=t.task,a.prev=2,a.next=5,X.updateTask(n,s,o);case 5:i=a.sent,r({type:"updateBoard",board:i}),pr.emit("update-board",i),pr.off("update-board"),pr.on(ur,(function(e){r({type:"getBoard",board:e}),console.log("%c updateBoard","background: yellow")})),a.next=16;break;case 12:throw a.prev=12,a.t0=a["catch"](2),console.log("updateTask Error (Store):",a.t0),a.t0;case 16:case"end":return a.stop()}}),a,null,[[2,12]])})))()})),Object(cr["a"])(rr,"removeTask",(function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.boardId,s=t.groupId,o=t.task,a.prev=2,a.next=5,X.removeTask(n,s,o);case 5:i=a.sent,r({type:"updateBoard",board:i}),pr.emit("update-board",i),pr.off("update-board"),pr.on(ur,(function(e){console.log("%c updateBoard","background: yellow")})),a.next=16;break;case 12:throw a.prev=12,a.t0=a["catch"](2),console.log("removeGroup (Store):",a.t0),a.t0;case 16:case"end":return a.stop()}}),a,null,[[2,12]])})))()})),rr)},mr={query:br,get:vr,post:fr,put:kr,remove:wr};function br(e){var t=JSON.parse(localStorage.getItem(e))||[];return new Promise((function(e){e(t)}))}function vr(e,t){return br(e).then((function(e){return e.find((function(e){return e._id===t}))}))}function fr(e,t){return t._id=yr(),br(e).then((function(a){return a.push(t),Cr(e,a),t}))}function kr(e,t){return br(e).then((function(a){var r=a.findIndex((function(e){return e._id===t._id}));return a.splice(r,1,t),Cr(e,a),t}))}function wr(e,t){return br(e).then((function(a){var r=a.findIndex((function(e){return e._id===t}));if(console.log("idx",r),r<0)throw new Error("Unknown Entity ".concat(t));a.splice(r,1),Cr(e,a)}))}function Cr(e,t){localStorage.setItem(e,JSON.stringify(t))}function yr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}var xr="loggedinUser",_r=null,Ir={login:Mr,logout:Lr,signup:Rr,getLoggedinUser:$r,getUsers:Tr,getById:Sr,remove:Br,update:Er};function Tr(){return Y.get("user")}function Sr(e){return jr.apply(this,arguments)}function jr(){return jr=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y.get("user/".concat(t));case 2:return a=e.sent,_r=a,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function Br(e){return Y.delete("user/".concat(e))}function Er(e){return Or.apply(this,arguments)}function Or(){return Or=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y.put("user/".concat(t._id),t);case 2:return t=e.sent,$r()._id===t._id&&zr(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),Or.apply(this,arguments)}function Mr(e){return Ar.apply(this,arguments)}function Ar(){return Ar=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y.post("auth/login",t);case 2:if(a=e.sent,!a){e.next=5;break}return e.abrupt("return",zr(a));case 5:case"end":return e.stop()}}),e)}))),Ar.apply(this,arguments)}function Rr(e){return Ur.apply(this,arguments)}function Ur(){return Ur=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y.post("auth/signup",t);case 2:return a=e.sent,e.abrupt("return",zr(a));case 4:case"end":return e.stop()}}),e)}))),Ur.apply(this,arguments)}function Lr(){return Dr.apply(this,arguments)}function Dr(){return Dr=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return sessionStorage.removeItem(xr),e.next=3,Y.post("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Dr.apply(this,arguments)}function zr(e){return sessionStorage.setItem(xr,JSON.stringify(e)),e}function $r(){return JSON.parse(sessionStorage.getItem(xr)||"null")}window.userService=Ir,Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:$r(),window.addEventListener("storage",Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(_r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mr.query("user");case 4:if(t=e.sent,a=t.find((function(e){return e._id===_r._id})),a){e.next=8;break}return e.abrupt("return");case 8:_r=a;case 9:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})))();var Nr={state:{loggedinUser:Ir.getLoggedinUser(),users:[],watchedUser:null},getters:{users:function(e){var t=e.users;return t},loggedinUser:function(e){var t=e.loggedinUser;return t},watchedUser:function(e){var t=e.watchedUser;return t}},mutations:{setLoggedinUser:function(e,t){var a=t.user;e.loggedinUser=a?Object(Je["a"])({},a):null},setWatchedUser:function(e,t){var a=t.user;e.watchedUser=a},setUsers:function(e,t){var a=t.users;e.users=a},removeUser:function(e,t){var a=t.userId;e.users=e.users.filter((function(e){return e._id!==a}))}},actions:{login:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.user,a.prev=2,a.next=5,Ir.login(n);case 5:return s=a.sent,r({type:"setLoggedinUser",user:s}),a.abrupt("return",n);case 10:throw a.prev=10,a.t0=a["catch"](2),console.log("userStore: Error in login",a.t0),a.t0;case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},signup:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.user,a.prev=2,a.next=5,Ir.signup(n);case 5:return s=a.sent,r({type:"setLoggedinUser",user:s}),a.abrupt("return",n);case 10:throw a.prev=10,a.t0=a["catch"](2),console.log("userStore: Error in signup",a.t0),a.t0;case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},logout:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,Ir.logout();case 4:a({type:"setLoggedinUser",user:null}),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("userStore: Error in logout",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},loadUsers:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,Ir.getUsers();case 4:r=t.sent,a({type:"setUsers",users:r}),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](1),console.log("userStore: Error in loadUsers",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},loadAndWatchUser:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.userId,a.prev=2,a.next=5,Ir.getById(n);case 5:s=a.sent,r({type:"setWatchedUser",user:s}),socketService.emit(SOCKET_EMIT_USER_WATCH,n),socketService.off(SOCKET_EVENT_USER_UPDATED),socketService.on(SOCKET_EVENT_USER_UPDATED,(function(e){r({type:"setWatchedUser",user:e})})),a.next=16;break;case 12:throw a.prev=12,a.t0=a["catch"](2),console.log("userStore: Error in loadAndWatchUser",a.t0),a.t0;case 16:case"end":return a.stop()}}),a,null,[[2,12]])})))()},removeUser:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.userId,a.prev=2,a.next=5,Ir.remove(n);case 5:r({type:"removeUser",userId:n}),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](2),console.log("userStore: Error in removeUser",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[2,8]])})))()},updateUser:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.user,a.prev=2,a.next=5,Ir.update(n);case 5:n=a.sent,r({type:"setUser",user:n}),a.next=13;break;case 9:throw a.prev=9,a.t0=a["catch"](2),console.log("userStore: Error in updateUser",a.t0),a.t0;case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))()}}};r["default"].use(ir["a"]);var Gr=new ir["a"].Store({state:{},mutations:{},actions:{},modules:{boardStore:gr,userStore:Nr}}),Pr=(a("f27b"),a("5c96")),Vr=a.n(Pr),Jr=(a("0fae"),a("4897")),Hr=a.n(Jr),Qr=a("b2d6"),qr=a.n(Qr),Fr=a("1881"),Wr=a.n(Fr),Yr=a("f174"),Kr=a.n(Yr),Zr=a("d1d6"),Xr=a.n(Zr),en=a("755e"),tn=a("c9bf"),an={clientId:"73547935874-acobqisphl71iagl9qa6lt0pirq3m9qa.apps.googleusercontent.com",scope:"profile email",prompt:"select_account",fetch_basic_profile:!0};r["default"].use(tn["a"],an),r["default"].use(Xr.a),r["default"].use(Kr.a),r["default"].use(Vr.a),Hr.a.use(qr.a),r["default"].use(Wr.a),r["default"].config.productionTip=!1,new r["default"]({created:function(){this.$store.dispatch({type:"loadBoards"}),this.$store.dispatch({type:"loadUsers"})},router:or,store:Gr,render:function(e){return e(w)}}).$mount("#app"),r["default"].use(en,{load:{key:"AIzaSyAwGiZvHMgXknOgVGzfiqUHedPY-M9aRpM",libraries:"places"}})},6287:function(e,t,a){e.exports=a.p+"img/undraw_taking_notes_re_bnaf.3e2ce589.svg"},"6d64":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAF7klEQVRoge1ZW2xURRj+Zs6e3W3L9n6hYGltkQK9UCjYcottQoyhT4WEF4QAidGABtBYNRqziZdEkCLG0hhCIIgxLi9oAlIgLFiiLQW7WGnayk3aCi30srTd7p6zZ8YHpCHds2fP6S6XKN/bzvz/P9+3M+ef+WeAp3iK/zdIJIJwO0zwiuvgYZVw80K4eQokiPByCgZABMck4oON9MNGWmCjDljlA8QOf7hjhyWAV4mlGGI70MlK4OaCIWcbUTCNNiKRbiKfyq6JcpiQAP6RJRdd8iF0sIKw/0MBwHP0ItLYSvIxrhh1NyyAv0Or0cy3YJRHZPmNIQYMs+l2Us3eNeKmmwSvRhRa6QW0s1nG2RlALnXhGVZC7JD0mFM9Rnw3EtBMrz108gDQzorgptv0moecAb4PVpwgN9DJU8JjphP55DSp5eV6zUPPQCNtenTkBUPkAcCk1cnfpl+igeXrjmYjCjKpC9H8MNJoPTz+SwAoJFMBJLYEblSim+djSCXl5gtnSK1iiDygsYT4NksOnFIHhnnoWbIRBXl0L2KUN0J9fNyOaAwKu9HBXh4Tco98mVHygJaArUITzivzQ0bIpt2YwYrJ++gxMjD/ADm4Ts/CRtonSh4IIoCficqAn11Gnd+MBgXgQbxn0WYsYwvIKigTJRAugiwPvgkmmFFhAlaLQJSKzmza/bjJAyozwB0QkGb5C8DUsca7HHD4gevs3u9YomAGzyQ70f2oiAZD4AykRj2PB8kDQCwBNohAhene2WUG3f8kkAdU06hSrvppUAALBWAy6cEFedNDZ6YTgQIIKdb0yKIOsg4+vQOkV/0eLAUYQqxpiBfFt179vuqV6Q+2By4hjlzNSBxHI0HIKO76baTbO3nq+PZAAYSkh4h1OVKkjKJPSjCPb1NJo3ySdhjfrUgRMgqP3xrAV9dx+kkBV6mhVASQYc0oJsuUSBEyihjBE5AQVD5iflMzih/ZkaNkDEkWd0D2U/mI0aEZhaIicpSMIcnS3ze+TWUf4E3gpFItQD+zoHYkb0O1A1Vvrvp1VM+gN7cV6qq7tx9YE/Ptn+vdPb7koNczmVHdzePbAmdAEZxqzi3+RGy5uxgNclq0OEmu0UPKCP525+7SIg8AU2J6vxvfFiigbPQcgK77PzmAH71Z+HBoAQaYBQDQIKeuranLzwiX9H3srH0t62TP0vVaNsnmAcWbE+cY3x4ggBAwgBwEgBEu4pOhYuzxzIL/gcLMzcxCl5zY6HSWaZakemB32k1nBhf9ckdK0EzppUm/NdjL7QHXaOpOjNRcUWLlre5FaJRTVU1a5MT0nz3y+XBE2J1205ULk12NA0Wau79I/ci2dG1W61MVQMpHuw55clpvsmhNAk1SypzjI+zG3uO5hveGr0/kTetppe0nexflhbJdnHj+0nsbd1xQ6ws6bXniQGUClVio4C1yYrpzNOfGV8fm7bXvK7OGsj9QVxiz68iCPfUjmddupTdnL518WtM+1jTEc+PbVgTr10xxtUeKqo9KWVv1nofjqaTMNg20xFHf4RTuqzcJ3j+8ZoGNeqNmejl9sY9FL+9Q4ooGmXks2xBOkNRTiOPXV6geFVZMPVZbs7lq44QEAMBnR0qa66X0Ip0aJozUwQycal8L37+ZDgCWJJ9vO1S1QfM6M+Rh7tmR4ZLZwuBDP4H2xneirLAGyeZ+AEBBXFtfSszoglB+unZJpzMr/qQno/WilBSqVggbNtkKsWthd3Zy5zz72s97Q9nrvl53OrOsZz3p585JaQURqRGDYKG5xzWX3C5dvvyyrrLV8CPFnp8Kt53yZbw1xMWI1hKxRGYviN07Xq1wVRnxm9Aryzc/zJveJZodTVLKXMng09h4iGCYb77tyrL0rVy9rOOqUf+wnon21xUU35ajv2hT4kt7WJShHTlJ8PpnCoON0+B9fXWF69E+8o2Hg0MYOlq0xk3ElX3cOueOYk0ZZaJ5GAJlILASP4+D7EugUl+S4L2YQHyO2JdcB1eRx3st+RRP8V/APxpfGCkoT5O8AAAAAElFTkSuQmCC"},"6fac":function(e,t,a){e.exports=a.p+"img/homepage.ec4704b2.jpg"},7220:function(e,t,a){e.exports=a.p+"img/6.4b5bb98a.jpg"},7736:function(e,t,a){e.exports=a.p+"img/photos.91363c47.jpg"},"8fc8":function(e,t,a){e.exports=a.p+"img/undraw_work_chat_re_qes4.0b279494.svg"},a760:function(e,t,a){e.exports=a.p+"img/3.9c363ca9.jpg"},ab86:function(e,t,a){e.exports=a.p+"img/4.2d5d5117.jpg"},b78b:function(e,t,a){e.exports=a.p+"img/4871715.3092ff07.png"},bb6e:function(e,t,a){var r={"./1.jpg":"38f3","./2.jpg":"cedd","./3.jpg":"a760","./4.jpg":"ab86","./4871715.png":"b78b","./5.jpg":"4e68","./6.jpg":"7220","./7.jpg":"de17","./homepage.jpg":"6fac","./icons8-google-48.png":"6d64","./icons8-google.svg":"d06a","./loader48x48.gif":"f737","./loading.gif":"f8b2","./outline_filter_list_white_24dp.png":"ea7b","./photos.jpg":"7736","./rainbow.jpg":"edda","./undraw_completed_tasks_vs6q.svg":"3f1b","./undraw_taking_notes_re_bnaf.svg":"6287","./undraw_work_chat_re_qes4.svg":"8fc8"};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id="bb6e"},bced:function(e,t,a){},c193:function(e,t,a){"use strict";a("bced")},cedd:function(e,t,a){e.exports=a.p+"img/2.f2e803d7.jpg"},d06a:function(e,t,a){e.exports=a.p+"img/icons8-google.648fa9fa.svg"},de17:function(e,t,a){e.exports=a.p+"img/7.c5826275.jpg"},ea7b:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAALklEQVRYhe3SMQ0AAAjAMPybBg8EAkdrYM8iAJ7JIQL9AMxaX1MADqxvKQBwqQCAwh3/5fMWOgAAAABJRU5ErkJggg=="},edda:function(e,t,a){e.exports=a.p+"img/rainbow.334ce22c.jpg"},f27b:function(e,t,a){},f737:function(e,t,a){e.exports=a.p+"img/loader48x48.535bccce.gif"},f8b2:function(e,t,a){e.exports=a.p+"img/loading.cf954d91.gif"}});
//# sourceMappingURL=app.43f52979.js.map