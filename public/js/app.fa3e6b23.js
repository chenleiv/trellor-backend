(function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"38f3":function(e,t,r){e.exports=r.p+"img/1.8784e35e.jpg"},"3f1b":function(e,t,r){e.exports=r.p+"img/undraw_completed_tasks_vs6q.46b4b046.svg"},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id="4678"},"4e68":function(e,t,r){e.exports=r.p+"img/5.a8ff51f6.jpg"},"56d7":function(e,t,r){"use strict";r.r(t);var a=r("5530"),n=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{style:{backgroundColor:e.boardStyle.bgColor,backgroundImage:e.boardStyle.bgImg},attrs:{id:"app"}},[r("main-header"),r("router-view",{on:{setBg:e.setBg}})],1)},o=[],i=r("1da1"),c=(r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"main-header main-layout"},[r("section",{staticClass:"header-container"},[r("div",{staticClass:"logo"},[r("router-link",{attrs:{to:"/workspace"}},[r("span",{staticClass:"el-icon-s-grid grid-icon"})]),r("router-link",{staticClass:"logo-trellor",attrs:{to:"/"}},[r("h1",[r("span",{staticClass:"logo-icon"}),e._v("Trellor")])])],1),r("div",{staticClass:"right-side"},[e.loggedInUser?e._e():r("router-link",{attrs:{to:"/login"}},[e._v(" Login")]),e.loggedInUser?r("el-popover",{attrs:{placement:"bottom-end",width:"100",title:"Hello, "+e.loggedInUser.fullname},model:{value:e.toggleUserMenu,callback:function(t){e.toggleUserMenu=t},expression:"toggleUserMenu"}},[e.loggedInUser?r("button",{staticClass:"logout-btn",on:{click:e.logout}},[e._v(" Logout ")]):e._e(),e.loggedInUser?r("avatar",{staticClass:"right-side-avatar",attrs:{slot:"reference",src:e.loggedInUser.imgUrl,backgroundColor:"darkslateblue",color:"#fff",size:30,username:e.loggedInUser.fullname},slot:"reference"}):e._e()],1):e._e()],1)])])}),l=[],u=r("4a89"),d=r.n(u),p=r("b0af");new p["a"].WebAuth({domain:"dev-84pqkjz5.us.auth0.com",clientID:"8GJjaeHcFQOb86aV8vMWJRXYKXl9BM1V",redirectUri:"",responseType:"token id_token",scope:"openid profile"});var h={name:"mainHeader",data:function(){return{headerColor:"",input:"",toggleUserMenu:!1}},created:function(){this.boardId=this.$route.params.boardId,this.boardId&&(this.headerColor="#00000073")},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser}},methods:{setSearchFilter:function(){},logout:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.toggleUserMenu=!1,t.prev=1,t.next=4,e.$store.dispatch({type:"logout"});case 4:"/login"!==e.$route.path&&e.$router.push("/login"),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("err in logout (login cmp)",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},components:{Avatar:d.a}},g=h,m=r("2877"),b=Object(m["a"])(g,c,l,!1,null,null,null),v=b.exports,f={name:"app",data:function(){return{boardId:null,boardStyle:{bgColor:"#fff",bgImg:"none"}}},created:function(){this.boardId=this.$route.params.boardId,this.loggedInUser||this.login()},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser}},methods:{setBg:function(e){console.log("new style",e),this.boardStyle=e},login:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={fullname:"Guest",username:"guest1@gmail.com",password:"guest123",imgUrl:"https://res.cloudinary.com/cloudinaryorb/image/upload/v1639142324/guest_b8lh6r.png"},t.next=4,e.$store.dispatch({type:"login",user:r});case 4:t.next=10;break;case 6:throw t.prev=6,t.t0=t["catch"](0),console.log("Error in Login :",t.t0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},watch:{"$route.params.boardId":{handler:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.$route.params.boardId,!r){t.next=15;break}return t.prev=2,t.next=5,e.$store.dispatch({type:"getBoard",boardId:r});case 5:a=t.sent,e.boardStyle=a.style,t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Error in handler (main-header):",t.t0),t.t0;case 13:t.next=16;break;case 15:e.boardStyle={bgColor:"#00a1ff",bgImg:"none"};case 16:case"end":return t.stop()}}),t,null,[[2,9]])})))()},immediate:!0}},components:{mainHeader:v}},k=f,w=Object(m["a"])(k,s,o,!1,null,null,null),C=w.exports,y=r("9483");Object(y["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var x=r("8c4f"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",[a("div",{staticClass:"link"},[e._m(0),a("button",{on:{click:e.goTo}},[e._v("Try Demo")])]),a("img",{attrs:{src:r("6fac"),alt:""}})])])},I=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",[r("h1",[e._v("Trellor: where powerful work gets done.")]),r("p",[e._v(" Make every project a success: customize your Trello workspace with more ways to visualize your work and dashboards to help every team do their best work ")])])}],T={name:"home",methods:{goTo:function(){this.$router.push("/workspace")}},components:{}},j=T,S=Object(m["a"])(j,_,I,!1,null,null,null),B=S.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"workspace main-layout full"},[r("section",[e.atleastOneStarred?r("h4",{staticClass:"favorites"},[e._v("Favorites")]):e._e(),e.atleastOneStarred?r("div",{staticClass:"board-previews-container"},[e._l(e.boards,(function(t){return[t.isStarred?r("board-preview",{key:t._id,attrs:{board:t},on:{atleastOneStarred:e.atleastOneStarred}}):e._e()]}))],2):e._e(),r("div",{staticClass:"board-previews-container"},[r("div",{staticClass:"add-board-btn",on:{click:e.openBoardModal}},[r("span",[e._v("Create new board")])]),e.isModalOpen?r("div",{staticClass:"modal-background",on:{click:function(t){e.isModalOpen=!1,e.openUnsplash=!1}}}):e._e(),e.isModalOpen?r("div",{staticClass:"modal-container"},[r("div",{staticClass:"add-board-modal",style:{backgroundColor:e.boardStyle.bgColor,backgroundImage:"linear-gradient(rgb(0 0 0 / 27%), rgb(0 0 0 / 10%)) ,"+e.boardStyle.bgImg}},[r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newBoard.title,expression:"newBoard.title"}],attrs:{type:"text",placeholder:"Add board title"},domProps:{value:e.newBoard.title},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addBoard.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.newBoard,"title",t.target.value)}}})]),r("background-picker",{on:{chosenBg:e.chosenBg}}),r("div",{staticClass:"modal-board-btns"},[r("button",{attrs:{disabled:!e.newBoard.title.length},on:{click:e.addBoard}},[e._v(" Create board ")]),r("button",{on:{click:function(t){e.openUnsplash=!e.openUnsplash}}},[r("span",{}),e._v("More ")])])],1),e.openUnsplash?r("background-unsplash",{on:{onSaveImg:e.onSaveImg}}):e._e()],1):e._e(),e._l(e.boards,(function(t){return[t.isStarred?e._e():r("board-preview",{key:t._id,attrs:{board:t},on:{atleastOneStarred:e.atleastOneStarred}})]}))],2)])])},O=[],A=(r("d3b7"),r("e9c4"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-link",{attrs:{to:"/board/"+e.board._id}},[r("div",{staticClass:"board-preview",style:{backgroundColor:e.board.style.bgColor,backgroundImage:"linear-gradient(rgb(0 0 0 / 27%), rgb(0 0 0 / 10%)) ,"+e.board.style.bgImg}},[r("h4",{staticClass:"board-preview-title"},[e._v(e._s(e.board.title))]),r("span",{class:{starred:e.isStarred},on:{click:function(t){return t.preventDefault(),e.updateStarBoard.apply(null,arguments)}}})])])}),M=[],R={name:"boardPreview",props:{board:{type:Object,required:!0,default:function(){return{msg:"No Board"}}}},data:function(){return{isStarred:this.board.isStarred}},methods:{clickBoard:function(){console.log("",this.board),this.$router.push("/board/".concat(this.board._id))},updateStarBoard:function(){this.isStarred=!this.isStarred;var e=JSON.parse(JSON.stringify(this.board));e.isStarred=this.isStarred,this.updateBoard(e)},updateBoard:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch({type:"updateBoard",board:e});case 3:r.sent,console.log("Board changed successfully"),r.next=11;break;case 7:throw r.prev=7,r.t0=r["catch"](0),console.log("Error in adding a board (workspace):",r.t0),r.t0;case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))()}}},U=R,D=Object(m["a"])(U,A,M,!1,null,null,null),L=D.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"background-picker"},[e._l(e.colorList,(function(t,r){return a("div",{key:r,staticClass:"color-box",class:{colorChoice:e.style.bgColor===t},style:{"background-color":t},attrs:{id:"color-box"+r},on:{click:function(r){return e.chooseBg("color",t)}}})})),e.withImgBg?e._l(e.imageList,(function(t,n){return a("div",{key:"a"+n,staticClass:"color-box",class:{colorChoice:e.style.bgImg==="url("+r("bb6e")("./"+t)+")"},style:{"background-image":"url("+r("bb6e")("./"+t)+")"},attrs:{id:"color-boxa"+n},on:{click:function(r){return e.chooseBg("image",t)}}})})):e._e()],2)},$=[],P={props:{withImgBg:{type:Boolean,default:!0}},data:function(){return{colorList:["#0079bf","#d29034","#519839","#b04632","#89609e","#cd5a91","#4bbf6b","#00aecc","#afafaf","#172b4d","#f5dd29","#d59a47"],imageList:["5.jpg","2.jpg","3.jpg","7.jpg","6.jpg","1.jpg"],style:{bgColor:"",bgImg:""}}},created:function(){},methods:{chooseBg:function(e,t){console.log("",e),"color"===e?(this.style.bgImg="none",this.style.bgColor=t):(this.style.bgColor="none",this.style.bgImg="url(".concat(r("bb6e")("./"+t),")")),this.$emit("chosenBg",this.style)}}},N=P,V=Object(m["a"])(N,z,$,!1,null,null,null),G=V.exports;r("c740"),r("7db0"),r("a434");function J(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function H(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var q={makeId:J,getRandomInt:H},Q=(r("99af"),r("bc3a")),W=r.n(Q),F="/api/",Y=W.a.create({withCredentials:!0}),K={get:function(e,t){return Z(e,"GET",t)},post:function(e,t){return Z(e,"POST",t)},put:function(e,t){return Z(e,"PUT",t)},delete:function(e,t){return Z(e,"DELETE",t)}};function Z(e){return X.apply(this,arguments)}function X(){return X=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"GET",a=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,Y({url:"".concat(F).concat(t),method:r,data:a,params:"GET"===r?a:null});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("Had Issues ".concat(r,"ing to the backend, endpoint: ").concat(t,", with data:"),a),e.t0.response&&e.t0.response.status,e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),X.apply(this,arguments)}var ee={query:te,getById:ae,remove:se,save:ie,getEmptyBoard:Be,getEmptyGroup:le,addGroup:ke,updateGroup:Ie,removeGroup:je,getEmptyTask:ue,addTask:de,updateTask:ve,updateBoardTitle:Ce,updateBgcBoard:xe,removeTask:he,addActivity:me};function te(){return re.apply(this,arguments)}function re(){return re=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",K.get("board"));case 4:throw e.prev=4,e.t0=e["catch"](0),console.log("Error in Query board (Front board Service):",e.t0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,4]])}))),re.apply(this,arguments)}function ae(e){return ne.apply(this,arguments)}function ne(){return ne=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K.get("board/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),ne.apply(this,arguments)}function se(e){return oe.apply(this,arguments)}function oe(){return oe=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",K.delete("board/".concat(t)));case 1:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}function ie(e){return ce.apply(this,arguments)}function ce(){return ce=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t._id){e.next=6;break}return K.put("board",t),e.abrupt("return",t);case 6:return console.log("POST (save)"),e.abrupt("return",K.post("board",t));case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e["catch"](0),console.log("Saving Error (Front Toy Service):",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),ce.apply(this,arguments)}function le(){return{id:q.makeId(),title:"",tasks:[]}}function ue(){return{id:q.makeId(),title:"",description:"",comments:[],attachments:[],checklists:[],members:[],labelIds:[],createdAt:"",dueDate:"",byMember:{},coverStyle:{bgColor:"transparent",bgImg:"none"},location:null,isComplete:!1}}function de(e,t,r){return pe.apply(this,arguments)}function pe(){return pe=Object(i["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return n=e.sent,s=n.groups.findIndex((function(e){return e.id===r})),o=ue(),o.title=a,n.groups[s].tasks.push(o),ie(n),e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e["catch"](0),console.log("Error in addTask (board-service):",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),pe.apply(this,arguments)}function he(e,t,r){return ge.apply(this,arguments)}function ge(){return ge=Object(i["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return n=e.sent,s=n.groups.find((function(e){return e.id===r})),o=s.tasks.findIndex((function(e){return e.id===a.id})),s.tasks.splice(o,1),ie(n),e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e["catch"](0),console.log("Error in removeTask (board-service):",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),ge.apply(this,arguments)}function me(e,t){return be.apply(this,arguments)}function be(){return be=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return a=e.sent,a.activities.unshift(r),e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e["catch"](0),console.log("Error in addActivity (board-service):",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),be.apply(this,arguments)}function ve(e,t,r){return fe.apply(this,arguments)}function fe(){return fe=Object(i["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return n=e.sent,s=n.groups.find((function(e){return e.id===r})),o=s.tasks.findIndex((function(e){return e.id===a.id})),s.tasks.splice(o,1,a),ie(n),e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e["catch"](0),console.log("Error in updateTask (board-service):",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),fe.apply(this,arguments)}function ke(e,t){return we.apply(this,arguments)}function we(){return we=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return a=e.sent,n=le(),n.title=r,a.groups.push(n),ie(a),e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e["catch"](0),console.log("Error in addGroup (board-service):",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),we.apply(this,arguments)}function Ce(e,t){return ye.apply(this,arguments)}function ye(){return ye=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return a=e.sent,a.title=r,ie(a),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e["catch"](0),console.log("Error in updateBoard (board-service):",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),ye.apply(this,arguments)}function xe(e,t){return _e.apply(this,arguments)}function _e(){return _e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return a=e.sent,a.style=r,ie(a),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e["catch"](0),console.log("Error in updateBoard (board-service):",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),_e.apply(this,arguments)}function Ie(e,t){return Te.apply(this,arguments)}function Te(){return Te=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return a=e.sent,n=a.groups.findIndex((function(e){return e.id===r.id})),a.groups.splice(n,1,r),console.log("idx",n),console.log("newGroup",r),ie(a),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e["catch"](0),console.log("Error in updateGroup (board-service):",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),Te.apply(this,arguments)}function je(e,t){return Se.apply(this,arguments)}function Se(){return Se=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:return a=e.sent,n=a.groups.findIndex((function(e){return e.id===r})),a.groups.splice(n,1),ie(a),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e["catch"](0),console.log("Error in removeGroup (board-service):",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),Se.apply(this,arguments)}function Be(){return{title:"",createdAt:"",createdBy:{_id:"",fullname:"",imgUrl:""},style:{bgColor:"",bgImg:""},labels:[{id:"l101",title:"",color:"#409EFF"},{id:"l102",title:"",color:"#67C23A"},{id:"l103",title:"",color:"#E6A23C"},{id:"l104",title:"",color:"#F56C6C"},{id:"l105",title:"",color:"#cc79da"}],members:[],groups:[{id:q.makeId(4)+"s",title:"To do",tasks:[{id:q.makeId(4)+"j",title:"Do that",description:"",comments:[],attachments:[],checklists:[],members:[],labelIds:["l101"],createdAt:"",dueDate:"",byMember:{},coverStyle:{bgColor:"transparent",bgImg:"none"},location:null,isComplete:!1}]},{id:q.makeId(4)+"f",title:"Doing",tasks:[{id:q.makeId(4)+5,title:"Do that",description:"",comments:[],attachments:[],checklists:[],members:[],labelIds:[],createdAt:"",dueDate:"",byMember:{},coverStyle:{bgColor:"transparent",bgImg:"none"},location:null,isComplete:!1}]},{id:q.makeId(),title:"Done",tasks:[{id:q.makeId(),title:"Do that",description:"",comments:[],attachments:[],checklists:[],members:[],labelIds:[],createdAt:"",dueDate:"",byMember:{},coverStyle:{bgColor:"transparent",bgImg:"none"},location:null,isComplete:!1}]}],activities:[],isStarred:!1}}var Ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"background-unsplash"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"},{name:"debounce",rawName:"v-debounce:500ms",value:e.getImgsBySearch,expression:"getImgsBySearch",arg:"500ms"}],attrs:{type:"text",placeholder:"Search..."},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e.results?r("div",e._l(e.results,(function(t,a){return r("div",{key:a,staticClass:"unsplash-box",style:{backgroundImage:"url("+t.urls.regular+")"},on:{click:function(r){return e.sendUrl(t.urls.regular)}}})})),0):e._e()])},Oe=[],Ae=(r("ac1f"),r("841c"),{getSplashImgs:Me});function Me(e){return Re.apply(this,arguments)}function Re(){return Re=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("https://api.unsplash.com/search/photos/?page=1&per_page=13&query=".concat(t,"&client_id=XGYYMqGiMfqUGBm9w0BzTl5QOWO81DXIKOM2JANkkl8"));case 3:return r=e.sent,e.abrupt("return",r.data.results);case 7:throw e.prev=7,e.t0=e["catch"](0),console.log("error in unsplash service",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),Re.apply(this,arguments)}var Ue={data:function(){return{search:"",results:[]}},created:function(){this.getImgsBySearch()},methods:{getImgsBySearch:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="landscape",e.search&&(r=e.search),t.prev=2,t.next=5,Ae.getSplashImgs(r);case 5:a=t.sent,e.results=a,t.next=12;break;case 9:throw t.prev=9,t.t0=t["catch"](2),t.t0;case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},sendUrl:function(e){console.log("url",e),this.$emit("onSaveImg",e)}}},De=Ue,Le=Object(m["a"])(De,Ee,Oe,!1,null,null,null),ze=Le.exports,$e={name:"workspace",data:function(){return{isModalOpen:!1,newBoard:ee.getEmptyBoard(),openUnsplash:!1,boardStyle:{bgColor:"transparent",bgImg:"url(".concat(r("cedd"),")")},isAtleastOneStarred:!0}},created:function(){},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},boards:function(){return this.$store.getters.boardsToShow},atleastOneStarred:function(){return this.boards.some((function(e){return e.isStarred}))}},methods:{onSaveImg:function(e){this.boardStyle.bgImg="url(".concat(e,")"),this.boardStyle.bgColor="transparent"},openBoardModal:function(){this.isModalOpen=!this.isModalOpen},chosenBg:function(e,t){this.boardStyle=e,console.log("this.boardStyle",this.boardStyle)},addBoard:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.newBoard.title){t.next=2;break}return t.abrupt("return");case 2:return e.loggedInUser&&(e.newBoard.members.push(e.loggedInUser),e.newBoard.activities.unshift({byMember:e.loggedInUser,txt:"has added a board",createdAt:Date.now()})),console.log("",e.newBoard),e.newBoard.style=e.boardStyle,r=JSON.parse(JSON.stringify(e.newBoard)),t.prev=6,r.createdAt=Date.now(),t.next=10,e.$store.dispatch({type:"addBoard",board:r});case 10:a=t.sent,console.log("Board added successfully"),e.$router.push("/board/".concat(a._id)),t.next=19;break;case 15:throw t.prev=15,t.t0=t["catch"](6),console.log("Error in adding a board (workspace):",t.t0),t.t0;case 19:return t.prev=19,e.newBoard.Title="",e.openBoardModal(),t.finish(19);case 23:case"end":return t.stop()}}),t,null,[[6,15,19,23]])})))()}},watch:{"this.boards":{handler:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("watch");case 1:case"end":return e.stop()}}),e)})))()},immediate:!0}},components:{boardPreview:L,backgroundPicker:G,backgroundUnsplash:ze}},Pe=$e,Ne=Object(m["a"])(Pe,E,O,!1,null,null,null),Ve=Ne.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[e.board?a("section",{staticClass:"board-details"},[a("board-header",{attrs:{board:e.board},on:{updateBoard:e.updateBoard,editBgcBoard:e.editBgcBoard}}),a("main",{staticClass:"main-layout"},[a("Container",{staticClass:"groups-container",attrs:{"group-name":"bo",behaviour:"contain",orientation:"horizontal","remove-on-drop-out":!0,"drop-class":"card-ghost-drop","drag-class":"dragging"},on:{drop:e.onGroupDrop}},[e._l(e.board.groups,(function(t){return a("Draggable",{key:t.id},[a("group-preview",{attrs:{board:e.board,group:t,boardLabels:e.board.labels},on:{updateBoard:e.updateBoard}})],1)})),a("section",[e.isAddClicked?e._e():a("div",{staticClass:"add-group-btn-container"},[a("button",{staticClass:"add-group-btn",on:{click:e.openAddingInput}},[a("span",{staticClass:"el-icon-plus"}),e._v(" Add another list ")])]),e.isAddClicked?a("div",{staticClass:"group-add-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.groupTitle,expression:"groupTitle"}],attrs:{type:"text",placeholder:"Enter list title..."},domProps:{value:e.groupTitle},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addGroup.apply(null,arguments)},input:function(t){t.target.composing||(e.groupTitle=t.target.value)}}}),a("div",{staticClass:"group-btns-container"},[a("button",{on:{click:e.addGroup}},[e._v("Add list")]),a("button",{staticClass:"el-icon-close",on:{click:e.openAddingInput}})])]):e._e()])],2)],1),a("transition",{attrs:{name:"fade",duration:50}},[a("router-view")],1)],1):a("div",{staticClass:"is-loading-container"},[a("img",{attrs:{src:r("f8b2"),width:"40",height:"40",frameBorder:"0"}})])])},Je=[],He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.board?r("section",{staticClass:"group-preview"},[r("div",{staticClass:"group-header"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newTitle,expression:"newTitle"}],attrs:{type:"text"},domProps:{value:e.newTitle},on:{blur:e.editTitle,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.blur()},focus:function(e){return e.target.select()},input:function(t){t.target.composing||(e.newTitle=t.target.value)}}}),r("el-popover",{attrs:{placement:"bottom-end",width:"100",title:"List actions"},model:{value:e.toggleMenu,callback:function(t){e.toggleMenu=t},expression:"toggleMenu"}},[r("hr"),r("div",[r("el-button",{staticStyle:{display:"flex",margin:"0",color:"black","font-size":"14px"},attrs:{type:"text",size:"mini"},on:{click:function(t){return t.preventDefault(),e.removeGroup.apply(null,arguments)}}},[e._v("Archive this list")])],1),r("el-button",{staticClass:"el-icon-more btn-group",attrs:{slot:"reference"},slot:"reference"})],1)],1),r("Container",{staticClass:"tasks-container",attrs:{"group-name":"col",orientation:"vertical","get-child-payload":e.getTaskPayload(e.group.id),"drop-class":"card-ghost-drop","drag-class":"dragging","auto-scroll-enabled":!0},on:{drop:function(t){return e.onTaskDrop(e.group.id,t)}}},e._l(e.group.tasks,(function(t){return r("Draggable",{key:t.id,attrs:{"auto-scroll-enabled":!0}},[r("task-preview",{attrs:{board:e.board,task:t,boardLabels:e.boardLabels},on:{saveEditTask:e.saveEditTask,deleteTask:e.removeTask}})],1)})),1),r("section",{staticClass:"add-task-section"},[e.isAddTaskClicked?r("div",{staticClass:"task-add-container"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.taskTitle,expression:"taskTitle"}],ref:"saveTaskInput",attrs:{type:"text",placeholder:"Enter a title for this task...",oninput:'this.style.height =\n            "";this.style.height = this.scrollHeight + "px"'},domProps:{value:e.taskTitle},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveTask.apply(null,arguments)},input:function(t){t.target.composing||(e.taskTitle=t.target.value)}}}),e._v(" "),r("div",[r("button",{on:{click:e.saveTask}},[e._v("Add card")]),r("button",{staticClass:"el-icon-close",on:{click:e.toggleAddTaskInput}})])]):r("div",{staticClass:"add-a-task",on:{click:e.toggleAddTaskInput}},[r("span",{staticClass:"el-icon-plus"}),e._v(" Add a card ")])])],1):e._e()},qe=[],Qe=(r("4de4"),r("498a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"task-preview"},[r("router-link",{attrs:{to:"/board/"+e.boardId+"/task/"+e.task.id}},[e.toggleEditCard?r("div",{staticClass:"overlay",on:{click:function(t){t.preventDefault(),e.toggleEditCard=!1}}}):e._e(),r("div",{staticClass:"cover-preview-container",class:{"show-task-cover-modal":e.toggleEditCard}},[e.findCoverColor?r("div",{staticClass:"cover-color-preview",style:{backgroundColor:e.task.coverStyle.bgColor}}):e._e(),e.findCoverImg&&!e.findCoverColor?r("img",{staticClass:"cover-img-preview",attrs:{src:e.coverUrl}}):e._e(),r("div",{staticClass:"task-preview-content",class:{"show-task-modal":e.toggleEditCard}},[e.labelsToShow?r("div",[e.labelsToShow?r("div",{staticClass:"labels"},e._l(e.labelsToShow,(function(t){return r("div",{key:t.Id,staticClass:"task-label",class:{shrinkLabel:e.changeLabelSize,increaseLabel:!e.changeLabelSize},style:{backgroundColor:t.color},on:{click:function(t){return t.preventDefault(),e.toggleSize.apply(null,arguments)}}},[e.changeLabelSize?e._e():r("span",[e._v(e._s(t.title))])])})),0):e._e()]):e._e(),e.toggleEditCard?r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editTitle,expression:"editTitle"}],staticClass:"input-edit-task",domProps:{value:e.editTitle},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},click:function(e){e.preventDefault()},input:function(t){t.target.composing||(e.editTitle=t.target.value)}}}):r("div",{staticClass:"task-title"},[e._v(" "+e._s(e.task.title)+" ")]),e.toggleEditCard?r("button",{staticClass:"save-edit-task",on:{click:function(t){return t.preventDefault(),e.taskEdit.apply(null,arguments)}}},[e._v(" Save ")]):e._e(),r("div",{staticClass:"modal-btn"},[e.toggleEditCard?r("button",{staticClass:"open-edit-btn",on:{click:function(t){return t.preventDefault(),e.openTask.apply(null,arguments)}}},[r("span",{staticClass:"material-icons-outlined"},[e._v(" calendar_today ")]),e._v(" Open card ")]):e._e(),e.toggleEditCard?r("button",{staticClass:"remove-edit-btn",on:{click:function(t){return t.preventDefault(),e.removeTask.apply(null,arguments)}}},[r("span",{staticClass:"material-icons-outlined"},[e._v(" archive ")]),e._v(" Archive ")]):e._e()]),e.showIcons?r("div",{staticClass:"task-show-details"},[r("section",{staticClass:"icons-section"},[e.task.description?r("div",{staticClass:"task-description"},[r("span",{staticClass:"material-icons-outlined"},[e._v(" notes ")])]):e._e(),e.task.comments.length?r("div",{staticClass:"comments"},[e.task.comments.length?r("span",{staticClass:"task-comments"},[r("span")]):e._e(),r("span",[e._v(e._s(e.commentsLength))])]):e._e(),e.attachmentLength?r("div",{staticClass:"task-attachment"},[r("span"),r("span",[e._v(e._s(e.attachmentLength))])]):e._e(),e.task.location?r("div",{staticClass:"task-location"},[r("span",{})]):e._e(),e.task.dueDate?r("div",{staticClass:"task-date"},[r("span",{},[e.task.isComplete?r("span",{staticClass:"material-icons-outlined"},[e._v(" done ")]):e._e()])]):e._e(),e.task.checklists?r("div",{staticClass:"task-checklists"},[e.task.checklists.length?r("span",[r("span",{staticClass:"material-icons-outlined"},[e._v(" check_box ")]),r("p",[e._v("0/2")])]):e._e()]):e._e()]),r("section",{},e._l(e.task.members,(function(e){return r("div",{key:e.id,staticClass:"list-task-members"},[r("avatar",{staticClass:"user-avatar",attrs:{backgroundColor:"lightblue",color:"black",size:30,username:e.fullname,src:e.imgUrl}})],1)})),0)]):e._e(),e.toggleEditCard?e._e():r("button",{staticClass:"edit-task-btn btn-group",on:{click:function(t){t.preventDefault(),e.toggleEditCard=!0}}})])])])],1)}),We=[],Fe=(r("caad"),r("2532"),r("a4d3"),r("e01a"),{name:"taskPreview",props:{task:{type:Object,required:!0,default:function(){return{msg:"No Task"}}},board:{type:Object,required:!0,default:function(){return{msg:"No Task"}}},boardLabels:{type:Array}},data:function(){return{changeLabelSize:!0,boardId:"",taskLabels:[],coverUrl:"",toggleEditCard:!1,editTitle:""}},created:function(){this.boardId=this.board._id,this.task.labelIds&&this.task.labelIds.length>0&&this.getLabels(),this.editTitle=this.task.title},methods:{toggleSize:function(){this.changeLabelSize=!this.changeLabelSize},getLabels:function(){var e=this,t=this.boardLabels.filter((function(t){return e.task.labelIds.some((function(e){return t.id.includes(e)}))}));return this.taskLabels=t,this.taskLabels},removeTask:function(){this.$emit("deleteTask",this.task),this.toggleDeleteMenu=!this.toggleDeleteMenu},taskEdit:function(){this.toggleEditCard=!this.toggleEditCard;var e=JSON.parse(JSON.stringify(this.task));e.title=this.editTitle,console.log("newTask.title",e.title),this.$emit("saveEditTask",e)},openTask:function(){this.$router.push("/board/".concat(this.boardId,"/task/").concat(this.task.id)),this.toggleEditCard=!this.toggleEditCard}},computed:{findCoverImg:function(){if(this.task.attachments.some((function(e){return e.isCover}))){var e=this.task.attachments.find((function(e){return e.isCover}));this.coverUrl=e.url}else"none"!==this.task.coverStyle.bgImg&&(this.coverUrl=this.task.coverStyle.bgImg);return this.coverUrl},findCoverColor:function(){if("transparent"!==this.task.coverStyle.bgColor&&"none"===this.task.coverStyle.bgImg&&!this.task.attachments.some((function(e){return e.isCover})))return this.task.coverStyle.bgColor},commentsLength:function(){var e=this.task.comments.length?this.task.comments.length:null;return e},labelsToShow:function(){if(this.task.labelIds&&this.task.labelIds.length>0)return this.getLabels()},showIcons:function(){return!!(this.task.description||this.task.comments.length>0||this.task.checklists.length>0||this.task.members.length>0||this.task.attachments.length>0||this.task.location)},attachmentLength:function(){var e=this.task.attachments.length?this.task.attachments.length:null;return e}},components:{Avatar:d.a}}),Ye=Fe,Ke=Object(m["a"])(Ye,Qe,We,!1,null,null,null),Ze=Ke.exports,Xe=r("3f7d"),et=r("2909"),tt=function(e,t){var r=t.removedIndex,a=t.addedIndex,n=t.payload;if(null===r&&null===a)return e;var s=Object(et["a"])(e),o=n;return null!==r&&(o=s.splice(r,1)[0]),null!==a&&s.splice(a,0,o),s},rt={name:"groupPreview",props:{group:{type:Object,required:!0,default:function(){return{msg:"No Group"}}},board:{type:Object},boardLabels:{type:Array}},data:function(){return{newTitle:JSON.parse(JSON.stringify(this.group.title)),isInputVisible:!1,boardId:"",isAddTaskClicked:!1,taskTitle:"",toggleMenu:!1}},created:function(){this.boardId=this.board._id},methods:{getTaskPayload:function(e){var t=this;return function(r){return t.board.groups.filter((function(t){return t.id===e}))[0].tasks[r]}},onTaskDrop:function(e,t){if(null!==t.removedIndex||null!==t.addedIndex){var r=Object.assign({},this.board),a=this.board.groups.find((function(t){return t.id===e})),n=r.groups.indexOf(a),s=Object.assign({},a);s.tasks=tt(s.tasks,t),r.groups.splice(n,1,s),this.$emit("updateBoard",r)}},editGroup:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch({type:"updateGroup",boardId:t.boardId,group:e});case 3:console.log("Group Saved Successfully in ".concat(t.board._id)),r.next=10;break;case 6:throw r.prev=6,r.t0=r["catch"](0),console.log("Error in updateGroup (group-preview):",r.t0),r.t0;case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))()},editTitle:function(){this.newTitle.trim()||(this.newTitle="List title");var e=JSON.parse(JSON.stringify(this.group));e.title=this.newTitle,this.editGroup(e)},toggleGroupMenu:function(){this.toggleMenu=!this.toggleMenu},removeGroup:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("61b6082396e59cb9c30143d6"!==e.boardId){t.next=2;break}return t.abrupt("return");case 2:if(!e.toggleMenu){t.next=13;break}return t.prev=3,t.next=6,e.$store.dispatch({type:"removeGroup",boardId:e.boardId,groupId:e.group.id});case 6:console.log("Group Removed Successfully in BoardId ".concat(e.boardId)),t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](3),console.log("Error in removeGroup (group-preview):",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[3,9]])})))()},removeTask:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("61b6082396e59cb9c30143d6"!==t.boardId){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,t.$store.dispatch({type:"removeTask",boardId:t.boardId,groupId:t.group.id,task:e});case 5:console.log("Task ".concat(e.id,"  Successfully deleted in GroupId ").concat(t.group.id)),r.next=12;break;case 8:throw r.prev=8,r.t0=r["catch"](2),console.log("Error in deleteTask (group-preview):",r.t0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()},saveTask:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.taskTitle.trim()){t.next=2;break}return t.abrupt("return");case 2:return e.toggleAddTaskInput(),t.prev=3,t.next=6,e.$store.dispatch({type:"addTask",boardId:e.boardId,groupId:e.group.id,taskTitle:e.taskTitle});case 6:console.log("Task Successfully Added in GroupId ".concat(e.group.id)),t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](3),console.log("Error in saveTask (group-preview):",t.t0),t.t0;case 13:return t.prev=13,e.taskTitle="",t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,9,13,16]])})))()},saveEditTask:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch({type:"updateTask",boardId:t.boardId,groupId:t.group.id,task:e});case 2:case"end":return r.stop()}}),r)})))()},toggleAddTaskInput:function(){var e=this;this.isAddTaskClicked=!this.isAddTaskClicked,this.$nextTick((function(){e.isAddTaskClicked&&e.$refs.saveTaskInput.focus()}))}},components:{taskPreview:Ze,Container:Xe["Container"],Draggable:Xe["Draggable"]}},at=rt,nt=Object(m["a"])(at,He,qe,!1,null,null,null),st=nt.exports,ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.board?r("section",[r("div",{staticClass:"board-header move"},[r("div",{staticClass:"left-side-header"},[r("div",{staticClass:"left-and-members"},[r("div",{staticClass:"left-side-btn"},[r("button",{on:{click:e.toggleLeftMenu}},[e._m(0)])]),e.leftMenu?r("div",{staticClass:"left-menu"},[r("button",{staticClass:"left-btn",on:{click:e.openDashboard}},[r("span",{staticClass:"material-icons-outlined"},[e._v(" dashboard ")]),e._v(" Dashboard ")]),r("button",{staticClass:"left-btn",on:{click:e.openMainMap}},[r("span",{staticClass:"material-icons-outlined"},[e._v(" map ")]),e._v("Map ")])]):e._e(),r("section",{staticClass:"board-title-header"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"},{name:"autowidth",rawName:"v-autowidth",value:{maxWidth:"200px",minWidth:"10px",comfortZone:0},expression:"{\n                            maxWidth: '200px',\n                            minWidth: '10px',\n                            comfortZone: 0,\n                        }"}],attrs:{placeholder:"Add title..."},domProps:{value:e.title},on:{focus:function(e){return e.target.select()},blur:e.editTitle,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.blur()},input:function(t){t.target.composing||(e.title=t.target.value)}}})]),r("span",{staticClass:"star-favorite",class:{starred:e.isStarred},on:{click:e.starUpdate}})]),r("div",{staticClass:"members-container"},[r("div",{staticClass:"vl"}),e.board.members.length?r("div",{staticClass:"avatar-icon"},[e._l(e.board.members,(function(t){return[r("el-popover",{key:t._id,attrs:{placement:"top",title:t.fullname,width:"200",trigger:"hover"}},[r("div",{staticClass:"mems-popover"},[r("span",[e._v(e._s(t.username))]),r("span",{on:{click:function(r){return e.removeMember(t._id)}}},[e._v("remove")])]),r("avatar",{attrs:{slot:"reference",backgroundColor:"cadetblue",color:"#fff",size:30,src:t.imgUrl,username:t.fullname},slot:"reference"})],1)]}))],2):e._e(),r("el-popover",{staticClass:"users-popover",attrs:{placement:"bottom",width:"200",title:"Add to board"},model:{value:e.toggleUserInvite,callback:function(t){e.toggleUserInvite=t},expression:"toggleUserInvite"}},[e._l(e.availUsers,(function(t,a){return r("div",{key:a,staticClass:"available-users-container",on:{click:function(r){return e.addMembers(t)}}},[r("avatar",{attrs:{backgroundColor:"cadetblue",color:"#fff",size:30,username:t.fullname,src:t.imgUrl}}),r("span",[e._v(e._s(t.fullname))])],1)})),r("a",{staticClass:"add-btn",attrs:{slot:"reference"},slot:"reference"},[r("span",{staticClass:"user"}),e._v(" Invite ")])],2)],1)]),r("div",{staticClass:"right-side-header",class:{move:e.isShown}},[r("div",{staticClass:"vl"}),r("div",[r("board-filter",{class:e.filterToShown,attrs:{board:e.board},on:{openFilter:e.openFilter}})],1),r("button",{staticClass:"menu-btn",on:{click:e.openMenu}},[r("span",{staticClass:"el-icon-more"}),e._v(" Show menu ")])]),r("transition",{attrs:{name:"slide-fade"}},[r("aside-menu",{class:e.menuBarIsShown,attrs:{board:e.board},on:{removeBoard:e.removeBoard,openMenu:e.openMenu,updateBgcBoard:e.editBgcBoard}})],1)],1)]):e._e()},it=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"el-dropdown-link"},[r("span",{staticClass:"material-icons-outlined rote"},[e._v(" leaderboard ")]),r("span",[e._v("Board")]),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})])}],ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"aside-menu"},[r("div",{staticClass:"board-header"},[r("h3",{staticClass:"header"},[e._v("Menu")]),r("button",{staticClass:"el-icon-close",staticStyle:{"font-size":"20px"},on:{click:e.closeMenu}})]),r("hr"),r("div",{staticClass:"menu-content"},[r("h2",{staticClass:"bgc-btn",on:{click:e.openBgcMenu}},[r("div",{style:{backgroundColor:e.boardStyle.bgColor,backgroundImage:e.boardStyle.bgImg}}),e._v(" Change background ")]),r("transition",{attrs:{name:"slide-fade"}},[e.bgcIsClick?r("div",{staticClass:"background-menu aside-menu",class:{"aside-close":!e.bgcIsClick}},[r("div",{staticClass:"board-header"},[r("button",{staticClass:"el-icon-arrow-left",staticStyle:{"font-size":"20px"},on:{click:e.openBgcMenu}}),r("h3",{staticClass:"header"},[e._v("Background")]),r("button",{staticClass:"el-icon-close",staticStyle:{"font-size":"20px"},on:{click:e.closeMenu}})]),r("hr"),e.openColorMenu||e.openImgMenu||e.bgcType?e._e():r("div",{staticClass:"bgc-btns"},[r("div",{staticClass:"color-options",on:{click:function(t){e.openColorMenu=!e.openColorMenu}}}),r("div",{staticClass:"img-options",on:{click:function(t){e.openImgMenu=!e.openImgMenu}}}),r("img-upload",{staticClass:"upload-btn",on:{onSaveImg:e.changeImgUrl}})],1),e.openColorMenu?r("bgc-aside-menu",{class:e.openBgcOption,on:{chosenBg:e.chosenBg}}):e._e(),e.openImgMenu?r("background-unsplash",{staticClass:"cmp-unsplash",on:{onSaveImg:e.changeImgUrl}}):e._e()],1):e._e()]),e._m(0),r("el-popover",{attrs:{placement:"top",width:"150"},model:{value:e.toggleDeleteMenu,callback:function(t){e.toggleDeleteMenu=t},expression:"toggleDeleteMenu"}},[r("p",[e._v("Remove this board?")]),r("div",{staticStyle:{"text-align":"right",margin:"0"}},[r("el-button",{attrs:{type:"info",size:"mini"},on:{click:e.removeBoard}},[e._v("Confirm")]),r("el-button",{staticStyle:{color:"black"},attrs:{size:"mini",type:"text"},on:{click:function(t){e.toggleDeleteMenu=!1}}},[e._v("Cancel")])],1),r("el-button",{staticClass:"close-board-btn",attrs:{slot:"reference"},slot:"reference"},[e._v("Close board...")])],1)],1),r("hr"),r("section",{staticClass:"activities"},[r("div",{staticClass:"activities-header"},[r("svg",[r("path",{attrs:{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}})]),r("h3",[e._v("Activity")])])]),r("section",e._l(e.board.activities,(function(t){return r("div",{key:t.id,staticClass:"activity-preview-container"},[r("avatar",{staticClass:"curr-user-avatar",attrs:{backgroundColor:"lightblue",color:"black",size:30,username:"Ben Ernst"}}),r("div",{staticClass:"activity-details"},[r("span",{staticClass:"member-name"},[e._v(e._s(t.byMember.fullname))]),e._v(e._s(t.txt)+" "),r("div",{staticClass:"activity-member-container"},[r("span",{staticClass:"activity-created-at"},[e._v(e._s(e.activityTimeToShow(t.createdAt)))])])])],1)})),0)])},lt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h2",{staticClass:"archive-btn"},[r("span"),e._v(" Archive")])}],ut=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"bgc-aside-menu"},e._l(e.colorList,(function(t,a){return r("div",{key:a,staticClass:"color-div",class:{colorChoice:e.style.bgColor===t},style:{"background-color":t},attrs:{id:"color-div"+a},on:{click:function(r){return e.chooseBg(t)}}})})),0)},dt=[],pt={data:function(){return{colorList:["#0079bf","#d29034","#519839","#b04632","#89609e","#cd5a91","#4bbf6b","#00aecc","#afafaf"],style:{bgColor:"",bgImg:"none"}}},methods:{chooseBg:function(e){this.style.bgColor=e,this.$emit("chosenBg",this.style)}}},ht=pt,gt=Object(m["a"])(ht,ut,dt,!1,null,null,null),mt=gt.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"img-upload-container"},[e.isLoading?a("img",{attrs:{src:r("f737"),alt:""}}):a("label",{staticClass:"clickable"},[e._m(0),a("input",{attrs:{type:"file",id:"uploadImg",hidden:""},on:{change:e.onUploadImg}})])])},vt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",{staticClass:"el-icon-plus"})])}],ft=function(e){var t="trellor",r="cloudinaryorb",a="https://api.cloudinary.com/v1_1/".concat(r,"/image/upload"),n=new FormData;return n.append("file",e.target.files[0]),n.append("upload_preset",t),fetch(a,{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))},kt={data:function(){return{isLoading:!1}},methods:{onUploadImg:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.isLoading=!0,r.next=3,ft(e);case 3:a=r.sent,t.$emit("onSaveImg",a.url),console.log("res.url",a.url),t.isLoading=!1;case 7:case"end":return r.stop()}}),r)})))()}}},wt=kt,Ct=(r("c193"),Object(m["a"])(wt,bt,vt,!1,null,null,null)),yt=Ct.exports,xt=r("c1df"),_t=r.n(xt),It={name:"asideMenu",props:["board"],data:function(){return{bgcIsClick:!1,boardStyle:this.board.style,openColorMenu:!1,openImgMenu:!1,bgcType:!1,toggleDeleteMenu:!1,boardId:""}},created:function(){this.boardId=this.board._id},methods:{removeBoard:function(){"61b6082396e59cb9c30143d6"!==this.boardId&&this.$emit("removeBoard",this.boardId)},changeImgUrl:function(e){this.bgcType,this.boardStyle.bgImg="url(".concat(e,")"),this.boardStyle.bgColor="transparent",this.$emit("updateBgcBoard",this.boardStyle)},closeMenu:function(){this.$emit("openMenu")},openBgcMenu:function(){this.openColorMenu=!1,this.openImgMenu=!1,this.bgcType=!1,this.bgcIsClick=!this.bgcIsClick},chosenBg:function(e,t){this.boardStyle=e,this.$emit("updateBgcBoard",this.boardStyle),console.log("this.boardStyle",this.boardStyle)},activityTimeToShow:function(e){return _t()(e).calendar()}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},openBgcOption:function(){return console.log("open bgc menu"),console.log("this.bgcIsClick",this.bgcIsClick),{"aside-bgc-open":this.bgcIsClick,"aside-bgc-close":!this.bgcIsClick}}},components:{bgcAsideMenu:mt,Avatar:d.a,imgUpload:yt,backgroundUnsplash:ze}},Tt=It,jt=Object(m["a"])(Tt,ct,lt,!1,null,null,null),St=jt.exports,Bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filter-menu"},[r("div",{staticClass:"filter-header"},[r("h3",{staticClass:"header"},[e._v("Filter")]),r("button",{staticClass:"el-icon-close",staticStyle:{"font-size":"20px"},on:{click:e.closeMenu}})]),r("hr"),r("div",{staticClass:"filter-content"},[r("div",[r("p",[e._v("Keyword")]),e._m(0),r("p",[e._v("Search cards, members, labels, and more.")]),r("p",[e._v("Members")]),r("div",{staticClass:"filter-members"},[r("label",[r("el-checkbox",{model:{value:e.noMembers,callback:function(t){e.noMembers=t},expression:"noMembers"}},[e._v("No members")])],1),r("label",[r("el-checkbox",{model:{value:e.assigned,callback:function(t){e.assigned=t},expression:"assigned"}},[e._v("Card assigned to me")])],1),r("label",[r("el-checkbox",{model:{value:e.byMember,callback:function(t){e.byMember=t},expression:"byMember"}},[e._v("Select member")])],1)]),r("p",[e._v("Labels")]),r("div",{staticClass:"filter-labels"},[r("el-checkbox",{staticStyle:{color:"#5e6c84","text-color":"#fff"},model:{value:e.noLabels,callback:function(t){e.noLabels=t},expression:"noLabels"}},[e._v("No labels ")]),r("el-checkbox",{staticStyle:{"text-color":"#fff"},model:{value:e.label1,callback:function(t){e.label1=t},expression:"label1"}},[r("div",{staticClass:"label label1"})]),r("el-checkbox",{model:{value:e.label2,callback:function(t){e.label2=t},expression:"label2"}},[r("div",{staticClass:"label label2"})]),r("el-checkbox",{model:{value:e.label3,callback:function(t){e.label3=t},expression:"label3"}},[r("div",{staticClass:"label label3"})]),r("el-checkbox",{model:{value:e.label4,callback:function(t){e.label4=t},expression:"label4"}},[r("div",{staticClass:"label label4"})])],1),e._m(1),r("hr")])])])},Et=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-filter-input"},[r("input",{attrs:{type:"text",placeholder:"Enter a keyword…",value:""}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("p",[e._v("Due date")]),r("ul",[r("li",[e._v("No dates")]),r("li",[e._v("Overdue")]),r("li",[e._v("Due in the next day")]),r("p",[e._v("Due date")])])])}],Ot={name:"BoardFilter",data:function(){return{checked:!1,noMembers:!1,assigned:!1,byMember:!1,noLabels:!1,label1:!1,label2:!1,label3:!1,label4:!1}},methods:{closeMenu:function(){this.$emit("openFilter")}}},At=Ot,Mt=Object(m["a"])(At,Bt,Et,!1,null,null,null),Rt=Mt.exports,Ut={name:"boardHeader",props:{board:{type:Object,required:!0,default:function(){return{msg:"No Board"}}}},data:function(){return{availUsers:[],isShown:!1,value:"",isStarred:this.board.isStarred,title:this.board.title,boardId:"",visible:!1,filterIsShown:!1,toggleUserInvite:!1,leftMenu:!1}},created:function(){this.availUsers=this.users,console.log("",this.board.title),this.boardId=this.board._id},methods:{removeMember:function(e){var t=JSON.parse(JSON.stringify(this.board)),r=t.members.findIndex((function(t){return t._id===e}));t.members.splice(r,1),this.loggedInUser&&t.activities.unshift({byMember:this.loggedInUser,txt:"has removed a member",createdAt:Date.now()}),this.updateBoard(t)},addMembers:function(e){var t=JSON.parse(JSON.stringify(this.board));t.members.find((function(t){return t._id==e._id}))||(t.members.push(e),this.loggedInUser&&t.activities.unshift({byMember:this.loggedInUser,txt:"has added a member",createdAt:Date.now()}),this.updateBoard(t))},openMenu:function(){this.isShown=!this.isShown},openFilter:function(){this.filterIsShown=!this.filterIsShown},toggleInput:function(){this.isInputVisible=!this.isInputVisible},editBgcBoard:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch({type:"updateBoardBgc",boardId:t.boardId,style:e});case 3:console.log("Board Saved Successfully in ".concat(t.boardId)),t.$emit("editBgcBoard",e),r.next=11;break;case 7:throw r.prev=7,r.t0=r["catch"](0),console.log("Error in updateBoard (board-header):",r.t0),r.t0;case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))()},starUpdate:function(){this.isStarred=!this.isStarred;var e=JSON.parse(JSON.stringify(this.board));e.isStarred=this.isStarred,this.loggedInUser&&e.activities.unshift({byMember:this.loggedInUser,txt:"has made this board his favorite",createdAt:Date.now()}),this.updateBoard(e)},updateBoard:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=JSON.parse(JSON.stringify(e)),r.prev=1,t.$emit("updateBoard",a),console.log("Board changed successfully"),r.next=10;break;case 6:throw r.prev=6,r.t0=r["catch"](1),console.log("Error in adding a board (workspace):",r.t0),r.t0;case 10:case"end":return r.stop()}}),r,null,[[1,6]])})))()},removeBoard:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch({type:"removeBoard",boardId:e.boardId});case 3:console.log("Board removed successfully"),e.$router.push("/workspace"),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](0),console.log("Error in removing board (aside-menu):",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},editTitle:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.toggleInput(),e.title.trim()||(e.title="Board name"),t.prev=2,t.next=5,e.$store.dispatch({type:"updateBoardTitle",boardId:e.boardId,title:e.title});case 5:console.log("Board Saved Successfully in ".concat(e.boardId)),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](2),console.log("Error in updateBoard (board-header):",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))()},openMainMap:function(){console.log("click map"),this.leftMenu=!1,this.$router.push("/board/".concat(this.boardId,"/main-map"))},openDashboard:function(){this.leftMenu=!1,this.$router.push("/board/".concat(this.boardId,"/dashboard"))},toggleLeftMenu:function(){this.leftMenu=!this.leftMenu}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},menuBarIsShown:function(){return{"aside-menu-open":this.isShown,"aside-close":!this.isShown}},filterToShown:function(){return{"filter-menu-open":this.filterIsShown,"filter-close":!this.filterIsShown}},users:function(){return this.$store.getters.users}},watch:{editBgcBoard:function(){console.log("watch bgc")}},components:{asideMenu:St,BoardFilter:Rt,Avatar:d.a}},Dt=Ut,Lt=Object(m["a"])(Dt,ot,it,!1,null,null,null),zt=Lt.exports,$t={name:"boardDetails",data:function(){return{board:null,isAddClicked:!1,groupTitle:"",toggleMenu:!1}},created:function(){this.loadBoard()},methods:{loadBoard:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.boardId,t.prev=1,t.next=4,e.$store.dispatch({type:"getBoard",boardId:r});case 4:a=t.sent,e.board=a,e.boardId=r,t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](1),console.log("Board Loading Error (board-details):",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getBoard:function(){this.board=this.$store.getters.getCurrBoard},dropEnd:function(e){},onGroupDrop:function(e){console.log("hi");var t=Object.assign({},this.board);console.log("board",t),t.groups=tt(this.board.groups,e),this.updateBoard(t)},editBgcBoard:function(e){this.$emit("setBg",e)},openAddingInput:function(){this.isAddClicked=!this.isAddClicked},addGroup:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.groupTitle){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.$store.dispatch({type:"addGroup",boardId:e.board._id,groupTitle:e.groupTitle});case 5:console.log("Group Added Successfully in ".concat(e.board._id)),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](2),console.log("Error in Adding a Group (board-details):",t.t0),t.t0;case 12:return t.prev=12,e.groupTitle="",e.$el.scrollTo(e.$el.scrollWidth+270,0),t.finish(12);case 16:case"end":return t.stop()}}),t,null,[[2,8,12,16]])})))()},updateBoard:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch({type:"updateBoard",board:e});case 3:console.log("Board changed successfully"),r.next=10;break;case 6:throw r.prev=6,r.t0=r["catch"](0),console.log("Error in adding a board (workspace):",r.t0),r.t0;case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))()}},computed:{},watch:{"$store.getters.getCurrBoard":function(e){this.board=Object(a["a"])({},e)}},components:{groupPreview:st,boardHeader:zt,Container:Xe["Container"],Draggable:Xe["Draggable"]}},Pt=$t,Nt=Object(m["a"])(Pt,Ge,Je,!1,null,null,null),Vt=Nt.exports,Gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.task?r("section",[r("div",{staticClass:"modal-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}},[r("section",{staticClass:"task-details-container"},[e.isCoverStyle?[r("div",{staticClass:"cover-container",class:{"smaller-cover":"none"===e.taskToEdit.coverStyle.bgImg},style:{backgroundColor:e.taskToEdit.coverStyle.bgColor}},[r("div",{staticClass:"img-cover-container",class:{"bigger-cover":"transparent"===e.taskToEdit.coverStyle.bgColor},style:{backgroundImage:"url("+e.taskToEdit.coverStyle.bgImg+")"}},[r("button",{staticClass:"remove-cover-btn",on:{click:e.removeTaskCover}},[e._v(" Remove Cover ")])])])]:e._e(),r("header",{staticClass:"task-modal-header"},[r("button",{staticClass:"close-modal-btn el-icon-close",on:{click:e.backToBoard}}),r("svg",{attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M16.557,4.467h-1.64v-0.82c0-0.225-0.183-0.41-0.409-0.41c-0.226,0-0.41,0.185-0.41,0.41v0.82H5.901v-0.82c0-0.225-0.185-0.41-0.41-0.41c-0.226,0-0.41,0.185-0.41,0.41v0.82H3.442c-0.904,0-1.64,0.735-1.64,1.639v9.017c0,0.904,0.736,1.64,1.64,1.64h13.114c0.904,0,1.64-0.735,1.64-1.64V6.106C18.196,5.203,17.461,4.467,16.557,4.467 M17.377,15.123c0,0.453-0.366,0.819-0.82,0.819H3.442c-0.453,0-0.82-0.366-0.82-0.819V8.976h14.754V15.123z M17.377,8.156H2.623V6.106c0-0.453,0.367-0.82,0.82-0.82h1.639v1.23c0,0.225,0.184,0.41,0.41,0.41c0.225,0,0.41-0.185,0.41-0.41v-1.23h8.196v1.23c0,0.225,0.185,0.41,0.41,0.41c0.227,0,0.409-0.185,0.409-0.41v-1.23h1.64c0.454,0,0.82,0.367,0.82,0.82V8.156z"}})]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.taskToEdit.title,expression:"taskToEdit.title"}],attrs:{type:"text"},domProps:{value:e.taskToEdit.title},on:{blur:e.updateTask,keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||e.$set(e.taskToEdit,"title",t.target.value)}}}),r("p",[e._v(" in list "),r("span",[e._v(e._s(e.group.title))])])]),r("section",{staticClass:"task-details-content"},[r("main",[r("div",{staticClass:"task-features"},[r("div",{staticClass:"task-features-container"},[e.task.members.length?r("div",{staticClass:"members-container"},[e.task.members.length?r("h4",{staticClass:"members-to-show-header"},[e._v(" Members ")]):e._e(),r("div",{staticClass:"member-to-show-container"},e._l(e.task.members,(function(t){return r("section",{key:t._id,staticClass:"member-to-show-list"},[r("div",{staticClass:"member-to-show"},[r("el-popover",{staticClass:"member-to-show-modal",attrs:{title:t.fullname,placement:"bottom-start",width:"200",trigger:"click",content:""}},[r("avatar",{staticClass:"member-modal-avatar",attrs:{username:t.fullname,src:t.imgUrl,size:30,backgroundColor:"lightblue",color:"black"}}),r("span",{staticClass:"remove-member-btn",on:{click:function(r){return e.chooseMember(t,t._id)}}},[e._v("Remove from card")]),r("avatar",{staticClass:"user-avatar",attrs:{slot:"reference",username:t.fullname,src:t.imgUrl,size:30,backgroundColor:"lightblue",color:"black"},slot:"reference"})],1)],1)])})),0)]):e._e(),e.task.labelIds.length?r("div",{staticClass:"labels-container"},[e.task.labelIds.length?r("h4",{staticClass:"labels-to-show-header"},[e._v(" Labels ")]):e._e(),r("div",{staticClass:"label-to-show-container"},e._l(e.task.labelIds,(function(t){return r("section",{key:t,staticClass:"label-to-show-list"},[r("div",{staticClass:"label-to-show",style:{"background-color":e.getLbProp(t,"color")}},[e._v(" "+e._s(e.getLbProp(t,"title"))+" ")])])})),0)]):e._e(),e.isDateShown?r("div",{staticClass:"date-container"},[r("h3",{staticClass:"date-to-show-header"},[e._v("Due date")]),r("div",{staticClass:"date-to-show-container"},[r("div",{staticClass:"date-check-boxes"},[e.taskToEdit.isComplete?r("svg",{staticClass:"date-svg MuiSvgIcon-root MuiSvgIcon-fontSizeMedium todo-check pointer css-vubbuv",attrs:{viewBox:"0 0 24 24"},on:{click:e.markAsComplete}},[r("path",{attrs:{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}})]):r("svg",{staticClass:"date-svg MuiSvgIcon-root MuiSvgIcon-fontSizeMedium pointer css-vubbuv",attrs:{viewBox:"0 0 24 24"},on:{click:e.markAsComplete}},[r("path",{attrs:{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}})])]),r("div",{staticClass:"date-to-show-btn secondary-btn"},[r("span",[e._v(e._s(e.taskToEdit.dueDate))]),e.taskToEdit.isComplete?r("span",{staticClass:"due-msg done"},[e._v("complete")]):e._e()])])]):e._e()])]),r("section",{staticClass:"description-container"},[r("h4",[r("svg",[r("path",{attrs:{d:"M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"}})]),r("span",[e._v("Description")])]),r("div",{staticClass:"description-edit"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.taskToEdit.description,expression:"taskToEdit.description"}],ref:"descriptionInput",attrs:{type:"text",placeholder:"Add a more detailed description..."},domProps:{value:e.taskToEdit.description},on:{click:function(t){e.isTextAreaVisible=!0},blur:e.updateTask,focus:function(e){return e.target.select()},input:function(t){t.target.composing||e.$set(e.taskToEdit,"description",t.target.value)}}}),e.isTextAreaVisible?r("div",{staticClass:"description-btns"},[r("el-button",{staticClass:"save-task-description-btn",attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.updateTask.apply(null,arguments)}}},[r("span",[e._v("Save")])]),r("button",{staticClass:"close-task-description-btn",on:{click:function(t){t.preventDefault(),e.isTextAreaVisible=!1}}})],1):e._e()])]),this.isMapShown||this.taskToEdit.attachments.length?r("section",{staticClass:"big-features-container"},[r("div",{staticClass:"attachments-container"},e._l(e.taskToEdit.attachments,(function(t,a){return r("div",{key:a},[r("a",{attrs:{href:t.url,target:"_blank"}},[r("span",{staticClass:"attach-title"},[e._v(e._s(t.title))]),r("span",{staticClass:"external-link-attach"})]),e._v(" | "),r("span",{staticClass:"attach-btns",on:{click:function(t){return e.removeAttachment(a)}}},[e._v("Delete")]),e._v(" | "),r("el-popover",{attrs:{placement:"top",width:"180",trigger:"click"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newAttachTitle,expression:"newAttachTitle"}],staticClass:"title-attach-edit",attrs:{type:"text"},domProps:{value:e.newAttachTitle},on:{input:function(t){t.target.composing||(e.newAttachTitle=t.target.value)}}}),r("div",{staticStyle:{"text-align":"right",margin:"5px"}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.editAttachmentTitle(a)}}},[e._v("Confirm")])],1),r("el-button",{staticClass:"edit-attach-btn attach-btns",attrs:{slot:"reference"},on:{click:function(r){e.newAttachTitle=t.title}},slot:"reference"},[e._v("Edit")])],1),r("div",{staticClass:"attachments-img",style:{backgroundImage:"url("+t.url+")"}}),t.isCover?e._e():r("span",{staticClass:"attach-btns",on:{click:function(t){return e.toggleAttachCover(a)}}},[e._v("Make cover")]),t.isCover?r("span",{staticClass:"attach-btns",on:{click:e.removeTaskCover}},[e._v("Remove cover")]):e._e()],1)})),0),e.isMapShown?r("div",[r("GmapMap",{attrs:{location:e.location,options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!1,streetViewControl:!0,rotateControl:!1,fullscreenControl:!0,disableDefaultUi:!1}},on:{saveLoc:e.saveLoc,removeMap:e.removeMap}})],1):e._e()]):e._e(),r("section",{staticClass:"activity-container"},[r("header",{staticClass:"activity-header"},[r("h4",[r("svg",[r("path",{attrs:{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}})]),r("span",[e._v("Activity")])]),r("button",{on:{click:e.showDetails}},[e._v(" "+e._s(e.showDetailsBtnTxt)+" ")])]),r("div",{staticClass:"comments-container"},[e.loggedInUser?r("avatar",{staticClass:"user-avatar",attrs:{username:e.loggedInUser.fullname,src:e.loggedInUser.imgUrl,size:30,backgroundColor:"lightblue",color:"black"}}):r("avatar",{staticClass:"user-avatar",attrs:{username:"Guest",size:30,backgroundColor:"lightblue",color:"black"}}),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.commentTxt,expression:"commentTxt"}],ref:"commInput",attrs:{type:"text",placeholder:"Write a comment..."},domProps:{value:e.commentTxt},on:{click:function(t){e.isCommentInputOpen=!0},blur:e.closeCommentInput,keyup:function(t){e.isComment=!!e.commentTxt},input:function(t){t.target.composing||(e.commentTxt=t.target.value)}}})],1),r("button",{staticClass:"save-comment-btn",class:[{hidden:!e.isCommentInputOpen},{"save-comment-btn-typing-style":e.isComment}],attrs:{disabled:!e.commentTxt.trim()},on:{click:e.addComment}},[r("span",[e._v("Save")])]),r("div",{staticClass:"comments-list"},e._l(e.task.comments,(function(t,a){return r("div",{key:t.createdAt,staticClass:"activity-preview-container"},[e.loggedInUser?r("avatar",{staticClass:"user-avatar",attrs:{username:e.loggedInUser.fullname,src:e.loggedInUser.imgUrl,size:30,backgroundColor:"lightblue",color:"black"}}):r("avatar",{staticClass:"user-avatar",attrs:{username:"Guest",size:30,backgroundColor:"lightblue",color:"black"}}),r("div",{staticClass:"activity-details"},[r("div",{staticClass:"activity-member-container"},[e.loggedInUser?r("span",{staticClass:"member-name"},[e._v(e._s(e.loggedInUser.fullname))]):r("span",{staticClass:"member-name"},[e._v("Guest")]),r("span",{staticClass:"activity-created-at-container"},[r("span",{staticClass:"activity-created-at"},[e._v(e._s(e.commentTimeToShow(t.createdAt)))])])]),r("div",{staticClass:"comment-content"},[e._v(" "+e._s(t.txt)+" ")])]),r("h5",{on:{click:function(t){return e.deleteComment(a)}}},[e._v("Delete")])],1)})),0),e.activityListIsShown?r("div",{staticClass:"activity-list"},e._l(e.board.activities,(function(t){return r("div",{key:t.id,staticClass:"activity-preview-container"},[r("avatar",{staticClass:"user-avatar",attrs:{username:"Guest",size:30,backgroundColor:"lightblue",color:"black"}}),r("div",{staticClass:"activity-details"},[r("div",{staticClass:"activity-member-container"},[r("span",{staticClass:"member-name"},[e._v(e._s(t.byMember.fullname))]),r("span",{staticClass:"activity-content"},[e._v(e._s(t.txt))])]),e._m(0,!0)])],1)})),0):e._e()])]),r("aside",[e.isMemberIncluded(e.loggedInUser._id)?e._e():r("div",{staticClass:"suggested"},[r("h4",{staticClass:"aside-headers"},[e._v("Suggested")]),r("button",{staticClass:"secondary-btn action-btn",on:{click:function(t){return e.chooseMember(e.loggedInUser,e.loggedInUser._id)}}},[r("div",{staticClass:"action-btn-content"},[r("svg",{attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}})]),r("span",[e._v("Join")])])])]),r("div",{staticClass:"add-to-card"},[r("h4",{staticClass:"aside-headers"},[e._v("Add to card")]),e._l(e.asideBtns,(function(t){return r(t.name,e._g({key:t.id,tag:"component",staticClass:"secondary-btn action-btn",attrs:{data:{btn:t,board:e.board,task:e.task,taskToEdit:e.taskToEdit,labels:e.labels}}},{updateTask:e.updateTask,updateBoard:e.updateBoard,chooseMember:e.chooseMember,toggleDate:e.toggleDate,toggleMap:e.toggleMap,removeTaskCover:e.removeTaskCover}))}))],2)])])],2)])]):e._e()},Jt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"activity-created-at-container"},[r("span",{staticClass:"activity-created-at"},[e._v("3 Days Ago")])])}],Ht=(r("d81d"),r("159b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-popover",{attrs:{title:e.data.btn.name,placement:"top",width:"300",trigger:"click",content:""},model:{value:e.isPopoverVisible,callback:function(t){e.isPopoverVisible=t},expression:"isPopoverVisible"}},[r("span",{staticClass:"close-popover-btn",on:{click:function(t){e.isPopoverVisible=!1}}},[e._v("✖")]),r("hr"),r("div",{staticClass:"member-choosing-container"},[r("h4",{staticClass:"members-to-show-header"},[e._v("Board members")]),e._l(e.data.board.members,(function(t){return r("section",{key:t._id,staticClass:"member-choosing"},[r("div",{on:{click:function(r){return e.$emit("chooseMember",t,t._id)}}},[r("avatar",{staticClass:"user-avatar",attrs:{backgroundColor:"lightblue",color:"black",size:30,username:t.fullname,src:t.imgUrl}}),e._v(" "+e._s(t.fullname)+" "),e.isMemberIncluded(t._id)?r("svg",{staticClass:"delete-member-svg",attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}})]):e._e()],1)])}))],2),r("div",{staticClass:"action-btn-content",attrs:{slot:"reference"},slot:"reference"},[r("svg",{attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{d:e.data.btn.d}})]),r("span",[e._v(e._s(e.data.btn.name))])])])],1)}),qt=[],Qt={props:{data:{type:Object,required:!0,default:function(){return{msg:"No Data"}}}},data:function(){return{isPopoverVisible:!1}},methods:{isMemberIncluded:function(e){return this.data.taskToEdit.members.some((function(t){return t._id===e}))}},components:{avatar:d.a}},Wt=Qt,Ft=Object(m["a"])(Wt,Ht,qt,!1,null,null,null),Yt=Ft.exports,Kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-popover",{attrs:{title:e.data.btn.name,placement:"top",width:"300",trigger:"click",content:""},model:{value:e.isPopoverVisible,callback:function(t){e.isPopoverVisible=t},expression:"isPopoverVisible"}},[r("span",{staticClass:"close-popover-btn",on:{click:e.cancelEditLabel}},[e._v("✖")]),r("hr"),r("div",{staticClass:"label-choosing-container"},[e._l(e.data.labels,(function(t,a){return r("section",{key:t.id,staticClass:"label-choosing"},[e.isLabelEdit?e._e():r("div",{staticClass:"label-color",style:{"background-color":t.color},on:{click:function(r){return e.chooseLabel(t.id)}}},[e.data.taskToEdit.labelIds.includes(t.id)?r("svg",{staticClass:"delete-label-svg",attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}})]):e._e(),e._v(" "+e._s(t.title)+" ")]),e.isLabelEdit?e._e():r("button",{staticClass:"label-pencil",on:{click:function(r){return e.editLabelTitle(t.id,a)}}},[r("svg",{attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}})])])])})),e.isLabelEdit?r("div",{staticClass:"edit-label-container"},[r("label",{attrs:{for:"labelTitle"}},[e._v("Name")]),r("el-input",{staticClass:"labelTitleInput",attrs:{name:"labelTitle"},model:{value:e.labelTitle,callback:function(t){e.labelTitle=t},expression:"labelTitle"}}),r("div",{staticClass:"edit-label-buttons"},[r("el-button",{staticClass:"save",attrs:{type:"primary"},on:{click:e.saveLabelTitle}},[e._v("Save")]),r("el-button",{staticClass:"delete",attrs:{type:"danger"},on:{click:e.removeLabel}},[e._v("Delete")])],1)],1):e._e()],2),r("div",{staticClass:"action-btn-content",attrs:{slot:"reference"},slot:"reference"},[r("svg",{attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{d:e.data.btn.d}})]),r("span",[e._v(e._s(e.data.btn.name))])])])],1)},Zt=[],Xt={props:{data:{type:Object,required:!0,default:function(){return{msg:"No Data"}}}},data:function(){return{isLabelEdit:!1,hasLabelChosen:!1,labelIdToShow:"",labelIdxToEdit:null,labelIdToEdit:null,labelTitle:"",isPopoverVisible:!1}},methods:{chooseLabel:function(e){this.hasLabelChosen=!0,this.labelIdToShow=e;var t=this.data.taskToEdit,r=t.labelIds.findIndex((function(t){return t===e}));t.labelIds.includes(e)?t.labelIds.splice(r,1):t.labelIds.push(e),this.updateTask()},editLabelTitle:function(e,t){this.isLabelEdit=!0,this.labelIdxToEdit=t,this.labelIdToEdit=e},saveLabelTitle:function(){this.isLabelEdit=!1;var e=this.data.labels;e[this.labelIdxToEdit].title=this.labelTitle;var t=this.getCopiedBoard();t.labels=e,this.updateBoard(t),this.labelTitle=""},removeLabel:function(){var e=this;this.isLabelEdit=!1;var t=this.data,r=t.taskToEdit,a=t.labels,n=r.labelIds.findIndex((function(t){return t===e.labelIdToEdit}));r.labelIds.splice(n,1),a[this.labelIdxToEdit].title="";var s=this.getCopiedBoard();s.labels=a,this.updateTask(),this.updateBoard(s)},getCopiedBoard:function(){return JSON.parse(JSON.stringify(this.data.board))},updateTask:function(){this.$emit("updateTask")},updateBoard:function(e){this.$emit("updateBoard",e),this.labelTitle=""},cancelEditLabel:function(){var e=this;this.isPopoverVisible=!1,setTimeout((function(){e.isLabelEdit=!1}),500)}}},er=Xt,tr=Object(m["a"])(er,Kt,Zt,!1,null,null,null),rr=tr.exports,ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section")},nr=[],sr={props:{data:{type:Object,required:!0,default:function(){return{msg:"No Data"}}}},data:function(){return{checklistTitle:"",isChecklistShown:!1,isPopoverVisible:!1}},methods:{addCheckList:function(){this.isChecklistShown=!0}}},or=sr,ir=Object(m["a"])(or,ar,nr,!1,null,null,null),cr=ir.exports,lr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-popover",{attrs:{title:e.data.btn.name,placement:"top",width:"300",trigger:"click",content:""},model:{value:e.isPopoverVisible,callback:function(t){e.isPopoverVisible=t},expression:"isPopoverVisible"}},[r("span",{staticClass:"close-popover-btn",on:{click:function(t){e.isPopoverVisible=!1}}},[e._v("✖")]),r("hr"),r("div",{staticClass:"date-picking-container"},[r("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day"},model:{value:e.dateVal,callback:function(t){e.dateVal=t},expression:"dateVal"}}),r("div",{staticClass:"edit-date-buttons"},[r("el-button",{staticClass:"save-date-btn",attrs:{type:"primary"},on:{click:e.saveDate}},[e._v("Save")]),r("el-button",{staticClass:"delete-date-btn",attrs:{type:"info",plain:""},on:{click:e.removeDate}},[e._v("Remove")])],1)],1),r("div",{staticClass:"action-btn-content",attrs:{slot:"reference"},slot:"reference"},[r("svg",{attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{d:e.data.btn.d}}),r("path",{attrs:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"}})]),r("span",[e._v(e._s(e.data.btn.name))])])])],1)},ur=[],dr=(r("25f0"),{props:{data:{type:Object,required:!0,default:function(){return{msg:"No Data"}}}},data:function(){return{dateVal:"",isPopoverVisible:!1}},methods:{saveDate:function(){this.$emit("toggleDate",!0);var e=this.dateVal.toString(),t=e.substring(4,15);this.data.taskToEdit.dueDate=t,this.updateTask()},removeDate:function(){this.$emit("toggleDate",!1);var e=this.data.taskToEdit;e.dueDate="",e.isComplete=!1,this.updateTask()},updateTask:function(){this.$emit("updateTask")}}}),pr=dr,hr=Object(m["a"])(pr,lr,ur,!1,null,null,null),gr=hr.exports,mr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-popover",{attrs:{title:e.data.btn.name,placement:"top",width:"300",trigger:"click",content:""},model:{value:e.isPopoverVisible,callback:function(t){e.isPopoverVisible=t},expression:"isPopoverVisible"}},[r("span",{staticClass:"close-popover-btn",on:{click:function(t){e.isPopoverVisible=!1}}},[e._v("✖")]),r("hr"),r("div",{staticClass:"attach-popover"},[r("img-upload",{on:{onSaveImg:e.changeImgUrl}})],1),r("div",{staticClass:"action-btn-content",attrs:{slot:"reference"},slot:"reference"},[r("svg",{attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{d:e.data.btn.d}})]),r("span",[e._v(e._s(e.data.btn.name))])])])],1)},br=[],vr={props:{data:{type:Object,required:!0,default:function(){return{msg:"No Data"}}}},data:function(){return{cover:"",isPopoverVisible:!1}},methods:{changeImgUrl:function(e){var t=/[^/]*$/.exec(e)[0],r=this.data.taskToEdit;r.attachments.push({title:t,url:e,isCover:!1}),1===r.attachments.length&&"transparent"!==r.coverStyle.bgColor&&"none"!==r.coverStyle.bgImg&&(r.attachments[0].isCover=!0),this.$emit("updateTask"),this.cover=e}},components:{imgUpload:yt}},fr=vr,kr=Object(m["a"])(fr,mr,br,!1,null,null,null),wr=kr.exports,Cr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("div",{staticClass:"location-search-container"}),r("div",{staticClass:"action-btn-content",attrs:{slot:"reference"},on:{click:function(t){return e.$emit("toggleMap")}},slot:"reference"},[r("svg",{attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{d:e.data.btn.d}})]),r("span",[e._v(e._s(e.data.btn.name))])])])},yr=[],xr={props:{data:{type:Object,required:!0,default:function(){return{msg:"No Data"}}}}},_r=xr,Ir=Object(m["a"])(_r,Cr,yr,!1,null,null,null),Tr=Ir.exports,jr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-popover",{attrs:{title:e.data.btn.name,placement:"top",width:"300",trigger:"click",content:""},model:{value:e.isPopoverVisible,callback:function(t){e.isPopoverVisible=t},expression:"isPopoverVisible"}},[r("span",{staticClass:"close-popover-btn",on:{click:function(t){e.isPopoverVisible=!1}}},[e._v("✖")]),r("hr"),r("section",{staticClass:"set-cover-container"},[r("button",{staticClass:"remove-cover-btn",on:{click:function(t){return e.$emit("removeTaskCover")}}},[e._v(" Remove Cover ")]),r("main",[r("div",[r("h4",[e._v("Colors")]),r("background-picker",{attrs:{withImgBg:e.withImgBg},on:{chosenBg:e.setBg}})],1),r("div",[r("h4",[e._v("Images")]),r("background-unsplash",{on:{onSaveImg:e.setImg}})],1)])]),r("div",{staticClass:"action-btn-content",attrs:{slot:"reference"},slot:"reference"},[r("svg",{attrs:{viewBox:"0 0 24 24"}},[r("path",{attrs:{d:e.data.btn.d}})]),r("span",[e._v(e._s(e.data.btn.name))])])])],1)},Sr=[],Br={props:{data:{type:Object,required:!0,default:function(){return{msg:"No Data"}}}},data:function(){return{withImgBg:!1,isPopoverVisible:!1}},methods:{setBg:function(e){var t=this.data.taskToEdit;t.coverStyle.bgColor=e.bgColor,t.coverStyle.bgImg="none",this.isAttachCover&&this.resetAttchCover(),this.updateTask()},setImg:function(e){var t=this.data.taskToEdit;t.coverStyle.bgColor="transparent",t.coverStyle.bgImg=e,this.isAttachCover&&this.resetAttchCover(),this.updateTask()},resetAttchCover:function(){var e=this.data,t=e.task,r=e.taskToEdit,a=t.attachments.findIndex((function(e){return e.isCover}));r.attachments[a].isCover=!1},updateTask:function(){this.$emit("updateTask")}},computed:{isAttachCover:function(){var e=this.data,t=e.task,r=e.taskToEdit;if(r.attachments.length)return t.attachments.some((function(e){return e.isCover}))}},components:{backgroundPicker:G,backgroundUnsplash:ze}},Er=Br,Or=Object(m["a"])(Er,jr,Sr,!1,null,null,null),Ar=Or.exports,Mr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"task-checklists"},[r("div",{staticClass:"task-activities"},[e._m(0),r("div",{staticClass:"checklist-progress"},[r("span",{staticClass:"checklist-progress-percentage"},[e._v("0%")]),r("div",{staticClass:"checklist-progress-bar"},[r("div",{staticClass:"checklist-progress-bar-current"}),r("h1",[e._v("Progress:")]),r("div",{staticClass:"bar-container"},[r("div",{staticClass:"prog-bar",style:{width:e.width+"%"}},[e._v(" "+e._s(e.width)+"% ")])])])]),e._m(1),e._m(2)])])},Rr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"window-modal-title"},[r("div",{staticClass:"task-activities-header"}),r("button",{staticClass:"activity-toggle-btn"},[e._v("Delete")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"todo-list"},[r("div",{staticClass:"todo-preview-container"},[r("div",{staticClass:"todo-preview"},[r("div",{staticClass:"checklist-txt-and-btn"},[r("span",{})])]),r("div",{staticClass:"checklist-btns hidden"},[r("button",{staticClass:"nch-btn"},[e._v("Save")])])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"todo-add-container"},[r("button",{staticClass:"task-btns nch-btn todo-add-btn show"},[e._v(" Add an item ")])])}],Ur={props:["checklistTitle"],data:function(){return{checklists:[{id:"",title:"",todos:[{id:"",title:"",isDone:!1}]}]}},methods:{},computed:{}},Dr=Ur,Lr=Object(m["a"])(Dr,Mr,Rr,!1,null,null,null),zr=Lr.exports,$r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"map-container"},[r("form",{staticClass:"map-form",on:{submit:function(t){return t.preventDefault(),e.searchLoc.apply(null,arguments)}}},[r("el-input",{staticClass:"map-input",attrs:{type:"text",placeholder:"Search Google Maps",autofocus:""},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),r("button",[r("el-button",{staticClass:"map-search-btn",attrs:{type:"info",plain:""}},[e._v("Locate")])],1)],1),r("section",{staticClass:"card-back-location-footer"},[r("div",[r("div",{staticClass:"card-back-location-details"},[r("div",{staticClass:"quiet"},[e._v(e._s(e.locAddress))])])]),r("el-popover",{staticClass:"remove-map-modal",attrs:{placement:"bottom",title:e.locAddress,trigger:"click"}},[r("hr"),r("h4",{staticClass:"remove-map-inner-btn",on:{click:function(t){return e.$emit("removeMap")}}},[e._v("Remove Map")]),r("span",{staticClass:"remove-map-btn",attrs:{slot:"reference"},slot:"reference"})])],1),r("GmapMap",{ref:"mapRef",staticClass:"map",attrs:{center:e.mapCenter,zoom:10,"map-type-id":"terrain"}},[r("GmapMarker",{attrs:{position:e.mapCenter,clickable:!0,draggable:!1}})],1)],1)},Pr=[],Nr="AIzaSyAwGiZvHMgXknOgVGzfiqUHedPY-M9aRpM",Vr={searchLoc:Gr,getLocAddress:Hr};function Gr(e){return Jr.apply(this,arguments)}function Jr(){return Jr=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=").concat(Nr));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),console.log("Error in searchLoc (task-map.service):",e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),Jr.apply(this,arguments)}function Hr(e,t){return qr.apply(this,arguments)}function qr(){return qr=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(t,",").concat(r,"&key=").concat(Nr));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e["catch"](0),console.log("Error in getLocAddress (task-map.service):",e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),qr.apply(this,arguments)}var Qr,Wr,Fr,Yr,Kr,Zr,Xr={props:{location:{type:Object,required:!0,default:function(){return{msg:"No Location"}}}},data:function(){return{searchVal:"",mapCenter:this.location.coords,locAddress:this.location.address}},methods:{moveTo:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.mapCenter=e,a=e.lat,n=e.lng,r.next=5,t.$refs.mapRef.$mapPromise;case 5:return s=r.sent,r.next=8,s.panTo({lat:a,lng:n});case 8:return r.next=10,t.getLocAddress(t.mapCenter.lat,t.mapCenter.lng);case 10:o=r.sent,t.$emit("saveLoc",{address:o,coords:{lat:a,lng:n}}),r.next=18;break;case 14:throw r.prev=14,r.t0=r["catch"](0),console.log("Error in moveTo (task-map):",r.t0),r.t0;case 18:case"end":return r.stop()}}),r,null,[[0,14]])})))()},searchLoc:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Vr.searchLoc(e.searchVal);case 3:r=t.sent,a=r.data.results[0].geometry.location,e.moveTo(a),e.searchVal="",t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](0),console.log("Error in searchLoc (task-map):",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getLocAddress:function(e,t){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Vr.getLocAddress(e,t);case 3:return n=a.sent,r.locAddress=n.data.results[0].formatted_address,a.abrupt("return",r.locAddress);case 8:throw a.prev=8,a.t0=a["catch"](0),console.log("Error in getLocAddress (task-map):",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},ea=Xr,ta=Object(m["a"])(ea,$r,Pr,!1,null,null,null),ra=ta.exports,aa={name:"taskDetails",data:function(){return{task:null,group:null,taskToEdit:{},taskTitle:"",isTextAreaVisible:!1,isComment:!1,isCommentInputOpen:!1,commentTxt:"",activityListIsShown:!1,showDetailsBtnTxt:"Show details",asideBtns:[{id:"b101",name:"Members",d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4zm-2 0c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4zm2 0c.2-.71 3.3-2 6-2 2.69 0 5.78 1.28 6 2H3zm17-3v-3h3v-2h-3V7h-2v3h-3v2h3v3h2z"},{id:"b102",name:"Labels",d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42zM13 20.01L4 11V4h7v-.01l9 9-7 7.02z"},{id:"b104",name:"Dates",d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},{id:"b105",name:"Attachment",d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"},{id:"b106",name:"Location",d:"M10,1.375c-3.17,0-5.75,2.548-5.75,5.682c0,6.685,5.259,11.276,5.483,11.469c0.152,0.132,0.382,0.132,0.534,0c0.224-0.193,5.481-4.784,5.483-11.469C15.75,3.923,13.171,1.375,10,1.375 M10,17.653c-1.064-1.024-4.929-5.127-4.929-10.596c0-2.68,2.212-4.861,4.929-4.861s4.929,2.181,4.929,4.861C14.927,12.518,11.063,16.627,10,17.653 M10,3.839c-1.815,0-3.286,1.47-3.286,3.286s1.47,3.286,3.286,3.286s3.286-1.47,3.286-3.286S11.815,3.839,10,3.839 M10,9.589c-1.359,0-2.464-1.105-2.464-2.464S8.641,4.661,10,4.661s2.464,1.105,2.464,2.464S11.359,9.589,10,9.589"},{id:"b107",name:"Cover",d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H3V5h18v11z"}],labels:[],isBigFeatureShown:!1,newAttachTitle:"",isDateShown:!1,isMapShown:!1,location:{coords:{lat:31.769218,lng:35.208144},address:"Jerusalem"}}},created:function(){this.loadData()},methods:{loadData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.board,a=e.$route.params.taskId,t.prev=2,e.labels=e.board.labels,n=r.groups.map((function(e){return e.tasks.find((function(e){return e.id===a}))})),e.task=n.find((function(e){return void 0!==e})),e.taskTitle=e.task.title,s=r.groups.find((function(t){return t.tasks.includes(e.task)})),e.group=s,e.taskToEdit=e.task,e.keepMap(e.taskToEdit),e.isDate(e.taskToEdit),t.next=18;break;case 14:throw t.prev=14,t.t0=t["catch"](2),console.log("Error in loadData (task-details):",t.t0),t.t0;case 18:case"end":return t.stop()}}),t,null,[[2,14]])})))()},updateTask:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isTextAreaVisible=!1,t.prev=1,t.next=4,e.$store.dispatch({type:"updateTask",boardId:e.board._id,groupId:e.group.id,task:e.taskToEdit});case 4:console.log("Task Succefully Updated with Id ".concat(e.taskToEdit.id)),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("Error in updateTask (task-details):",t.t0),t.t0;case 11:return t.prev=11,e.$refs.commInput.value="",e.commentTxt="",t.finish(11);case 15:case"end":return t.stop()}}),t,null,[[1,7,11,15]])})))()},updateBoard:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch({type:"updateBoard",board:e});case 3:console.log("Board Succefully Updated with Id ".concat(e._id)),r.next=10;break;case 6:throw r.prev=6,r.t0=r["catch"](0),console.log("Error in updateBoard (task-details):",r.t0),r.t0;case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))()},closeCommentInput:function(){var e=this;this.isCommentInputOpen=!1,this.$nextTick((function(){e.$refs.commInput.value="",e.isComment||(e.commentTxt="")}))},addComment:function(){if(this.commentTxt.trim()){var e={txt:this.commentTxt,createdAt:Date.now()},t=this.taskToEdit,r=(this.commentTxt,this.updateTask);t.comments.unshift(e),"",r()}else this.commentTxt=""},deleteComment:function(e){this.taskToEdit.comments.splice(e,1),this.updateTask()},commentTimeToShow:function(e){return _t()(e).calendar()},showDetails:function(){this.activityListIsShown=!this.activityListIsShown,this.showDetailsBtnTxt=this.activityListIsShown?"Hide details":"Show details"},chooseMember:function(e,t){var r=this.taskToEdit,a=this.isMemberIncluded,n=this.updateTask;r.members=a(t)?r.members.filter((function(e){return e._id!==t})):[].concat(Object(et["a"])(r.members),[e]),n()},isMemberIncluded:function(e){return this.taskToEdit.members.some((function(t){return t._id===e}))},getLbProp:function(e,t){var r=this.board.labels.find((function(t){return t.id===e}));return r[t]},toggleDate:function(e){this.isDateShown=e},markAsComplete:function(){this.taskToEdit.isComplete=!this.taskToEdit.isComplete,this.updateTask()},isDate:function(e){e.dueDate&&(this.isDateShown=!0)},removeAttachment:function(e){this.taskToEdit.attachments.splice(e,1),this.updateTask()},toggleAttachCover:function(e){var t=this.taskToEdit,r=this.setAttachCover;t.attachments[e].isCover?(t.attachments[e].isCover=!t.attachments[e].isCover,"transparent"===t.coverStyle.bgColor&&"none"===t.coverStyle.bgImg&&(t.attachments[e].isCover=!0)):(t.attachments.forEach((function(e){return e.isCover=!1})),t.attachments[e].isCover=!0),t.coverStyle.bgColor="transparent",r()},setAttachCover:function(){if(this.isAttachCover){var e=this.task.attachments.find((function(e){return e.isCover}));this.taskToEdit.coverStyle.bgImg=e.url,this.updateTask()}},editAttachmentTitle:function(e){this.taskToEdit.attachments[e].title=this.newAttachTitle,this.updateTask(),this.newAttachTitle=""},removeTaskCover:function(){if(this.taskToEdit.coverStyle.bgColor="transparent",this.taskToEdit.coverStyle.bgImg="none",this.isAttachCover){var e=this.task.attachments.findIndex((function(e){return e.isCover}));this.taskToEdit.attachments[e].isCover=!1}this.updateTask()},saveLoc:function(e){this.taskToEdit.location=e,this.updateTask()},toggleMap:function(){this.isMapShown=!this.isMapShown},removeMap:function(){this.isMapShown=!1,this.taskToEdit.location=null,this.updateTask()},keepMap:function(e){e.location&&(this.location=e.location,this.isMapShown=!0)},addActivity:function(e){var t=JSON.parse(JSON.stringify(this.board));if(this.loggedInUser){var r={byMember:this.loggedInUser,txt:e,createdAt:Date.now()};t.activities.unshift(r),this.updateBoard(t)}},backToBoard:function(){this.$router.push("/board/".concat(this.board._id))}},computed:{board:function(){return this.$store.getters.getCurrBoard},loggedInUser:function(){return this.$store.getters.loggedinUser},isAttachCover:function(){if(this.taskToEdit.attachments.length)return this.task.attachments.some((function(e){return e.isCover}))},isCoverStyle:function(){var e=this.taskToEdit,t=this.isAttachCover;return"transparent"!==e.coverStyle.bgColor||"none"!==e.coverStyle.bgImg||t}},components:{Members:Yt,Labels:rr,Checklist:cr,Dates:gr,Attachment:wr,Location:Tr,Cover:Ar,checklistPreview:zr,GmapMap:ra,avatar:d.a,moment:_t.a}},na=aa,sa=Object(m["a"])(na,Gt,Jt,!1,null,null,null),oa=sa.exports,ia=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"dash"},[r("section",{staticClass:"modal-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}},[r("section",{staticClass:"dashboard-container",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}},[r("h1",[e._v("DASHBOARD")]),r("button",{staticClass:"close-dashboard-btn",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}}),r("section",{staticClass:"details-container",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}},[r("div",{staticClass:"detail"},[r("span",{staticClass:"material-icons-outlined"},[e._v(" people_alt ")]),r("strong",[e._v(e._s(e.membersCount))])]),r("div",{staticClass:"detail"},[r("span",{staticClass:"material-icons-outlined"},[e._v(" badge ")]),r("strong",[e._v(e._s(e.taskCount)+" Tasks")])])]),e.board?r("section",{staticClass:"charts-container",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}},[r("tasksPerMemberChart",{staticClass:"chart",attrs:{chartData:e.charts.barChartData,options:e.charts.barChartOptions}}),r("tasksByLabelChart",{staticClass:"chart",attrs:{chartData:e.charts.pieChartData,options:e.charts.pieChartOptions}}),r("tasksDueDatesChart",{staticClass:"chart",attrs:{chartData:e.charts.lineChartData,options:e.charts.lineChartOptions}})],1):e._e()])])])},ca=[],la=r("1fca"),ua={extends:la["a"],mixins:[la["d"].reactiveProp],props:["chartData","options"],mounted:function(){this.renderChart(this.chartData,this.options)}},da=ua,pa=Object(m["a"])(da,Qr,Wr,!1,null,null,null),ha=pa.exports,ga={extends:la["c"],mixins:[la["d"].reactiveProp],props:["chartData","options"],mounted:function(){this.renderChart(this.chartData,this.options)}},ma=ga,ba=Object(m["a"])(ma,Fr,Yr,!1,null,null,null),va=ba.exports,fa={extends:la["b"],mixins:[la["d"].reactiveProp],props:["chartData","options"],mounted:function(){this.renderChart(this.chartData,this.options)}},ka=fa,wa=Object(m["a"])(ka,Kr,Zr,!1,null,null,null),Ca=wa.exports,ya={data:function(){return{taskCount:0,tasksCompleted:0,membersNames:[],dataLabelIds:[],charts:{barChartData:{type:"bar",labels:this.membersNames,datasets:[{data:[],beginAtZero:!0,backgroundColor:["rgba(75, 192, 192, 0.5)","rgba(153, 182, 255, 0.5)","rgba(54, 192, 235, 0.5)"],barThickness:60}]},barChartOptions:{responsive:!0,scales:{yAxes:[{display:!0,ticks:{beginAtZero:!0,stepSize:1,fontColor:"#d9d4db"}}],xAxes:[{display:!0,ticks:{fontColor:"#d9d4db"}}]},legend:{display:!1},title:{display:!0,text:"Tasks per Member",padding:10,fontSize:20,fontColor:"#d9d4db"},layout:{padding:47}},pieChartData:{type:"pie",labels:[],datasets:[{data:[],backgroundColor:["#40a0ff80","#67c23a88","#e6a23c7e","#f56c6c88","#9633af"]}]},pieChartOptions:{responsive:!0,legend:{display:!0,position:"right",labels:{fontColor:"#d9d4db"}},title:{display:!0,text:"Tasks By Label",padding:0,fontSize:20,fontColor:"#d9d4db"},layout:{padding:50}},lineChartData:{type:"line",labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{data:[0,0,0,0,0,0,0,0,0,0,0,0],fill:!1,borderColor:"#6e8caa80",backgroundColor:[]}]},lineChartOptions:{responsive:!0,scales:{yAxes:[{display:!0,ticks:{beginAtZero:!0,stepSize:1,fontColor:"#d9d4db"}}],xAxes:[{display:!0,ticks:{fontColor:"#d9d4db"}}]},legend:{display:!1,position:"bottom"},title:{display:!0,text:"Tasks Due Dates 2022",fontSize:20,fontColor:"#d9d4db"},layout:{padding:40}}}}},created:function(){this.loadDashboard()},methods:{loadDashboard:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.setMembersData(),e.setLabelsData(),e.getTasksPerDueDate();case 3:case"end":return t.stop()}}),t)})))()},setMembersData:function(){this.setMembersNames(),this.setTasksCount()},setMembersNames:function(){this.charts.barChartData.labels=this.board.members.map((function(e){return e.fullname}))},setTasksCount:function(){var e=this,t=[];this.board.groups.forEach((function(r){r.tasks.forEach((function(r){e.taskCount++,r.isComplete&&e.tasksCompleted++,r.members.forEach((function(e){t.push(e.fullname)}))}))}));var r=0;this.charts.barChartData.labels.forEach((function(a){r=0,t.forEach((function(t){a===t&&(r++,e.charts.barChartData.datasets[0].data[e.charts.barChartData.labels.indexOf(a)]=r)}))}))},setLabelsData:function(){this.charts.pieChartData.labels=this.board.labels.map((function(e){return e.title})),this.dataLabelIds=this.board.labels.map((function(e){return e.id})),this.setLabelsCount()},setLabelsCount:function(){var e=this,t=[];this.board.groups.forEach((function(e){e.tasks.forEach((function(e){e.labelIds.forEach((function(e){t.push(e)}))}))}));var r=0;this.dataLabelIds.forEach((function(a){r=0,t.forEach((function(t){a===t&&(r++,e.charts.pieChartData.datasets[0].data[e.dataLabelIds.indexOf(a)]=r)}))}))},getTasksPerDueDate:function(){var e=this,t=[];this.board.groups.forEach((function(e){e.tasks.forEach((function(e){t.push(e.dueDate.substring(0,3))}))})),t.forEach((function(t){e.charts.lineChartData.labels.forEach((function(r){t===r.substring(0,3)&&e.charts.lineChartData.datasets[0].data[e.charts.lineChartData.labels.indexOf(r)]++}))}));var r=0;this.dataLabelIds.forEach((function(a){r=0,t.forEach((function(t){a===t&&(r++,e.charts.pieChartData.datasets[0].data[e.dataLabelIds.indexOf(a)]=r)}))}))},backToBoard:function(){this.$router.push("/board/".concat(this.board._id))}},computed:{board:function(){return this.$store.getters.getCurrBoard},membersCount:function(){var e="Member";return this.board.members.length>1&&(e+="s"),"".concat(this.board.members.length," ").concat(e)}},components:{tasksPerMemberChart:ha,tasksByLabelChart:va,tasksDueDatesChart:Ca}},xa=ya,_a=Object(m["a"])(xa,ia,ca,!1,null,null,null),Ia=_a.exports,Ta=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main-map-container"},[r("section",{staticClass:"modal-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}},[r("button",{staticClass:"close-map-btn",on:{click:function(t){return t.target!==t.currentTarget?null:e.backToBoard.apply(null,arguments)}}}),r("GmapMap",{staticClass:"main-map",attrs:{center:e.center,zoom:2,"map-type-id":"terrain"}},[e._v(" >"),e._l(e.tasks,(function(t,a){return r("GmapMarker",{key:a,attrs:{position:t.location.coords,title:t.location.address,clickable:!0,draggable:!1},on:{click:function(t){e.showById=a},closeclick:function(t){e.showById=null}}},[r("gmap-info-window",{attrs:{opened:e.showById===a}},[r("task-preview",{staticClass:"task-preview-in-map",attrs:{task:t,board:e.board,boardLabels:e.board.labels}})],1)],1)}))],2)],1)])},ja=[],Sa={data:function(){return{center:{lat:31.769218,lng:35.208144},tasks:[],showById:null}},created:function(){this.getPositions()},methods:{getPositions:function(){var e=this;this.board.groups.forEach((function(t){t.tasks.forEach((function(t){t.location&&e.tasks.push(t)}))}))},backToBoard:function(){this.$router.push("/board/".concat(this.board._id))}},computed:{board:function(){return this.$store.getters.getCurrBoard}},components:{taskPreview:Ze}},Ba=Sa,Ea=Object(m["a"])(Ba,Ta,ja,!1,null,null,null),Oa=Ea.exports,Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"login"},[e.islogin?a("div",[a("h4",[e._v("Login to Trellor")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userLogin.username,expression:"userLogin.username"}],attrs:{placeholder:"Username",type:"text"},domProps:{value:e.userLogin.username},on:{input:function(t){t.target.composing||e.$set(e.userLogin,"username",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userLogin.password,expression:"userLogin.password"}],attrs:{placeholder:"Password",type:"password"},domProps:{value:e.userLogin.password},on:{input:function(t){t.target.composing||e.$set(e.userLogin,"password",t.target.value)}}}),e.error?a("small",[e._v(e._s(e.error))]):e._e(),a("button",[e._v("Login")])]),a("button",{staticClass:"google-btn",on:{click:e.googleSignup}},[a("img",{attrs:{src:r("d06a"),alt:""}}),a("span",[e._v("Continue with Google")])]),a("span",{on:{click:function(t){e.islogin=!1}}},[e._v("Or Sign up")])]):a("div",[a("h4",[e._v("Sign up")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.signup.apply(null,arguments)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userSignup.username,expression:"userSignup.username"}],attrs:{placeholder:"username",type:"text"},domProps:{value:e.userSignup.username},on:{input:function(t){t.target.composing||e.$set(e.userSignup,"username",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userSignup.fullname,expression:"userSignup.fullname"}],attrs:{placeholder:"fullname",type:"text"},domProps:{value:e.userSignup.fullname},on:{input:function(t){t.target.composing||e.$set(e.userSignup,"fullname",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userSignup.password,expression:"userSignup.password"}],attrs:{placeholder:"password",type:"password"},domProps:{value:e.userSignup.password},on:{input:function(t){t.target.composing||e.$set(e.userSignup,"password",t.target.value)}}}),e.passError?a("small",[e._v(e._s(e.passError))]):e._e(),e.error?a("small",[e._v(e._s(e.error))]):e._e(),a("button",[e._v("Signup")])]),a("button",{staticClass:"google-btn",on:{click:e.googleSignup}},[a("img",{attrs:{src:r("d06a"),alt:""}}),e._v("Continue with Google ")]),a("span",{on:{click:function(t){e.islogin=!0}}},[e._v("Or login")])])])},Ma=[],Ra=r("7bb1"),Ua={data:function(){return{islogin:!0,error:"",passError:"",userLogin:{username:null,password:null},userSignup:{username:null,password:null,fullname:null,imgUrl:"",isAdmin:!1},googleUser:{username:null,password:null,fullname:null,imgUrl:""}}},methods:{login:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.userLogin.username&&e.userLogin.password){t.next=3;break}return e.error="Please enter your username and password to continue",t.abrupt("return");case 3:return e.error="",t.prev=4,r=e.userLogin,t.next=8,e.$store.dispatch({type:"login",user:r});case 8:e.$router.push("/workspace"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),e.error="Invalid username or password";case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()},signup:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.userSignup.username&&e.userSignup.password&&e.userSignup.fullname){t.next=3;break}return e.error="Please enter all fields",t.abrupt("return");case 3:if(e.error="",!(e.userSignup.password.length<8)){t.next=7;break}return e.passError="Password must be atleast 8 chars",t.abrupt("return");case 7:return e.passError="",t.prev=8,r=e.userSignup,t.next=12,e.$store.dispatch({type:"signup",user:r});case 12:e.$router.push("/workspace"),t.next=19;break;case 15:throw t.prev=15,t.t0=t["catch"](8),console.log("Error in SignUp :",t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[8,15]])})))()},googleSignup:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$gAuth.signIn();case 2:if(r=t.sent,t.prev=3,a=r.getBasicProfile(),e.googleUser={username:a.getEmail(),password:a.getId(),fullname:a.getName(),imgUrl:a.getImageUrl()},""===e.googleUser.username){t.next=10;break}return t.next=9,e.$store.dispatch({type:"signup",user:e.googleUser});case 9:e.$router.push("/workspace");case 10:t.next=16;break;case 12:throw t.prev=12,t.t0=t["catch"](3),console.log("Error in google SignUp :",t.t0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[3,12]])})))()}},components:{ValidationProvider:Ra["a"]}},Da=Ua,La=Object(m["a"])(Da,Aa,Ma,!1,null,null,null),za=La.exports,$a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[e._v("loading...")])},Pa=[],Na={},Va=Na,Ga=Object(m["a"])(Va,$a,Pa,!1,null,null,null);Ga.exports;n["default"].use(x["a"]);var Ja,Ha=[{path:"/",name:"home",component:B},{path:"/workspace",name:"workspace",component:Ve},{path:"/board/:boardId",name:"boardDetails",component:Vt,children:[{path:"task/:taskId",name:"taskDetails",component:oa},{path:"dashboard",name:"dashboard",component:Ia},{path:"main-map",name:"mainMap",component:Oa}]},{path:"/login",name:"login",component:za}],qa=new x["a"]({routes:Ha}),Qa=qa,Wa=r("2f62"),Fa=r("ade3"),Ya=r("daa8"),Ka="update-board",Za="",Xa=en();function en(){var e=null,t={setup:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=Object(Ya["a"])(Za);case 1:case"end":return t.stop()}}),t)})))()},on:function(t,r){e.on(t,r)},off:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(r?e.off(t,r):e.removeAllListeners(t))},emit:function(t,r){e.emit(t,r)},terminate:function(){e=null}};return t}window.socketService=Xa,Xa.setup();var tn={state:{boards:[],currBoard:null,isLoading:!1,watchedBoard:null},getters:{boards:function(e){var t=e.boards;return t},boardsToShow:function(e){return e.boards},getCurrBoard:function(e){return e.currBoard},isLoading:function(e){var t=e.isLoading;return t}},mutations:{setLoading:function(e,t){var r=t.isLoading;e.isLoading=r},getBoard:function(e,t){var r=t.board;e.currBoard=r},setBoards:function(e,t){var r=t.boards;e.boards=r},setBoard:function(e,t){var r=t.board;e.currBoard=r},addBoard:function(e,t){var r=t.savedBoard;e.boards.push(r)},updateBoard:function(e,t){var r=t.board;e.currBoard=r,console.log("hi from mutations updateBoard");var a=e.boards.findIndex((function(e){return e._id===r._id}));e.boards.splice(a,1,r)},removeBoard:function(e,t){var r=e.boards.findIndex((function(e){return e._id===t.boardId}));e.boards.splice(r,1)}},actions:(Ja={loadBoards:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,e.state,r({type:"setLoading",isLoading:!0}),t.prev=2,t.next=5,ee.query();case 5:a=t.sent,r({type:"setBoards",boards:a}),Xa.on("User connected",(function(e){console.log("msg",e)})),t.next=14;break;case 10:throw t.prev=10,t.t0=t["catch"](2),console.log("Error in Query Boards (Store):",t.t0),t.t0;case 14:return t.prev=14,r({type:"setLoading",isLoading:!1}),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,10,14,17]])})))()},getBoard:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.boardId,r.prev=2,r.next=5,ee.getById(n);case 5:return s=r.sent,a({type:"getBoard",board:s}),r.abrupt("return",s);case 10:throw r.prev=10,r.t0=r["catch"](2),console.log("Error in Getting a Board (Store):",r.t0),r.t0;case 14:case"end":return r.stop()}}),r,null,[[2,10]])})))()},setBoard:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.boardId,r.next=4,ee.getById(n);case 4:s=r.sent,a({type:"setBoard",board:s});case 6:case"end":return r.stop()}}),r)})))()},addBoard:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.board,r.prev=2,r.next=5,ee.save(n);case 5:return s=r.sent,a({type:"addBoard",savedBoard:s}),r.abrupt("return",s);case 10:throw r.prev=10,r.t0=r["catch"](2),console.log("addBoard (Store):",r.t0),r.t0;case 14:case"end":return r.stop()}}),r,null,[[2,10]])})))()},updateBoard:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.board,r.prev=2,r.next=5,ee.save(n);case 5:return s=r.sent,console.log("updateBoard"),Xa.emit("update-board",s),Xa.off("update-board"),Xa.on(Ka,(function(e){a({type:"updateBoard",board:e}),console.log("%c updateBoard","background: yellow")})),r.abrupt("return",s);case 13:throw r.prev=13,r.t0=r["catch"](2),console.log("updateBoard (Store):",r.t0),r.t0;case 17:case"end":return r.stop()}}),r,null,[[2,13]])})))()},updateBoardTitle:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.boardId,s=t.title,r.prev=2,r.next=5,ee.updateBoardTitle(n,s);case 5:o=r.sent,a({type:"updateBoard",board:o}),r.next=13;break;case 9:throw r.prev=9,r.t0=r["catch"](2),console.log("updateBoard (Store):",r.t0),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()},addGroup:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.boardId,s=t.groupTitle,r.prev=2,r.next=5,ee.addGroup(n,s);case 5:o=r.sent,a({type:"updateBoard",board:o}),r.next=13;break;case 9:throw r.prev=9,r.t0=r["catch"](2),console.log("addGroup (Store):",r.t0),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()},updateBoardBgc:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.boardId,s=t.style,r.prev=2,r.next=5,ee.updateBgcBoard(n,s);case 5:o=r.sent,a({type:"updateBoard",board:o}),Xa.emit(Ka,o),Xa.off("update-board"),Xa.on(Ka,(function(e){a({type:"getBoard",board:e}),console.log("%c updateBoardBgc","background: green")})),r.next=16;break;case 12:throw r.prev=12,r.t0=r["catch"](2),console.log("updateBoard (Store):",r.t0),r.t0;case 16:case"end":return r.stop()}}),r,null,[[2,12]])})))()},removeBoard:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.boardId,r.prev=2,r.next=5,ee.remove(n);case 5:a({type:"removeBoard",boardId:n}),r.next=12;break;case 8:throw r.prev=8,r.t0=r["catch"](2),console.log("removeBoard (Store):",r.t0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()},updateGroup:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.boardId,s=t.group,r.prev=2,r.next=5,ee.updateGroup(n,s);case 5:o=r.sent,a({type:"updateBoard",board:o}),console.log("updateGroup"),r.next=14;break;case 10:throw r.prev=10,r.t0=r["catch"](2),console.log("updateGroup (Store):",r.t0),r.t0;case 14:case"end":return r.stop()}}),r,null,[[2,10]])})))()},removeGroup:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.boardId,s=t.groupId,r.prev=2,r.next=5,ee.removeGroup(n,s);case 5:o=r.sent,a({type:"updateBoard",board:o}),r.next=13;break;case 9:throw r.prev=9,r.t0=r["catch"](2),console.log("removeGroup (Store):",r.t0),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()}},Object(Fa["a"])(Ja,"addGroup",(function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.boardId,s=t.groupTitle,r.prev=2,r.next=5,ee.addGroup(n,s);case 5:o=r.sent,a({type:"updateBoard",board:o}),Xa.emit("update-board",o),Xa.off("update-board"),Xa.on(Ka,(function(e){a({type:"getBoard",board:e}),console.log("%c updateBoard","background: yellow")})),r.next=16;break;case 12:throw r.prev=12,r.t0=r["catch"](2),console.log("addGroup (Store):",r.t0),r.t0;case 16:case"end":return r.stop()}}),r,null,[[2,12]])})))()})),Object(Fa["a"])(Ja,"addTask",(function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.boardId,s=t.groupId,o=t.taskTitle,r.prev=2,r.next=5,ee.addTask(n,s,o);case 5:i=r.sent,a({type:"updateBoard",board:i}),Xa.emit("update-board",i),Xa.off("update-board"),Xa.on(Ka,(function(e){a({type:"getBoard",board:e}),console.log("%c updateBoard","background: yellow")})),r.next=16;break;case 12:throw r.prev=12,r.t0=r["catch"](2),console.log("addTask Error (Store):",r.t0),r.t0;case 16:case"end":return r.stop()}}),r,null,[[2,12]])})))()})),Object(Fa["a"])(Ja,"updateTask",(function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.boardId,s=t.groupId,o=t.task,r.prev=2,r.next=5,ee.updateTask(n,s,o);case 5:i=r.sent,a({type:"updateBoard",board:i}),Xa.emit("update-board",i),Xa.off("update-board"),Xa.on(Ka,(function(e){a({type:"getBoard",board:e})})),r.next=16;break;case 12:throw r.prev=12,r.t0=r["catch"](2),console.log("updateTask Error (Store):",r.t0),r.t0;case 16:case"end":return r.stop()}}),r,null,[[2,12]])})))()})),Object(Fa["a"])(Ja,"removeTask",(function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.boardId,s=t.groupId,o=t.task,r.prev=2,r.next=5,ee.removeTask(n,s,o);case 5:i=r.sent,a({type:"updateBoard",board:i}),Xa.emit("update-board",i),Xa.off("update-board"),Xa.on(Ka,(function(e){console.log("%c updateBoard","background: yellow")})),r.next=16;break;case 12:throw r.prev=12,r.t0=r["catch"](2),console.log("removeGroup (Store):",r.t0),r.t0;case 16:case"end":return r.stop()}}),r,null,[[2,12]])})))()})),Ja)},rn={query:an,get:nn,post:sn,put:on,remove:cn};function an(e){var t=JSON.parse(localStorage.getItem(e))||[];return new Promise((function(e){e(t)}))}function nn(e,t){return an(e).then((function(e){return e.find((function(e){return e._id===t}))}))}function sn(e,t){return t._id=un(),an(e).then((function(r){return r.push(t),ln(e,r),t}))}function on(e,t){return an(e).then((function(r){var a=r.findIndex((function(e){return e._id===t._id}));return r.splice(a,1,t),ln(e,r),t}))}function cn(e,t){return an(e).then((function(r){var a=r.findIndex((function(e){return e._id===t}));if(console.log("idx",a),a<0)throw new Error("Unknown Entity ".concat(t));r.splice(a,1),ln(e,r)}))}function ln(e,t){localStorage.setItem(e,JSON.stringify(t))}function un(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}var dn="loggedinUser",pn=null,hn={login:wn,logout:_n,signup:yn,getLoggedinUser:jn,getUsers:gn,getById:mn,remove:vn,update:fn};function gn(){return K.get("user")}function mn(e){return bn.apply(this,arguments)}function bn(){return bn=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K.get("user/".concat(t));case 2:return r=e.sent,pn=r,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),bn.apply(this,arguments)}function vn(e){return K.delete("user/".concat(e))}function fn(e){return kn.apply(this,arguments)}function kn(){return kn=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K.put("user/".concat(t._id),t);case 2:return t=e.sent,jn()._id===t._id&&Tn(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),kn.apply(this,arguments)}function wn(e){return Cn.apply(this,arguments)}function Cn(){return Cn=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K.post("auth/login",t);case 2:if(r=e.sent,!r){e.next=5;break}return e.abrupt("return",Tn(r));case 5:case"end":return e.stop()}}),e)}))),Cn.apply(this,arguments)}function yn(e){return xn.apply(this,arguments)}function xn(){return xn=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K.post("auth/signup",t);case 2:return r=e.sent,e.abrupt("return",Tn(r));case 4:case"end":return e.stop()}}),e)}))),xn.apply(this,arguments)}function _n(){return In.apply(this,arguments)}function In(){return In=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return sessionStorage.removeItem(dn),e.next=3,K.post("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),In.apply(this,arguments)}function Tn(e){return sessionStorage.setItem(dn,JSON.stringify(e)),e}function jn(){return JSON.parse(sessionStorage.getItem(dn)||"null")}window.userService=hn,Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:jn(),window.addEventListener("storage",Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(pn){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rn.query("user");case 4:if(t=e.sent,r=t.find((function(e){return e._id===pn._id})),r){e.next=8;break}return e.abrupt("return");case 8:pn=r;case 9:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})))();var Sn={state:{loggedinUser:hn.getLoggedinUser(),users:[],watchedUser:null},getters:{users:function(e){var t=e.users;return t},loggedinUser:function(e){var t=e.loggedinUser;return t},watchedUser:function(e){var t=e.watchedUser;return t}},mutations:{setLoggedinUser:function(e,t){var r=t.user;e.loggedinUser=r?Object(a["a"])({},r):null},setWatchedUser:function(e,t){var r=t.user;e.watchedUser=r},setUsers:function(e,t){var r=t.users;e.users=r},removeUser:function(e,t){var r=t.userId;e.users=e.users.filter((function(e){return e._id!==r}))}},actions:{login:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.user,r.prev=2,r.next=5,hn.login(n);case 5:return s=r.sent,a({type:"setLoggedinUser",user:s}),r.abrupt("return",n);case 10:throw r.prev=10,r.t0=r["catch"](2),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))()},signup:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.user,r.prev=2,r.next=5,hn.signup(n);case 5:return s=r.sent,a({type:"setLoggedinUser",user:s}),r.abrupt("return",n);case 10:throw r.prev=10,r.t0=r["catch"](2),console.log("userStore: Error in signup",r.t0),r.t0;case 14:case"end":return r.stop()}}),r,null,[[2,10]])})))()},logout:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,hn.logout();case 4:r({type:"setLoggedinUser",user:null}),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("userStore: Error in logout",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},loadUsers:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,hn.getUsers();case 4:a=t.sent,r({type:"setUsers",users:a}),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](1),console.log("userStore: Error in loadUsers",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},loadAndWatchUser:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.userId,r.prev=2,r.next=5,hn.getById(n);case 5:s=r.sent,a({type:"setWatchedUser",user:s}),socketService.emit(SOCKET_EMIT_USER_WATCH,n),socketService.off(SOCKET_EVENT_USER_UPDATED),socketService.on(SOCKET_EVENT_USER_UPDATED,(function(e){a({type:"setWatchedUser",user:e})})),r.next=16;break;case 12:throw r.prev=12,r.t0=r["catch"](2),console.log("userStore: Error in loadAndWatchUser",r.t0),r.t0;case 16:case"end":return r.stop()}}),r,null,[[2,12]])})))()},removeUser:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.userId,r.prev=2,r.next=5,hn.remove(n);case 5:a({type:"removeUser",userId:n}),r.next=12;break;case 8:throw r.prev=8,r.t0=r["catch"](2),console.log("userStore: Error in removeUser",r.t0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()},updateUser:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,n=t.user,r.prev=2,r.next=5,hn.update(n);case 5:n=r.sent,a({type:"setUser",user:n}),r.next=13;break;case 9:throw r.prev=9,r.t0=r["catch"](2),console.log("userStore: Error in updateUser",r.t0),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()}}};n["default"].use(Wa["a"]);var Bn=new Wa["a"].Store({state:{},mutations:{},actions:{},modules:{boardStore:tn,userStore:Sn}}),En=(r("f27b"),r("5c96")),On=r.n(En),An=(r("0fae"),r("4897")),Mn=r.n(An),Rn=r("b2d6"),Un=r.n(Rn),Dn=r("1881"),Ln=r.n(Dn),zn=r("f174"),$n=r.n(zn),Pn=r("d1d6"),Nn=r.n(Pn),Vn=r("755e"),Gn=r("c9bf"),Jn=r("4c93");Object(Ra["b"])("required",Object(a["a"])(Object(a["a"])({},Jn["a"]),{},{message:"This field is required"}));var Hn={clientId:"73547935874-acobqisphl71iagl9qa6lt0pirq3m9qa.apps.googleusercontent.com",scope:"profile email",prompt:"select_account",fetch_basic_profile:!0};n["default"].use(Gn["a"],Hn),n["default"].use(Nn.a),n["default"].use($n.a),n["default"].use(On.a),Mn.a.use(Un.a),n["default"].use(Ln.a),n["default"].config.productionTip=!1,new n["default"]({created:function(){this.$store.dispatch({type:"loadBoards"}),this.$store.dispatch({type:"loadUsers"})},router:Qa,store:Bn,render:function(e){return e(C)}}).$mount("#app"),n["default"].use(Vn,{load:{key:"AIzaSyAwGiZvHMgXknOgVGzfiqUHedPY-M9aRpM",libraries:"places"}})},6287:function(e,t,r){e.exports=r.p+"img/undraw_taking_notes_re_bnaf.3e2ce589.svg"},"6d64":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAF7klEQVRoge1ZW2xURRj+Zs6e3W3L9n6hYGltkQK9UCjYcottQoyhT4WEF4QAidGABtBYNRqziZdEkCLG0hhCIIgxLi9oAlIgLFiiLQW7WGnayk3aCi30srTd7p6zZ8YHpCHds2fP6S6XKN/bzvz/P9+3M+ef+WeAp3iK/zdIJIJwO0zwiuvgYZVw80K4eQokiPByCgZABMck4oON9MNGWmCjDljlA8QOf7hjhyWAV4mlGGI70MlK4OaCIWcbUTCNNiKRbiKfyq6JcpiQAP6RJRdd8iF0sIKw/0MBwHP0ItLYSvIxrhh1NyyAv0Or0cy3YJRHZPmNIQYMs+l2Us3eNeKmmwSvRhRa6QW0s1nG2RlALnXhGVZC7JD0mFM9Rnw3EtBMrz108gDQzorgptv0moecAb4PVpwgN9DJU8JjphP55DSp5eV6zUPPQCNtenTkBUPkAcCk1cnfpl+igeXrjmYjCjKpC9H8MNJoPTz+SwAoJFMBJLYEblSim+djSCXl5gtnSK1iiDygsYT4NksOnFIHhnnoWbIRBXl0L2KUN0J9fNyOaAwKu9HBXh4Tco98mVHygJaArUITzivzQ0bIpt2YwYrJ++gxMjD/ADm4Ts/CRtonSh4IIoCficqAn11Gnd+MBgXgQbxn0WYsYwvIKigTJRAugiwPvgkmmFFhAlaLQJSKzmza/bjJAyozwB0QkGb5C8DUsca7HHD4gevs3u9YomAGzyQ70f2oiAZD4AykRj2PB8kDQCwBNohAhene2WUG3f8kkAdU06hSrvppUAALBWAy6cEFedNDZ6YTgQIIKdb0yKIOsg4+vQOkV/0eLAUYQqxpiBfFt179vuqV6Q+2By4hjlzNSBxHI0HIKO76baTbO3nq+PZAAYSkh4h1OVKkjKJPSjCPb1NJo3ySdhjfrUgRMgqP3xrAV9dx+kkBV6mhVASQYc0oJsuUSBEyihjBE5AQVD5iflMzih/ZkaNkDEkWd0D2U/mI0aEZhaIicpSMIcnS3ze+TWUf4E3gpFItQD+zoHYkb0O1A1Vvrvp1VM+gN7cV6qq7tx9YE/Ptn+vdPb7koNczmVHdzePbAmdAEZxqzi3+RGy5uxgNclq0OEmu0UPKCP525+7SIg8AU2J6vxvfFiigbPQcgK77PzmAH71Z+HBoAQaYBQDQIKeuranLzwiX9H3srH0t62TP0vVaNsnmAcWbE+cY3x4ggBAwgBwEgBEu4pOhYuzxzIL/gcLMzcxCl5zY6HSWaZakemB32k1nBhf9ckdK0EzppUm/NdjL7QHXaOpOjNRcUWLlre5FaJRTVU1a5MT0nz3y+XBE2J1205ULk12NA0Wau79I/ci2dG1W61MVQMpHuw55clpvsmhNAk1SypzjI+zG3uO5hveGr0/kTetppe0nexflhbJdnHj+0nsbd1xQ6ws6bXniQGUClVio4C1yYrpzNOfGV8fm7bXvK7OGsj9QVxiz68iCPfUjmddupTdnL518WtM+1jTEc+PbVgTr10xxtUeKqo9KWVv1nofjqaTMNg20xFHf4RTuqzcJ3j+8ZoGNeqNmejl9sY9FL+9Q4ooGmXks2xBOkNRTiOPXV6geFVZMPVZbs7lq44QEAMBnR0qa66X0Ip0aJozUwQycal8L37+ZDgCWJJ9vO1S1QfM6M+Rh7tmR4ZLZwuBDP4H2xneirLAGyeZ+AEBBXFtfSszoglB+unZJpzMr/qQno/WilBSqVggbNtkKsWthd3Zy5zz72s97Q9nrvl53OrOsZz3p585JaQURqRGDYKG5xzWX3C5dvvyyrrLV8CPFnp8Kt53yZbw1xMWI1hKxRGYviN07Xq1wVRnxm9Aryzc/zJveJZodTVLKXMng09h4iGCYb77tyrL0rVy9rOOqUf+wnon21xUU35ajv2hT4kt7WJShHTlJ8PpnCoON0+B9fXWF69E+8o2Hg0MYOlq0xk3ElX3cOueOYk0ZZaJ5GAJlILASP4+D7EugUl+S4L2YQHyO2JdcB1eRx3st+RRP8V/APxpfGCkoT5O8AAAAAElFTkSuQmCC"},"6fac":function(e,t,r){e.exports=r.p+"img/homepage.bc805c80.jpg"},7220:function(e,t,r){e.exports=r.p+"img/6.4b5bb98a.jpg"},7736:function(e,t,r){e.exports=r.p+"img/photos.91363c47.jpg"},"8fc8":function(e,t,r){e.exports=r.p+"img/undraw_work_chat_re_qes4.0b279494.svg"},a760:function(e,t,r){e.exports=r.p+"img/3.9c363ca9.jpg"},ab86:function(e,t,r){e.exports=r.p+"img/4.2d5d5117.jpg"},b78b:function(e,t,r){e.exports=r.p+"img/4871715.3092ff07.png"},bb6e:function(e,t,r){var a={"./1.jpg":"38f3","./2.jpg":"cedd","./3.jpg":"a760","./4.jpg":"ab86","./4871715.png":"b78b","./5.jpg":"4e68","./6.jpg":"7220","./7.jpg":"de17","./homepage.jpg":"6fac","./icons8-google-48.png":"6d64","./icons8-google.svg":"d06a","./loader48x48.gif":"f737","./loading.gif":"f8b2","./outline_filter_list_white_24dp.png":"ea7b","./photos.jpg":"7736","./rainbow.jpg":"edda","./undraw_completed_tasks_vs6q.svg":"3f1b","./undraw_taking_notes_re_bnaf.svg":"6287","./undraw_work_chat_re_qes4.svg":"8fc8"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id="bb6e"},bced:function(e,t,r){},c193:function(e,t,r){"use strict";r("bced")},cedd:function(e,t,r){e.exports=r.p+"img/2.f2e803d7.jpg"},d06a:function(e,t,r){e.exports=r.p+"img/icons8-google.648fa9fa.svg"},de17:function(e,t,r){e.exports=r.p+"img/7.c5826275.jpg"},ea7b:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAALklEQVRYhe3SMQ0AAAjAMPybBg8EAkdrYM8iAJ7JIQL9AMxaX1MADqxvKQBwqQCAwh3/5fMWOgAAAABJRU5ErkJggg=="},edda:function(e,t,r){e.exports=r.p+"img/rainbow.334ce22c.jpg"},f27b:function(e,t,r){},f737:function(e,t,r){e.exports=r.p+"img/loader48x48.535bccce.gif"},f8b2:function(e,t,r){e.exports=r.p+"img/loading.cf954d91.gif"}});
//# sourceMappingURL=app.fa3e6b23.js.map